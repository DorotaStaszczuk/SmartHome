/*! For license information please see main-es2015.537c4afe13b214abd9e6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return s}));class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class c extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const h=class extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=i.a.EMPTY):this._connection=t),t}refCount(){return u()(this)}}.prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}n.d(e,"ib",(function(){return no})),n.d(e,"jb",(function(){return ro})),n.d(e,"kb",(function(){return io})),n.d(e,"lb",(function(){return so})),n.d(e,"hb",(function(){return ts})),n.d(e,"gb",(function(){return qi})),n.d(e,"g",(function(){return zs})),n.d(e,"Q",(function(){return Fs})),n.d(e,"w",(function(){return Ms})),n.d(e,"R",(function(){return Kt})),n.d(e,"V",(function(){return $t})),n.d(e,"c",(function(){return Xi})),n.d(e,"A",(function(){return ns})),n.d(e,"z",(function(){return rs})),n.d(e,"b",(function(){return is})),n.d(e,"d",(function(){return Yi})),n.d(e,"e",(function(){return Zi})),n.d(e,"T",(function(){return Xs})),n.d(e,"K",(function(){return As})),n.d(e,"X",(function(){return Ds})),n.d(e,"s",(function(){return os})),n.d(e,"f",(function(){return oo})),n.d(e,"m",(function(){return Wi})),n.d(e,"l",(function(){return Bt})),n.d(e,"F",(function(){return ye})),n.d(e,"G",(function(){return ge})),n.d(e,"a",(function(){return Ze})),n.d(e,"O",(function(){return J})),n.d(e,"M",(function(){return Pn})),n.d(e,"L",(function(){return Rn})),n.d(e,"Lb",(function(){return E})),n.d(e,"S",(function(){return O})),n.d(e,"p",(function(){return He})),n.d(e,"Mb",(function(){return q})),n.d(e,"U",(function(){return z})),n.d(e,"o",(function(){return P})),n.d(e,"n",(function(){return g})),n.d(e,"y",(function(){return y})),n.d(e,"H",(function(){return b})),n.d(e,"x",(function(){return Ss})),n.d(e,"C",(function(){return jn})),n.d(e,"D",(function(){return An})),n.d(e,"E",(function(){return Nn})),n.d(e,"i",(function(){return ds})),n.d(e,"j",(function(){return Sn})),n.d(e,"k",(function(){return On})),n.d(e,"t",(function(){return $})),n.d(e,"v",(function(){return G})),n.d(e,"u",(function(){return Hs})),n.d(e,"B",(function(){return Ji})),n.d(e,"I",(function(){return Ks})),n.d(e,"J",(function(){return Gs})),n.d(e,"N",(function(){return Xn})),n.d(e,"h",(function(){return Ve})),n.d(e,"q",(function(){return $n})),n.d(e,"r",(function(){return Kn})),n.d(e,"P",(function(){return sn})),n.d(e,"W",(function(){return eo})),n.d(e,"ub",(function(){return on})),n.d(e,"ab",(function(){return ss})),n.d(e,"Y",(function(){return ze})),n.d(e,"Z",(function(){return Tn})),n.d(e,"db",(function(){return pe})),n.d(e,"eb",(function(){return _e})),n.d(e,"fb",(function(){return Yt})),n.d(e,"tb",(function(){return D})),n.d(e,"xb",(function(){return nn})),n.d(e,"Fb",(function(){return I})),n.d(e,"vb",(function(){return yn})),n.d(e,"wb",(function(){return gn})),n.d(e,"sb",(function(){return $i})),n.d(e,"rb",(function(){return Ki})),n.d(e,"bb",(function(){return zi})),n.d(e,"cb",(function(){return Bi})),n.d(e,"Kb",(function(){return ot})),n.d(e,"Ib",(function(){return Xe})),n.d(e,"Ob",(function(){return un})),n.d(e,"Nb",(function(){return ln})),n.d(e,"Jb",(function(){return cn})),n.d(e,"Pb",(function(){return dn})),n.d(e,"mb",(function(){return ei})),n.d(e,"nb",(function(){return ka})),n.d(e,"ob",(function(){return mr})),n.d(e,"pb",(function(){return Ii})),n.d(e,"qb",(function(){return ao})),n.d(e,"yb",(function(){return Wr})),n.d(e,"zb",(function(){return Kr})),n.d(e,"Ab",(function(){return vo})),n.d(e,"Bb",(function(){return di})),n.d(e,"Db",(function(){return xi})),n.d(e,"Cb",(function(){return _o})),n.d(e,"Eb",(function(){return fo})),n.d(e,"Gb",(function(){return wo})),n.d(e,"Hb",(function(){return To}));const g=m("Inject",t=>({token:t})),y=m("Optional"),v=m("Self"),b=m("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function w(t){for(let e in t)if(t[e]===w)return e;throw Error("Could not find renamed property on target object.")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){const e=t[T];return e&&e.token===t?e:null}const T=w({ngInjectableDef:w});function I(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const x=w({__forward_ref__:w});function O(t){return t.__forward_ref__=O,t.toString=function(){return I(this())},t}function C(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(x)&&e.__forward_ref__===O?e():t}const k="undefined"!=typeof globalThis&&globalThis,A="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,D=k||j||A||N;class P{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const R=new P("INJECTOR",-1),L=new Object,M=/\n/gm,F=w({provide:String,useValue:w});let U=void 0;function V(t){const e=U;return U=t,e}function q(t,e=_.Default){return function(t,e=_.Default){if(void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;throw new Error(`Injector: NOT_FOUND [${I(t)}]`)}(t,0,e):U.get(t,e&_.Optional?null:void 0,e)}(t,e)}const z=q;class B{get(t,e=L){if(e===L){const e=new Error(`NullInjectorError: No provider for ${I(t)}!`);throw e.name="NullInjectorError",e}return e}}function H(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=I(e);if(e instanceof Array)i=e.map(I).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):I(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(M,"\n  ")}`}class G{}class ${}function K(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function W(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Q=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),J=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Y={},Z=[],X=w({ngComponentDef:w}),tt=w({ngDirectiveDef:w}),et=w({ngPipeDef:w});let nt=0;function rt(t){return function(t){return t[X]||null}(t)||function(t){return t[tt]||null}(t)}function it(t){return function(t){return t[et]||null}(t)}function st(t,e){if(null==t)return Y;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=function(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||J.Emulated,id:"c",styles:t.styles||Z,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:()=>{const n=t.directives,s=t.features,o=t.pipes;i.id+=nt++,i.inputs=st(t.inputs,r),i.outputs=st(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(rt):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(it):null,e.hasOwnProperty(T)||(e[T]=E({token:e,factory:t.factory}))}},i};let at=null;const ut=new Map;let lt,ct=null;function ht(t,e){return ct&&t===ct||(ct=t,e&&(at=ut.get(t)||null),at=at||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),at}function dt(t,e){return function(t){for(;Array.isArray(t);)t=t[0];return t}(e[t.index])}function ft(t,e){return e[1].data[t+19]}function pt(){return lt}const mt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D))();function gt(t,e){0===e?t[2]>0&&function(t){vt(t,2|yt(t))}(t):t[2]=e}function yt(t){return t[1]}function vt(t,e){t[1]=e}function bt(t,e){return t[e+2]}function _t(t,e){return 1&t[e+0]}function wt(t,e){return(1&_t(t,e))>0}function Et(t,e){return t[e+0]>>1}function St(t,e,n){const r=_t(t,e);t[e+0]=r|n<<1}function Tt(t,e){return t[e+1]}function It(t,e,n){return t[e+3+n]}function xt(t,e){return!(!t||e!==t[2])}function Ot(t){return(1&yt(t))>0}function Ct(t){return(2&yt(t))>0}function kt(t){return 6+t[4]}function At(t,e){let n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function Nt(t){return null!=t&&""!==t}function jt(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function Dt(t){return Pt(t)?t[0]:t}function Pt(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function Rt(t,e){return t[e+0]}function Lt(t,e,n){t[e+1]=n}function Mt(t,e){return t[e+1]}const Ft=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function Ut(t){return!!t.listen}function Vt(t){return t.ngDebugContext}function qt(t){return t.ngOriginalError}function zt(t,...e){t.error(...e)}class Bt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Vt(t)?Vt(t):this._findContext(qt(t)):null}_findOriginalError(t){let e=qt(t);for(;e&&qt(e);)e=qt(e);return e}}let Ht=!0,Gt=!1;function $t(){return Gt=!0,Ht}function Kt(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Ht=!1}class Wt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Jt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yt(t){return(t=String(t)).match(Qt)||t.match(Jt)?t:($t()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Zt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const te=Zt("area,br,col,hr,img,wbr"),ee=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=Zt("rp,rt"),re=Xt(ne,ee),ie=Xt(te,Xt(ee,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xt(ne,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),se=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oe=Zt("srcset"),ae=Xt(se,oe,Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=Zt("script,style,template");class le{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ae.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;se[s]&&(o=Yt(o)),oe[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Yt(t.trim())).join(", ")),this.buf.push(" ",e,'="',de(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(de(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function de(t){return t.replace(/&/g,"&amp;").replace(ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fe;function pe(t,e){let n=null;try{fe=fe||new Wt(t);let r=e?String(e):"";n=fe.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=fe.getInertBodyElement(r)}while(r!==s);const o=new le,a=o.sanitizeChildren(me(n)||n);return $t()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=me(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function me(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ge=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class ye{}const ve=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),be=/^url\(([^)]+)\)$/;function _e(t){if(!(t=String(t).trim()))return"";const e=t.match(be);return e&&Yt(e[1])===e[1]||t.match(ve)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:($t()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function we(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Ee,(...t)=>"-"+t[1].toLowerCase())}const Ee=/([A-Z])/g;function Se(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Te=[];function Ie(t,e,n,r,i,s,o,a,u){Ot(t)||(o?function(t,e,n,r,i){Te.unshift(t,e,n,r,i)}(t,n,r,i,u):(Te.length&&xe(),Oe(t,n,r,i,u)));const l=a||At(e[i],s);return l&&(e[i]=s),l}function xe(){let t=0;for(;t<Te.length;)Oe(Te[t++],Te[t++],Te[t++],Te[t++],Te[t++]);Te.length=0}function Oe(t,e,n,r,i){let s=!1;if(n){let o=!1,a=kt(t);for(;a<t.length;){const s=Tt(t,a),u=bt(t,a);if(o=n<=u,o){n<u&&Ce(t,a,n,i),ke(t,!1,a,r,e);break}a+=3+s}o||(Ce(t,t.length,n,i),ke(t,!1,a,r,e),s=!0)}else ke(t,!0,3,r,e),s=!0;return s}function Ce(t,e,n,r){t.splice(e,0,r?1:0,1,n,null),St(t,e,1)}function ke(t,e,n,r,i){const s=n+3;let o=s+Tt(t,n);if(e||o--,"number"==typeof r){for(let e=s;e<=o;e++)if(t[e]===r)return;t.splice(o,0,r),t[n+1]++,St(t,n,Et(t,n)|1<<i)}else null!==r&&null==t[o]&&(t[o]=r)}function Ae(t,e,n,r,i,s,o,a){return i&&r&&(function(t){if(!Ot(t)){const e=Dt(t);e&&function(t,e){for(let n=1;n<e.length;n+=2){const r=Mt(e,n);r&&Oe(t,-1,Rt(e,n),r,!1)}}(t,e),function(t){vt(t,1|yt(t))}(t)}}(r),function(t,e){return t&&e>0}(r,s))?(function(t,e,n,r,i,s,o){const a=!0===(u=i)?-1:!1===u?0:u;var u;const l=Ne,c=(a&Et(t,3))>0?1:0;let h=kt(t);for(;h<t.length;){const i=Tt(t,h);if(a&Et(t,h)){let a=!1;const u=bt(t,h),d=i-1,f=It(t,h,d);for(let i=0;i<d;i++){const l=It(t,h,i),c=r[l];if(Nt(c)){s(e,n,u,o&&wt(t,h)?o(u,c,2):c,l),a=!0;break}}if(l){const i=l(t,e,n,r,s,o,c|(a?4:2),u,f);a=a||i}a||s(e,n,u,f)}h+=3+i}l&&l(t,e,n,r,s,o,c)}(r,t,e,n,s,o,a),!0):i}let Ne=null;const je=(t,e,n,r)=>{const i=e.style;r?(r=r.toString(),t&&Ut(t)?t.setStyle(e,n,r,Ft.DashCase):i&&i.setProperty(n,r)):t&&Ut(t)?t.removeStyle(e,n,Ft.DashCase):i&&i.removeProperty(n)},De=(t,e,n,r)=>{if(""!==n){const i=e.classList;r?t&&Ut(t)?t.addClass(e,n):i&&i.add(n):t&&Ut(t)?t.removeClass(e,n):i&&i.remove(n)}},Pe={},Re=(t,e,n,r,i,s,o,a,u)=>{let l=!1;if(Tt(t,3)){let c=!0;const h=!a;h&&-2&o&&(c=!1,l=!0),c&&(l=function t(e,n,r,i,s,o,a,u,l,c){let h=!1;if(l<Tt(e,3)){const d=It(e,3,l),f=i[d];let p=function(t){return t>=Fe.length&&Fe.push(1),Fe[t]}(l);for(;p<f.length;){const m=Rt(f,p),g=u&&m>u,y=!g&&m===u,v=Mt(f,p),b=Nt(v);let _=t(e,n,r,i,s,o,g?a:Le(a,b,y),g?u:m,l+1,c);if(g){h||(h=_);break}if(!_&&Me(a,y)){const t=y&&!b,e=t?c:v,i=t?d:null;s(n,r,m,o?o(m,e,3):e,i),_=!0}h=_&&y,p+=2}if(Fe[l]=p,1===f.length||!u)return t(e,n,r,i,s,o,a,u,l+1,c)}return h}(t,e,n,r,i,s,o,a||null,0,u||null)),h&&function(){for(let t=0;t<Fe.length;t++)Fe[t]=1}()}return l};function Le(t,e,n){let r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Me(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const Fe=[];function Ue(t,e,n,r){for(let i=1;i<t.length;i+=2){const s=Rt(t,i);if(e<=s){let o=!1;if(s===e){const e=t[i];!r&&Nt(e)||(o=!0,Lt(t,i,n))}else o=!0,t.splice(i,0,e,n);return o}}return t.push(e,n),!0}let Ve=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qe(),t})();const qe=(...t)=>{},ze=new P("The presence of this token marks an injector as being the root injector."),Be=function(t,e,n){return new Qe(t,e,n)};let He=(()=>{class t{static create(t,e){return Array.isArray(t)?Be(t,e,""):Be(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=L,t.NULL=new B,t.ngInjectableDef=E({token:t,providedIn:"any",factory:()=>q(R)}),t.__NG_ELEMENT_ID__=-1,t})();const Ge=function(t){return t},$e=[],Ke=Ge,We=function(){return Array.prototype.slice.call(arguments)};class Qe{constructor(t,e=He.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(He,{token:He,fn:Ge,deps:$e,value:this,useNew:!1}),r.set(R,{token:R,fn:Ge,deps:$e,value:this,useNew:!1}),function t(e,n){if(n)if((n=C(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ye("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ye("Unexpected provider",n);{let t=C(n.provide);const r=function(t){const e=function(t){let e=$e;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=C(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof y||n==y?r|=1:n instanceof b||n==b?r&=-3:n instanceof v||n==v?r&=-5:i=n instanceof g?n.token:C(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:C(t.useExisting),options:6}];else if(!n&&!(F in t))throw Ye("'deps' required",t);return e}(t);let n=Ge,r=$e,i=!1,s=C(t.provide);if(F in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=C(t.useClass);else{if("function"!=typeof s)throw Ye("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==We)throw Je(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:We,value:$e});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==We)throw Je(t);e.set(t,r)}}}(r,t)}get(t,e,n=_.Default){const r=this._records.get(t);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&_.SkipSelf)o&_.Self||(a=i.get(e,s,_.Default));else{if(a=n.value,a==Ke)throw Error("\u0275Circular dependency");if(a===$e){n.value=Ke;let e=void 0,s=n.useNew,o=n.fn,u=n.deps,l=$e;if(u.length){l=[];for(let e=0;e<u.length;e++){const n=u[e],s=n.options,o=2&s?r.get(n.token):void 0;l.push(t(n.token,o,r,o||4&s?i:He.NULL,1&s?null:He.THROW_IF_NOT_FOUND,_.Default))}}n.value=a=s?new o(...l):o.apply(e,l)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Ke&&(n.value=$e),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=H("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(I(n))),`StaticInjector[${t.join(", ")}]`}}function Je(t){return Ye("Cannot mix multi providers and regular providers",t)}function Ye(t,e){return new Error(H(t,e,"StaticInjectorError"))}const Ze=new P("AnalyzeForEntryComponents");function Xe(t){const e=(void 0)[1];e.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(e,0,t),function(t,e,n){for(let r=0;r<n;r++)(void 0).push(Pe),t.blueprint.push(Pe),t.data.push(null)}(e,0,t))}let tn=null;function en(){if(!tn){const t=D.Symbol;if(t&&t.iterator)tn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(tn=n)}}}return tn}function nn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function rn(t,e){const n=on(t),r=on(e);if(n&&r)return function(t,e,n){const r=t[en()](),i=e[en()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,rn);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||nn(t,e)}}class sn{constructor(t){this.wrapped=t}static wrap(t){return new sn(t)}static unwrap(t){return sn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof sn}}function on(t){return!!an(t)&&(Array.isArray(t)||!(t instanceof Map)&&en()in t)}function an(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function un(){(void 0)[1].firstTemplatePass&&(1,gt(pn(void 0),1),gt(fn(void 0),1))}function ln(t){const e=ft(-1,void 0),n=fn(e),r=(void 0)[7]++;hn(-1,n,r,t,!1,!1)}function cn(t){!function(t,e){const n=ft(-1,void 0),r=pn(n),i=(void 0)[7]++;hn(-1,r,i,e,!0,!1)}(0,t)}function hn(t,e,n,r,i,s){Ne=Re;let o=!1;if(r!==Pe){const a=dt(ft(t,void 0),void 0),u=(void 0)[n];o=At(u,r);const l=function(t,e,n){const r=Array.isArray(t)?t:[null];r[0]=e||null;for(let a=1;a<r.length;a+=2)Lt(r,a,null);let i,s=null,o=!1;if("string"==typeof e?e.length&&(s=e.split(/\s+/),o=!0):(s=e?Object.keys(e):null,i=e),s)for(let a=0;a<s.length;a++){const t=s[a];Ue(r,n?jt(t):t,!!o||i[t],!0)}return r}(u,r,!i);i?function(t,e,n,r,i,s,o,a){const u=ht(n,Ct(t));!Ie(t,void 0,0,null,i,s,o,a,!1)&&!a||(u.classesBitMask|=1)}(e,0,a,0,n,l,s,o):function(t,e,n,r,i,s,o,a,u){const l=ht(n,Ct(t));!Ie(t,void 0,0,null,i,s,a,u,!0)&&!u||(l.stylesBitMask|=1)}(e,0,a,0,n,l,pt(),s,o)}return o}function dn(){const t=ft(-1,void 0),e=function(t,e){return 3===t.type?(void 0)[12]:null}(t),n=dt(t,void 0),r=pt();(function(t,e,n,r,i,s,o){const a=n?Ct(n):!!r&&Ct(r),u=xt(n,s),l=xt(r,s);Te.length&&(u||l)&&xe();const c=ht(i,a),h=Ae(t,i,e,n,u,c.classesBitMask,De,null),d=Ae(t,i,e,r,l,c.stylesBitMask,je,o);h&&d?(at=null,ct=null,a&&function(t){ut.delete(t)}(i)):a&&function(t,e){ut.set(t,e)}(i,c)})(e,void 0,pn(t),fn(t),n,1,r),lt=null}function fn(t){return mn(t,!1)}function pn(t){return mn(t,!0)}function mn(t,e){let n=e?t.classes:t.styles;return Pt(n)||(n=[n||[""],0,0,1,0,"--MAP--"],e?t.classes=n:t.styles=n),n}function gn(t){return!!t&&"function"==typeof t.then}function yn(t){return!!t&&"function"==typeof t.subscribe}class vn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class bn{}function _n(t){const e=Error(`No component factory found for ${I(t)}. Did you add it to @NgModule.entryComponents?`);return e[wn]=t,e}const wn="ngComponent";class En{resolveComponentFactory(t){throw _n(t)}}let Sn=(()=>{class t{}return t.NULL=new En,t})();class Tn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw _n(t);return new In(e,this._ngModule)}}class In extends bn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function xn(...t){}let On=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Cn(t),t})();const Cn=xn;class kn{}class An{}const Nn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let jn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Dn(),t})();const Dn=xn;class Pn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rn=new Pn("8.2.14");class Ln{constructor(){}supports(t){return on(t)}create(t){return new Fn(t)}}const Mn=(t,e)=>e;class Fn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<zn(n,r,i)?e:n,o=zn(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!on(t))throw new Error(`Error trying to diff '${I(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&nn(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),nn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[en()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&nn(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),nn(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(nn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(nn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Un(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Un{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&nn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Vn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bn{constructor(){}supports(t){return t instanceof Map||an(t)}create(){return new Hn}}class Hn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||an(t)))throw new Error(`Error trying to diff '${I(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){nn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let $n=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new Ln])}),t})(),Kn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new Bn])}),t})();const Wn=[new Bn],Qn=new $n([new Ln]),Jn=new Kn(Wn);let Yn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zn(t,On),t})();const Zn=xn;let Xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>tr(t,On),t})();const tr=xn;function er(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return nr(n,e),n}(i,t)}function nr(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function rr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function ir(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function sr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function or(t,e){return t.nodes[e]}function ar(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}function lr(t,e){return t.nodes[e]}function cr(t,e){return t.nodes[e]}const hr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},dr=()=>{},fr=new Map;function pr(t){let e=fr.get(t);return e||(e=I(t)+"_"+fr.size,fr.set(t,e)),e}function mr(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let gr=0;function yr(t,e,n,r){return!(!(2&t.state)&&nn(t.oldValues[e.bindingIndex+n],r))}function vr(t,e,n,r){return!!yr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function br(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!rn(i,r)){const s=e.bindings[n].name;throw er(hr.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function _r(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function wr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Er(t,e,n,r){try{return _r(33554432&t.def.nodes[e].flags?ar(t,e).componentView:t),hr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Sr(t){return t.parent?ar(t.parent,t.parentNodeDef.nodeIndex):null}function Tr(t){return t.parent?t.parentNodeDef.parent:null}function Ir(t,e){switch(201347067&e.flags){case 1:return ar(t,e.nodeIndex).renderElement;case 2:return or(t,e.nodeIndex).renderText}}function xr(t,e){return t?`${t}:${e}`:e}function Or(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Cr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function kr(t){return 1<<t%32}function Ar(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=kr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Nr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:pr(n)}})}function jr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===J.Native?ar(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Dr=new WeakMap;function Pr(t){let e=Dr.get(t);return e||(e=t(()=>dr),e.factory=t,Dr.set(t,e)),e}function Rr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Ir(t,t.def.lastRenderRootNode))),Lr(t,e,0,t.def.nodes.length-1,n,r,i)}function Lr(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Fr(t,n,e,i,s,o),a+=n.childCount}}function Mr(t,e,n,r,i,s){let o=t;for(;o&&!Or(o);)o=o.parent;const a=o.parent,u=Tr(o),l=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=l;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Fr(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)Ur(t,o[e],n,r,i,s)}}function Fr(t,e,n,r,i,s){if(8&e.flags)Mr(t,e.ngContent.index,n,r,i,s);else{const o=Ir(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ur(t,o,n,r,i,s),32&e.bindingFlags&&Ur(ar(t,e.nodeIndex).componentView,o,n,r,i,s)):Ur(t,o,n,r,i,s),16777216&e.flags){const o=ar(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)Rr(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&Lr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function Ur(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const Vr=/^:([^:]+):(.+)$/;function qr(t){if(":"===t[0]){const e=t.match(Vr);return[e[1],e[2]]}return["",t]}function zr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const Br=new Object,Hr=pr(He),Gr=pr(R),$r=pr(G);function Kr(t,e,n,r){return n=C(n),{index:-1,deps:Nr(r,I(e)),flags:t,token:e,value:n}}function Wr(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const s=t[i];s.token===ze&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,e[pr(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Qr(t,e,n=He.THROW_IF_NOT_FOUND){const r=V(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Hr:case Gr:case $r:return t}const a=t._def.providersByKey[o];let u;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Jr(t,a)),e===Br?void 0:e}if((u=S(e.token))&&(i=t,null!=(s=u).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=Br,t._providers[n]=Jr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{V(r)}var i,s}function Jr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Qr(t,n[0]));case 2:return new e(Qr(t,n[0]),Qr(t,n[1]));case 3:return new e(Qr(t,n[0]),Qr(t,n[1]),Qr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Qr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Qr(t,n[0]));case 2:return e(Qr(t,n[0]),Qr(t,n[1]));case 3:return e(Qr(t,n[0]),Qr(t,n[1]),Qr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Qr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Qr(t,e.deps[0]);break;case 256:n=e.value}return n===Br||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Br:n}function Yr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,W(n,e),hr.dirtyParentQueries(r),Xr(r),r}function Zr(t,e,n){const r=e?Ir(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Rr(n,2,i,s,void 0)}function Xr(t){Rr(t,3,null,null,void 0)}const ti=new Object;function ei(t,e,n,r,i,s){return new ni(t,e,n,r,i,s)}class ni extends bn{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Pr(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=hr.createRootView(t,e||[],n,i,r,ti),a=ur(o,s).instance;return n&&o.renderer.setAttribute(ar(o,0).renderElement,"ng-version",Rn.full),new ri(o,new ai(o),a)}}class ri extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new On(ar(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new hi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ii(t,e,n){return new si(t,e,n)}class si{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new On(this._data.renderElement)}get injector(){return new hi(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Tr(t),t=t.parent;return t?new hi(t,e):new hi(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Yr(this._data,t);hr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new ai(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof In||(i=s.get(G));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,K(i,n,r),function(t,e){const n=Sr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),hr.dirtyParentQueries(r),Zr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];W(r,e),null==n&&(n=r.length),K(r,n,i),hr.dirtyParentQueries(i),Xr(i),Zr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Yr(this._data,t);e&&hr.destroyView(e)}detach(t){const e=Yr(this._data,t);return e?new ai(e):null}}function oi(t){return new ai(t)}class ai{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Rr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){_r(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{hr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){hr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Xr(this._view),hr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ui(t,e){return new li(t,e)}class li extends Yn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new ai(hr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new On(ar(this._parentView,this._def.nodeIndex).renderElement)}}function ci(t,e){return new hi(t,e)}class hi{constructor(t,e){this.view=t,this.elDef=e}get(t,e=He.THROW_IF_NOT_FOUND){return hr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:pr(t)},e)}}function di(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=ar(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return or(t,n.nodeIndex).renderText;if(20240&n.flags)return ur(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function fi(t){return new pi(t.renderer)}class pi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=qr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=qr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function mi(t,e,n,r){return new gi(t,e,n,r)}class gi{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Jr(t,i))}}(this)}get(t,e=He.THROW_IF_NOT_FOUND,n=_.Default){let r=0;return n&_.SkipSelf?r|=1:n&_.Self&&(r|=4),Qr(this,{token:t,tokenKey:pr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Sn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${I(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Br){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const yi=pr(kn),vi=pr(jn),bi=pr(On),_i=pr(Xn),wi=pr(Yn),Ei=pr(Ve),Si=pr(He),Ti=pr(R);function Ii(t,e,n,r,i,s,o,a){const u=[];if(o)for(let c in o){const[t,e]=o[c];u[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const l=[];if(a)for(let c in a)l.push({type:1,propName:c,target:null,eventName:a[c]});return Oi(t,e|=16384,n,r,i,i,s,u,l)}function xi(t,e,n,r,i){return Oi(-1,t,e,0,n,r,i)}function Oi(t,e,n,r,i,s,o,a,u){const{matchedQueries:l,references:c,matchedQueryIds:h}=Ar(n);u||(u=[]),a||(a=[]),s=C(s);const d=Nr(o,I(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:zr(a),outputs:u,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Ci(t,e){return ji(t,e)}function ki(t,e){let n=t;for(;n.parent&&!Or(n);)n=n.parent;return Di(n.parent,Tr(n),!0,e.provider.value,e.provider.deps)}function Ai(t,e){const n=Di(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!yn(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(Ni(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Ni(t,e,n){return r=>Er(t,e,n,r)}function ji(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Di(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Ri(t,e,n,i[0]));case 2:return r(Ri(t,e,n,i[0]),Ri(t,e,n,i[1]));case 3:return r(Ri(t,e,n,i[0]),Ri(t,e,n,i[1]),Ri(t,e,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=Ri(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return Ri(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Di(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Ri(t,e,n,i[0]));case 2:return new r(Ri(t,e,n,i[0]),Ri(t,e,n,i[1]));case 3:return new r(Ri(t,e,n,i[0]),Ri(t,e,n,i[1]),Ri(t,e,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=Ri(t,e,n,i[r]);return new r(...o)}}const Pi={};function Ri(t,e,n,r,i=He.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Ei&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case yi:return fi(Li(a,e,n));case vi:return Li(a,e,n).renderer;case bi:return new On(ar(a,e.nodeIndex).renderElement);case _i:return ar(a,e.nodeIndex).viewContainer;case wi:if(e.element.template)return ar(a,e.nodeIndex).template;break;case Ei:return oi(Li(a,e,n));case Si:case Ti:return ci(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=ur(a,t.nodeIndex);return e||(e={instance:ji(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Or(a),e=Tr(a),a=a.parent,4&r.flags&&(a=null)}const u=s.root.injector.get(r.token,Pi);return u!==Pi||i===Pi?u:s.root.ngModule.injector.get(r.token,i)}function Li(t,e,n){let r;if(n)r=ar(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Or(r);)r=r.parent;return r}function Mi(t,e,n,r,i,s){if(32768&n.flags){const e=ar(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=sn.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new vn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Fi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&Vi(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Ui(t,o,e,r)),o=o.parent}}function Ui(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Vi(t,i,e.flags&n,r++),i+=e.childCount}return r}function Vi(t,e,n,r){const i=ur(t,e);if(!i)return;const s=i.instance;s&&(hr.setCurrentNode(t,e),1048576&n&&sr(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&sr(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const qi=new P("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mt}),zi={},Bi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Hi=void 0;var Gi=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function $i(t){return Ki(t)[Bi.PluralCase]}function Ki(t){const e=t.toLowerCase().replace(/_/g,"-");let n=zi[e];if(n)return n;const r=e.split("-")[0];if(n=zi[r],n)return n;if("en"===r)return Gi;throw new Error(`Missing locale data for the locale "${t}".`)}class Wi extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Qi(){return this._results[en()]()}class Ji{constructor(){this.dirty=!0,this._results=[],this.changes=new Wi,this.length=0;const t=en(),e=Ji.prototype;e[t]||(e[t]=Qi)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Yi=new P("Application Initializer");class Zi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();gn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Xi=new P("AppId");function ts(){return`${es()}${es()}${es()}`}function es(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ns=new P("Platform Initializer"),rs=new P("Platform ID"),is=new P("appBootstrapListener");class ss{log(t){console.log(t)}warn(t){console.warn(t)}}const os=new P("LocaleId");function as(){throw new Error("Runtime compiler is not loaded")}const us=as,ls=as,cs=as,hs=as;class ds{constructor(){this.compileModuleSync=us,this.compileModuleAsync=ls,this.compileModuleAndAllComponentsSync=cs,this.compileModuleAndAllComponentsAsync=hs}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class fs{}let ps,ms;function gs(){const t=D.wtf;return!(!t||(ps=t.trace,!ps)||(ms=ps.events,0))}const ys=gs();function vs(t,e){return null}const bs=ys?function(t,e=null){return ms.createScope(t,e)}:(t,e)=>vs,_s=ys?function(t,e){return ps.leaveScope(t,e),e}:(t,e)=>e,ws=(()=>Promise.resolve(0))();function Es(t){"undefined"==typeof Zone?ws.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ss{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wi(!1),this.onMicrotaskEmpty=new Wi(!1),this.onStable=new Wi(!1),this.onError=new Wi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,s,o)=>{try{return Os(e),t.invokeTask(r,i,s,o)}finally{Cs(e)}},onInvoke:(t,n,r,i,s,o,a)=>{try{return Os(e),t.invoke(r,i,s,o,a)}finally{Cs(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,xs(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ss.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ss.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Is,Ts,Ts);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ts(){}const Is={};function xs(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Os(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cs(t){t._nesting--,xs(t)}class ks{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wi,this.onMicrotaskEmpty=new Wi,this.onStable=new Wi,this.onError=new Wi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class As{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ss.assertNotInAngularZone(),Es(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Es(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Ns{constructor(){this._applications=new Map,Rs.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Rs.findTestabilityInTree(this,t,e)}}class js{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ds(t){Rs=t}let Ps,Rs=new js;const Ls=new P("AllowMultipleToken");class Ms{constructor(t,e){this.name=t,this.token=e}}function Fs(t,e,n=[]){const r="Platform: "+e,i=new P(r);return(e=[])=>{let s=Us();if(!s||s.injector.get(Ls,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ps&&!Ps.destroyed&&!Ps.injector.get(Ls,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ps=t.get(Vs);const e=t.get(ns,null);e&&e.forEach(t=>t())}(He.create({providers:t,name:r}))}return function(t){const e=Us();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Us(){return Ps&&!Ps.destroyed?Ps:null}class Vs{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new ks:("zone.js"===t?void 0:t)||new Ss({enableLongStackTrace:$t()}),e}(e?e.ngZone:void 0),r=[{provide:Ss,useValue:n}];return n.run(()=>{const e=He.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Bt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Bs(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return gn(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Zi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=qs({},e);return function(t,e,n){return t.get(fs).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(zs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${I(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function qs(t,e){return Array.isArray(e)?e.reduce(qs,t):Object.assign({},t,e)}let zs=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$t(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ss.assertNotInAngularZone(),Es(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ss.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,c.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof bn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof In?null:this._injector.get(G),i=n.create(He.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(As,null);return s&&i.injector.get(Ns).registerApplication(i.location.nativeElement,s),this._loadComponent(i),$t()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,_s(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Bs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(is,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Bs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=bs("ApplicationRef#tick()"),t})();function Bs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Hs{}class Gs{}const $s={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ks{constructor(t,e){this._compiler=t,this._config=e||$s}load(t){return this._compiler instanceof ds?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ws(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ws(t,e,r))}}function Ws(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Qs{constructor(t,e){this.name=t,this.callback=e}}class Js{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Ys&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ys extends Js{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Ys&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Ys&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Ys&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ys)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Zs=new Map,Xs=function(t){return Zs.get(t)||null};function to(t){Zs.set(t.nativeNode,t)}const eo=Fs(null,"core",[{provide:rs,useValue:"unknown"},{provide:Vs,deps:[He]},{provide:Ns,deps:[]},{provide:ss,deps:[]}]);function no(){return Qn}function ro(){return Jn}function io(t){return t||"en-US"}function so(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class oo{constructor(t){}}function ao(t,e,n,r,i,s,o=[],a,u,l,c,h){l||(l=dr);const{matchedQueries:d,references:f,matchedQueryIds:p}=Ar(n);let m=null,g=null;s&&([m,g]=qr(s)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=qr(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}u=u||[];const v=new Array(u.length);for(let _=0;_<u.length;_++){const[t,e]=u[_];v[_]={type:0,target:t,eventName:e,propName:null}}const b=(o=o||[]).map(([t,e])=>{const[n,r]=qr(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==J.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+gr++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:zr(y),outputs:v,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||dr},provider:null,text:null,query:null,ngContent:null}}function uo(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=jr(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===J.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function lo(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=co(t,n.nodeIndex,xr(s.target,s.eventName));let a=s.target,u=t;"component"===s.target&&(a=null,u=e);const l=u.renderer.listen(a||r,s.eventName,o);t.disposables[n.outputIndex+i]=l}}function co(t,e,n){return r=>Er(t,e,n,r)}function ho(t,e,n,r){if(!vr(t,e,n,r))return!1;const i=e.bindings[n],s=ar(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const u=t.renderer;null!=s?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(ge.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function fo(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:kr(e),bindings:r},ngContent:null}}function po(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Cr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&cr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&cr(t,n).setDirty(),n+=e.childCount}}function mo(t,e){const n=cr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=go(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=ur(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=go(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function go(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(yo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=ar(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(go(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Sr(s);o&&o===n&&go(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];go(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function yo(t,e,n){if(null!=n)switch(n){case 1:return ar(t,e.nodeIndex).renderElement;case 0:return new On(ar(t,e.nodeIndex).renderElement);case 2:return ar(t,e.nodeIndex).template;case 3:return ar(t,e.nodeIndex).viewContainer;case 4:return ur(t,e.nodeIndex).instance}}function vo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function bo(t,e,n){const r=jr(t,e,n);r&&Mr(t,n.ngContent.index,1,r,null,void 0)}function _o(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const t=n[s];i[e[t]]=t}return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:zr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function wo(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Eo(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=jr(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function So(t,e){return(null!=t?t.toString():"")+e.suffix}function To(t,e,n,r){let i=0,s=0,o=0,a=0,u=0,l=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=l,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=l?l.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(xo(l,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?l.element.publicProviders[pr(t.provider.token)]=t:(d||(d=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[pr(t.provider.token)]=t),e&&(l.element.componentProvider=t)}if(l?(l.childFlags|=t.flags,l.directChildFlags|=t.flags,l.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(l.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)l=t,Io(t)||(c=t);else for(;l&&p===l.nodeIndex+l.childCount;){const t=l.parent;t&&(t.childFlags|=l.childFlags,t.childMatchedQueries|=l.childMatchedQueries),l=t,c=l&&Io(l)?l.renderParent:l}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||dr,updateRenderer:r||dr,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:f}}function Io(t){return 0!=(1&t.flags)&&null===t.element.name}function xo(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Oo(t,e,n,r){const i=Ao(t.root,t.renderer,t,e,n);return No(i,t.component,r),jo(i),i}function Co(t,e,n){const r=Ao(t,t.renderer,null,null,e);return No(r,n,n),jo(r),r}function ko(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ao(t.root,s,t,e.element.componentProvider,n)}function Ao(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function No(t,e,n){t.component=e,t.context=n}function jo(t){let e;Or(t)&&(e=ar(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(hr.setCurrentNode(t,i),201347067&s.flags){case 1:const n=uo(t,e,s);let a=void 0;if(33554432&s.flags){const e=Pr(s.element.componentView);a=hr.createComponentView(t,s,e,n)}lo(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?ui(t,s):void 0},16777216&s.flags&&(o.viewContainer=ii(t,s,o));break;case 2:o=Eo(t,e,s);break;case 512:case 1024:case 2048:case 256:o=r[i],o||4096&s.flags||(o={instance:Ci(t,s)});break;case 16:o={instance:ki(t,s)};break;case 16384:o=r[i],o||(o={instance:Ai(t,s)}),32768&s.flags&&No(ar(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ji;break;case 8:bo(t,e,s),o=void 0}r[i]=o}qo(t,Vo.CreateViewNodes),Go(t,201326592,268435456,0)}function Do(t){Lo(t),hr.updateDirectives(t,1),zo(t,Vo.CheckNoChanges),hr.updateRenderer(t,1),qo(t,Vo.CheckNoChanges),t.state&=-97}function Po(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ir(t,0,256),Lo(t),hr.updateDirectives(t,0),zo(t,Vo.CheckAndUpdate),Go(t,67108864,536870912,0);let e=ir(t,256,512);Fi(t,2097152|(e?1048576:0)),hr.updateRenderer(t,0),qo(t,Vo.CheckAndUpdate),Go(t,134217728,536870912,0),e=ir(t,512,768),Fi(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ir(t,768,1024)}function Ro(t,e,n,r,i,s,o,a,u,l,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,u,l,c,h){const d=e.bindings.length;let f=!1;return d>0&&ho(t,e,0,n)&&(f=!0),d>1&&ho(t,e,1,r)&&(f=!0),d>2&&ho(t,e,2,i)&&(f=!0),d>3&&ho(t,e,3,s)&&(f=!0),d>4&&ho(t,e,4,o)&&(f=!0),d>5&&ho(t,e,5,a)&&(f=!0),d>6&&ho(t,e,6,u)&&(f=!0),d>7&&ho(t,e,7,l)&&(f=!0),d>8&&ho(t,e,8,c)&&(f=!0),d>9&&ho(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,s,o,a,u,l,c,h);case 2:return function(t,e,n,r,i,s,o,a,u,l,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&vr(t,e,0,n)&&(d=!0),p>1&&vr(t,e,1,r)&&(d=!0),p>2&&vr(t,e,2,i)&&(d=!0),p>3&&vr(t,e,3,s)&&(d=!0),p>4&&vr(t,e,4,o)&&(d=!0),p>5&&vr(t,e,5,a)&&(d=!0),p>6&&vr(t,e,6,u)&&(d=!0),p>7&&vr(t,e,7,l)&&(d=!0),p>8&&vr(t,e,8,c)&&(d=!0),p>9&&vr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=So(n,f[0])),p>1&&(d+=So(r,f[1])),p>2&&(d+=So(i,f[2])),p>3&&(d+=So(s,f[3])),p>4&&(d+=So(o,f[4])),p>5&&(d+=So(a,f[5])),p>6&&(d+=So(u,f[6])),p>7&&(d+=So(l,f[7])),p>8&&(d+=So(c,f[8])),p>9&&(d+=So(h,f[9]));const m=or(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,r,i,s,o,a,u,l,c,h);case 16384:return function(t,e,n,r,i,s,o,a,u,l,c,h){const d=ur(t,e.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&yr(t,e,0,n)&&(p=!0,m=Mi(t,d,e,0,n,m)),g>1&&yr(t,e,1,r)&&(p=!0,m=Mi(t,d,e,1,r,m)),g>2&&yr(t,e,2,i)&&(p=!0,m=Mi(t,d,e,2,i,m)),g>3&&yr(t,e,3,s)&&(p=!0,m=Mi(t,d,e,3,s,m)),g>4&&yr(t,e,4,o)&&(p=!0,m=Mi(t,d,e,4,o,m)),g>5&&yr(t,e,5,a)&&(p=!0,m=Mi(t,d,e,5,a,m)),g>6&&yr(t,e,6,u)&&(p=!0,m=Mi(t,d,e,6,u,m)),g>7&&yr(t,e,7,l)&&(p=!0,m=Mi(t,d,e,7,l,m)),g>8&&yr(t,e,8,c)&&(p=!0,m=Mi(t,d,e,8,c,m)),g>9&&yr(t,e,9,h)&&(p=!0,m=Mi(t,d,e,9,h,m)),m&&f.ngOnChanges(m),65536&e.flags&&sr(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,s,o,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,u,l,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&vr(t,e,0,n)&&(f=!0),p>1&&vr(t,e,1,r)&&(f=!0),p>2&&vr(t,e,2,i)&&(f=!0),p>3&&vr(t,e,3,s)&&(f=!0),p>4&&vr(t,e,4,o)&&(f=!0),p>5&&vr(t,e,5,a)&&(f=!0),p>6&&vr(t,e,6,u)&&(f=!0),p>7&&vr(t,e,7,l)&&(f=!0),p>8&&vr(t,e,8,c)&&(f=!0),p>9&&vr(t,e,9,h)&&(f=!0),f){const f=lr(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=s),p>4&&(m[4]=o),p>5&&(m[5]=a),p>6&&(m[6]=u),p>7&&(m[7]=l),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=s),p>4&&(m[d[4].name]=o),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=u),p>7&&(m[d[7].name]=l),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,s);break;case 5:m=t.transform(r,i,s,o);break;case 6:m=t.transform(r,i,s,o,a);break;case 7:m=t.transform(r,i,s,o,a,u);break;case 8:m=t.transform(r,i,s,o,a,u,l);break;case 9:m=t.transform(r,i,s,o,a,u,l,c);break;case 10:m=t.transform(r,i,s,o,a,u,l,c,h)}}f.value=m}return f}(t,e,n,r,i,s,o,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,u,l,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)ho(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)vr(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=So(n[t],r[t]);i=e.text.prefix+i;const s=or(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=ur(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)yr(t,e,a,n[a])&&(s=!0,o=Mi(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&sr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)vr(t,e,s,n[s])&&(i=!0);if(i){const i=lr(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Lo(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=ar(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,wr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Mo(t,e,n,r,i,s,o,a,u,l,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,u,l,c,h){const d=e.bindings.length;d>0&&br(t,e,0,n),d>1&&br(t,e,1,r),d>2&&br(t,e,2,i),d>3&&br(t,e,3,s),d>4&&br(t,e,4,o),d>5&&br(t,e,5,a),d>6&&br(t,e,6,u),d>7&&br(t,e,7,l),d>8&&br(t,e,8,c),d>9&&br(t,e,9,h)}(t,e,r,i,s,o,a,u,l,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)br(t,e,r,n[r])}(t,e,r),!1}function Fo(t,e){if(cr(t,e.nodeIndex).dirty)throw er(hr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Uo(t){if(!(128&t.state)){if(zo(t,Vo.Destroy),qo(t,Vo.Destroy),Fi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Sr(t);if(e){const n=e.template._projectedViews;n&&(W(n,n.indexOf(t)),hr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(ar(t,n).renderElement):2&e.flags?t.renderer.destroyNode(or(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&cr(t,n).destroy()}}(t),Or(t)&&t.renderer.destroy(),t.state|=128}}const Vo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function qo(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Bo(ar(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function zo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=ar(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Bo(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Bo(t,e){const n=t.state;switch(e){case Vo.CheckNoChanges:0==(128&n)&&(12==(12&n)?Do(t):64&n&&Ho(t,Vo.CheckNoChangesProjectedViews));break;case Vo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Do(t):64&n&&Ho(t,e));break;case Vo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Po(t):64&n&&Ho(t,Vo.CheckAndUpdateProjectedViews));break;case Vo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Po(t):64&n&&Ho(t,e));break;case Vo.Destroy:Uo(t);break;case Vo.CreateViewNodes:jo(t)}}function Ho(t,e){zo(t,e),qo(t,e)}function Go(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(hr.setCurrentNode(t,i.nodeIndex),r){case 0:mo(t,i);break;case 1:Fo(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let $o=!1;function Ko(t,e,n,r,i,s){const o=i.injector.get(An);return Co(Qo(t,i,o,e,n),r,s)}function Wo(t,e,n,r,i,s){const o=i.injector.get(An),a=Qo(t,i,new Oa(o),e,n),u=sa(r);return Ia(ha.create,Co,null,[a,u,s])}function Qo(t,e,n,r,i){const s=e.injector.get(ye),o=e.injector.get(Bt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function Jo(t,e,n,r){const i=sa(n);return Ia(ha.create,Oo,null,[t,e,i,r])}function Yo(t,e,n,r){return n=ea.get(e.element.componentProvider.provider.token)||sa(n),Ia(ha.create,ko,null,[t,e,n,r])}function Zo(t,e,n,r){return mi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Xo.size||(t.providers.forEach(t=>{const r=Xo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{ta.forEach((r,i)=>{S(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Xo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Nr(i.deps),r.value=i.value)}if(ta.size>0){let e=new Set(t.modules);ta.forEach((r,i)=>{if(e.has(S(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Nr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[pr(i)]=e}})}}(t=t.factory(()=>dr)),t):t}(r))}const Xo=new Map,ta=new Map,ea=new Map;function na(t){let e;Xo.set(t.token,t),"function"==typeof t.token&&(e=S(t.token))&&"function"==typeof e.providedIn&&ta.set(t.token,t)}function ra(t,e){const n=Pr(e.viewDefFactory),r=Pr(n.nodes[0].element.componentView);ea.set(t,r)}function ia(){Xo.clear(),ta.clear(),ea.clear()}function sa(t){if(0===Xo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Xo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>dr);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Xo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Nr(n.deps),t.value=n.value)}}}}function oa(t,e,n,r,i,s,o,a,u,l,c,h,d){const f=t.def.nodes[e];return Ro(t,f,n,r,i,s,o,a,u,l,c,h,d),224&f.flags?lr(t,e).value:void 0}function aa(t,e,n,r,i,s,o,a,u,l,c,h,d){const f=t.def.nodes[e];return Mo(t,f,n,r,i,s,o,a,u,l,c,h,d),224&f.flags?lr(t,e).value:void 0}function ua(t){return Ia(ha.detectChanges,Po,null,[t])}function la(t){return Ia(ha.checkNoChanges,Do,null,[t])}function ca(t){return Ia(ha.destroy,Uo,null,[t])}const ha=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let da,fa,pa;function ma(t,e){fa=t,pa=e}function ga(t,e,n,r){return ma(t,e),Ia(ha.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function ya(t,e){if(128&t.state)throw rr(ha[da]);return ma(t,wa(t,0)),t.def.updateDirectives((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?ba(t,s,r,i):_a(t,s,r,i),16384&s.flags&&ma(t,wa(t,n)),224&s.flags?lr(t,s.nodeIndex).value:void 0}),t)}function va(t,e){if(128&t.state)throw rr(ha[da]);return ma(t,Ea(t,0)),t.def.updateRenderer((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?ba(t,s,r,i):_a(t,s,r,i),3&s.flags&&ma(t,Ea(t,n)),224&s.flags?lr(t,s.nodeIndex).value:void 0}),t)}function ba(t,e,n,r){if(Ro(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[we(r.nonMinifiedName)]=Se(s))}const r=e.parent,s=ar(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}}function _a(t,e,n,r){Mo(t,e,n,...r)}function wa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ea(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Sa{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Tr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return ar(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return ci(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ta(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ta(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Or(t);)t=t.parent;return t.parent?ar(t.parent,Tr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ir(this.view,this.nodeDef):Ir(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?t.error.bind(t,...e):dr)),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ta(t,e,n){for(let r in e.references)n[r]=yo(t,e,e.references[r])}function Ia(t,e,n,r){const i=da,s=fa,o=pa;try{da=t;const a=e.apply(n,r);return fa=s,pa=o,da=i,a}catch(a){if(Vt(a)||!fa)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),nr(t,e),t}(a,xa())}}function xa(){return fa?new Sa(fa,pa):null}class Oa{constructor(t){this.delegate=t}createRenderer(t,e){return new Ca(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ca{constructor(t){this.delegate=t,this.debugContextFactory=xa,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Xs(t);!function(t){Zs.delete(t.nativeNode)}(e),e instanceof Js&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Ys(n,null,r);e.name=t,to(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&to(new Js(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&to(new Js(e,null,n)),e}appendChild(t,e){const n=Xs(t),r=Xs(e);n&&r&&n instanceof Ys&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Xs(t),i=Xs(e),s=Xs(n);r&&i&&r instanceof Ys&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Xs(t),r=Xs(e);n&&r&&n instanceof Ys&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=xa();return r&&to(new Ys(n,null,r)),n}setAttribute(t,e,n,r){const i=Xs(t);i&&i instanceof Ys&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Xs(t);r&&r instanceof Ys&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Xs(t);n&&n instanceof Ys&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Xs(t);n&&n instanceof Ys&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Xs(t);i&&i instanceof Ys&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Xs(t);r&&r instanceof Ys&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Xs(t);r&&r instanceof Ys&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Xs(t);r&&r.listeners.push(new Qs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ka(t,e,n){return new Aa(t,e,n)}class Aa extends ${constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if($o)return;$o=!0;const t=$t()?{setCurrentNode:ma,createRootView:Wo,createEmbeddedView:Jo,createComponentView:Yo,createNgModuleRef:Zo,overrideProvider:na,overrideComponentView:ra,clearOverrides:ia,checkAndUpdateView:ua,checkNoChangesView:la,destroyView:ca,createDebugContext:(t,e)=>new Sa(t,e),handleEvent:ga,updateDirectives:ya,updateRenderer:va}:{setCurrentNode:()=>{},createRootView:Ko,createEmbeddedView:Oo,createComponentView:ko,createNgModuleRef:mi,overrideProvider:dr,overrideComponentView:dr,clearOverrides:dr,checkAndUpdateView:Po,checkNoChangesView:Do,destroyView:Uo,createDebugContext:(t,e)=>new Sa(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?oa:aa,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?oa:aa,t)};hr.setCurrentNode=t.setCurrentNode,hr.createRootView=t.createRootView,hr.createEmbeddedView=t.createEmbeddedView,hr.createComponentView=t.createComponentView,hr.createNgModuleRef=t.createNgModuleRef,hr.overrideProvider=t.overrideProvider,hr.overrideComponentView=t.overrideComponentView,hr.clearOverrides=t.clearOverrides,hr.checkAndUpdateView=t.checkAndUpdateView,hr.checkNoChangesView=t.checkNoChangesView,hr.destroyView=t.destroyView,hr.resolveDep=Ri,hr.createDebugContext=t.createDebugContext,hr.handleEvent=t.handleEvent,hr.updateDirectives=t.updateDirectives,hr.updateRenderer=t.updateRenderer,hr.dirtyParentQueries=po}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Pr(this._ngModuleDefFactory));return hr.createNgModuleRef(this.moduleType,t||He.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO");const i=t=>e=>{const n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),s=n("I55L"),o=n("kJWO"),a=n("Lhse"),u=n("yCtX"),l=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),f=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(f.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(e?n=>{const r=new l.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:Object(d.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?n=>{const r=new l.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:Object(c.a)(t))}(t,e);if(Object(s.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?n=>{const r=new l.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return p}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=Array.isArray||(t=>t&&"number"==typeof t.length)},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return i}));class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.3","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),s=n("EY2u"),o=n("XUOw");function a(...t){let e=t[t.length-1];switch(Object(r.a)(e)?t.pop():e=void 0,t.length){case 0:return Object(s.b)(e);case 1:return e?Object(i.a)(t,e):Object(o.a)(t[0]);default:return Object(i.a)(t,e)}}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t})}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("HDdC"),i=n("ngJS"),s=n("a7t3"),o=n("pLzU"),a=n("CRDf"),u=n("I55L"),l=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const f=t=>{if(t instanceof r.a)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[d.a])return Object(a.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(s.a)(t);if(t&&"function"==typeof t[h.a])return Object(o.a)(t);{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){const e=new r.a(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD");function s(t,e,n,s,o=new r.a(t,n,s)){if(!o.closed)return Object(i.a)(e)(o)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a");const i=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.a),e)},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return g})),n.d(e,"k",(function(){return S}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("8Y7J"),l=n("Jgta");function c(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.o("angularfire2.app.options"),b=new u.o("angularfire2.app.nameOrConfig");class _{}const w=new u.M("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&T("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);class x{constructor(t){l.a.registerVersion("angularfire",w.full,t.toString()),l.a.registerVersion("angular",u.L.full)}static initializeApp(t,e){return{ngModule:x,providers:[{provide:v,useValue:t},{provide:b,useValue:e}]}}}}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("KqfI");function i(...t){return s(t)}function s(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse");const i=t=>e=>{const n=t[r.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e}},pxpQ:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new l(t,e))}}n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return m}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}n.d(e,"a",(function(){return a}));const a=new o(i)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");function o(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}o.prototype=Object.create(Error.prototype);const a=o;n.d(e,"a",(function(){return u}));let u=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:o,_unsubscribe:u,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=o?o.length:0;for(;n;)n.remove(this),n=++h<d&&o[h]||null;if(Object(s.a)(u))try{u.call(this)}catch(f){e=!0,t=f instanceof a?l(f.errors):[f]}if(Object(r.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof a?t=t.concat(l(f.errors)):t.push(f)}}if(e)throw new a(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof a?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";var r=n("HDdC");let i=1;const s={},o={setImmediate(t){const e=i++;return s[e]=t,Promise.resolve().then(()=>function(t){const e=s[t];e&&e()}(e)),e},clearImmediate(t){delete s[t]}};var a=n("3N8a");class u extends a.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=o.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(o.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class c extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const h=new c(u);var d=n("DH7j");class f extends r.a{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(d.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new f(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new m(t,e))}}n.d(e,"a",(function(){return p}));class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new f(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY"),s=n("ngJS");function o(t,e){return new r.a(e?n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(s.a)(t))}},yLV6:function(t,e,n){var r;!function(i,s,o,a){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=s.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=i.console&&(i.console.warn||i.console.log);return s&&s.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var v=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=y((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function T(t,e,n){g(C(e),(function(e){t.addEventListener(e,n,!1)}))}function I(t,e,n){g(C(e),(function(e){t.removeEventListener(e,n,!1)}))}function x(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function N(t,e,n){for(var r=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];k(i,o)<0&&r.push(t[s]),i[s]=o,s++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function j(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<l.length;){if((r=(n=l[s])?n+i:e)in t)return r;s++}}var D=1;function P(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var R="ontouchstart"in i,L=void 0!==j(i,"PointerEvent"),M=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],U=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function q(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,s=1&e&&r-i==0,o=12&e&&r-i==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=z(e)),i>1&&!n.firstMultiple?n.firstMultiple=z(e):1===i&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,u=e.center=B(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=K(a,u),e.distance=$(a,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var l,c,h=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=o?(l=o.pointers,$((c=r)[0],c[1],U)/$(l[0],l[1],U)):1,e.rotation=o?function(t,e){return K(e[1],e[0],U)+K(t[1],t[0],U)}(o.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(a>25||void 0===o.velocity)){var u=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,c=H(a,u,l);r=c.x,i=c.y,n=d(c.x)>d(c.y)?c.x:c.y,s=G(u,l),t.lastInterval=e}else n=o.velocity,r=o.velocityX,i=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=s}(n,e);var p=t.element;x(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:B(e),deltaX:t.deltaX,deltaY:t.deltaY}}function B(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function $(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){return n||(n=F),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(P(this.element),this.evWin,this.domHandler)}};var W={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,V.apply(this,arguments)}_(Q,V,{handler:function(t){var e=W[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Y={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",X="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=X,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Z="MSPointerDown",X="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,V,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=J[r],s=Y[t.pointerType]||t.pointerType,o="touch"==s,a=k(e,t.pointerId,"pointerId");1&i&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}function rt(t,e){var n=A(t.touches),r=A(t.changedTouches);return 12&e&&(n=N(n.concat(r),"identifier",!0)),[n,r]}_(nt,V,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function st(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},V.apply(this,arguments)}function ot(t,e){var n=A(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,o=A(t.changedTouches),a=[],u=this.target;if(s=n.filter((function(t){return x(t.target,u)})),1===e)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),12&e&&delete r[o[i].identifier],i++;return a.length?[N(s.concat(a),"identifier",!0),a]:void 0}function at(){V.apply(this,arguments);var t=w(this.handler,this);this.touch=new st(this.manager,t),this.mouse=new Q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(n-i.y);if(s<=25&&o<=25)return!0}return!1}_(st,V,{handler:function(t){var e=it[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(at,V,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=j(c.style,"touchAction"),dt=void 0!==ht,ft=function(){if(!dt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function mt(t){this.options=u({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function vt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){mt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function Et(){mt.apply(this,arguments),this._timer=null,this._input=null}function St(){bt.apply(this,arguments)}function Tt(){bt.apply(this,arguments)}function It(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function xt(t,e){return(e=e||{}).recognizers=S(e.recognizers,xt.defaults.preset),new Ot(t,e)}function Ot(t,e){var n;this.options=u({},xt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:M?st:R?at:Q))(n,q),this.touchAction=new pt(this,this.options.touchAction),Ct(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ct(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,s){n=j(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&ft[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(O(t,"none"))return"none";var e=O(t,"pan-x"),n=O(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":O(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=O(r,"none")&&!ft.none,s=O(r,"pan-y")&&!ft["pan-y"],o=O(r,"pan-x")&&!ft["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return i||s&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=vt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=vt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===k(e,t=vt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=vt(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+gt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,s=t.deltaX,o=t.deltaY;return i&e.direction||(6&e.direction?(i=0===s?1:s<0?2:4,n=s!=this.pX,r=Math.abs(t.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(Et,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(St,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Tt,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(It,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),xt.VERSION="2.0.7",xt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[wt,{enable:!1},["rotate"]],[Tt,{direction:6}],[_t,{direction:6},["swipe"]],[It],[It,{event:"doubletap",taps:2},["tap"]],[Et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ot.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),s++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=k(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(C(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(C(t),(function(t){e?n[t]&&n[t].splice(k(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=s.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(xt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ot,Input:V,TouchAction:pt,TouchInput:st,MouseInput:Q,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:bt,Tap:It,Pan:_t,Swipe:Tt,Pinch:wt,Rotate:St,Press:Et,on:T,off:I,each:g,merge:b,extend:v,assign:u,inherit:_,bindFn:w,prefixed:j}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=xt,void 0===(r=(function(){return xt}).call(e,n,e,t))||(t.exports=r)}(window,document)},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.b("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var l=Object(s.h)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}l(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e),n("yLV6");var r=n("8Y7J");class i{}class s{constructor(){this.title="SmartHome"}}class o{}const a=new r.o("Location Initialized");class u{}const l=new r.o("appBaseHref");class c{constructor(t,e){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=c.stripTrailingSlash(h(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+c.normalizeQueryParams(e))}normalize(t){return c.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,h(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+c.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+c.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function h(t){return t.replace(/\/index.html$/,"")}class d extends u{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class f extends u{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return c.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const p=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),m=r.sb,g=new r.o("UseV4Plurals");class y{}class v extends y{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):m(e||this.locale)(t)){case p.Zero:return"zero";case p.One:return"one";case p.Two:return"two";case p.Few:return"few";case p.Many:return"many";default:return"other"}}}class b{}class _{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}let w=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class E extends w{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}class S{}const T=new r.o("DocumentToken");function I(t){return"server"===t}let x=(()=>{class t{}return t.ngInjectableDef=Object(r.Lb)({token:t,providedIn:"root",factory:()=>new O(Object(r.Mb)(T),window,Object(r.Mb)(r.l))}),t})();class O{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(IE){this.errorHandler.handleError(IE)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(ow){return!1}}}var C=n("LRne"),k=n("Cfvw"),A=n("XNiG"),N=n("9ppp");class j extends A.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N.a;return this._value}next(t){super.next(this._value=t)}}var D=n("HDdC");function P(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}P.prototype=Object.create(Error.prototype);const R=P;var L=n("z+Ro"),M=n("DH7j"),F=n("l7GE"),U=n("ZUHj"),V=n("yCtX");const q={};class z{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new B(t,this.resultSelector))}}class B extends F.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(q),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(U.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===q?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var H=n("EY2u");function G(t){return new D.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(k.a)(n):Object(H.b)()).subscribe(e)})}var $=n("lJxs"),K=n("bHdf");function W(){return Object(K.a)(1)}var Q=n("7o/Q");function J(t,e){return function(n){return n.lift(new Y(t,e))}}class Y{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Z(t,this.predicate,this.thisArg))}}class Z extends Q.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function X(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}X.prototype=Object.create(Error.prototype);const tt=X;function et(t){return function(e){return 0===t?Object(H.b)():e.lift(new nt(t))}}class nt{constructor(t){if(this.total=t,this.total<0)throw new tt}call(t,e){return e.subscribe(new rt(t,this.total))}}class rt extends Q.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var it=n("vkgz");const st=(t=ot)=>Object(it.a)({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function ot(){return new R}function at(t=null){return e=>e.lift(new ut(t))}class ut{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new lt(t,this.defaultValue))}}class lt extends Q.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ct=n("SpAZ");function ht(t,e){const n=arguments.length>=2;return r=>r.pipe(t?J((e,n)=>t(e,n,r)):ct.a,et(1),n?at(e):st(()=>new R))}var dt=n("51Dv");function ft(t){return function(e){const n=new pt(t),r=e.lift(n);return n.caught=r}}class pt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mt(t,this.selector,this.caught))}}class mt extends F.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new dt.a(this,void 0,void 0);this.add(r),Object(U.a)(this,n,void 0,void 0,r)}}}function gt(t){return e=>0===t?Object(H.b)():e.lift(new yt(t))}class yt{constructor(t){if(this.total=t,this.total<0)throw new tt}call(t,e){return e.subscribe(new vt(t,this.total))}}class vt extends Q.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function bt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?J((e,n)=>t(e,n,r)):ct.a,gt(1),n?at(e):st(()=>new R))}var _t=n("5+tZ");class wt{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Et(t,this.predicate,this.thisArg,this.source))}}class Et extends Q.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function St(t,e){return"function"==typeof e?n=>n.pipe(St((n,r)=>Object(k.a)(t(n,r)).pipe(Object($.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Tt(t))}class Tt{constructor(t){this.project=t}call(t,e){return e.subscribe(new It(t,this.project))}}class It extends F.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new dt.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(U.a)(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var xt=n("XUOw");function Ot(...t){return e=>{let n=t[t.length-1];Object(L.a)(n)?t.pop():n=null;const r=t.length;return function(...t){return W()(Object(C.a)(...t))}(1!==r||n?r>0?Object(V.a)(t,n):Object(H.b)(n):Object(xt.a)(t[0]),e)}}function Ct(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new kt(t,e,n))}}class kt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new At(t,this.accumulator,this.seed,this.hasSeed))}}class At extends Q.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Nt(t,e){return Object(_t.a)(t,e,1)}var jt=n("mCNh"),Dt=n("quSY");class Pt{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Rt(t,this.callback))}}class Rt extends Q.a{constructor(t,e){super(t),this.add(new Dt.a(e))}}let Lt=null;function Mt(){return Lt}const Ft={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qt=(()=>{if(r.tb.Node)return r.tb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class zt extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(ow){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new zt,Lt||(Lt=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ft}contains(t,e){return qt.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(ow){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Vt.hasOwnProperty(e)&&(e=Vt[e]))}return Ut[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ht||(Ht=document.querySelector("base"),Ht)?Ht.getAttribute("href"):null;return null==e?null:(n=e,Bt||(Bt=document.createElement("a")),Bt.setAttribute("href",n),"/"===Bt.pathname.charAt(0)?Bt.pathname:"/"+Bt.pathname);var n}resetBaseElement(){Ht=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Bt,Ht=null;function Gt(){return!!window.history.pushState}const $t=new r.o("TRANSITION_ID"),Kt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Mt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$t,T,r.p],multi:!0}];class Wt{static init(){Object(r.X)(new Wt)}addToWindow(t){r.tb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.tb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.tb.getAllAngularRootElements=()=>t.getAllRootElements(),r.tb.frameworkStabilizers||(r.tb.frameworkStabilizers=[]),r.tb.frameworkStabilizers.push(t=>{const e=r.tb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Mt().isShadowRoot(e)?this.findTestabilityInTree(t,Mt().getHost(e),!0):this.findTestabilityInTree(t,Mt().parentElement(e),!0):null}}function Qt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.tb.ng=r.tb.ng||{})[t]=e)}const Jt=(()=>({ApplicationRef:r.g,NgZone:r.x}))();function Yt(t){return Object(r.T)(t)}const Zt=new r.o("EventManagerPlugins");class Xt{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class te{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Mt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class ee{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ne extends ee{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Mt().remove(t))}}const re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ie=/%COMP%/g;function se(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?se(t,i,n):(i=i.replace(ie,t),n.push(i))}return n}function oe(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class ae{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ue(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.O.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new he(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.O.Native:case r.O.ShadowDom:return new de(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=se(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class ue{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(re[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=re[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=re[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.E.DashCase?t.style.setProperty(e,n,i&r.E.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.E.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){ce(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return ce(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,oe(n)):this.eventManager.addEventListener(t,e,oe(n))}}const le=(()=>"@".charCodeAt(0))();function ce(t,e){if(t.charCodeAt(0)===le)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class he extends ue{constructor(t,e,n,r){super(t),this.component=n;const i=se(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ie,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ie,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class de extends ue{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.O.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=se(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const fe=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),pe=fe("addEventListener"),me=fe("removeEventListener"),ge={},ye="__zone_symbol__propagationStopped",ve=(()=>{const t="undefined"!=typeof Zone&&Zone[fe("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),be=function(t){return!!ve&&ve.hasOwnProperty(t)},_e=function(t){const e=ge[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[ye];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class we extends te{constructor(t,e,n){super(t),this.ngZone=e,n&&I(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ye]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[pe]||r.x.isInAngularZone()&&!be(e))t.addEventListener(e,i,!1);else{let n=ge[e];n||(n=ge[e]=fe("ANGULAR"+e+"FALSE"));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=be(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[pe](e,_e,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let r=t[me];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=ge[e],s=i&&t[i];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(t,[e,_e,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const Ee={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Se=new r.o("HammerGestureConfig"),Te=new r.o("HammerLoader");class Ie extends te{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Ee.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const xe=["alt","control","meta","shift"],Oe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Ce extends te{constructor(t){super(t)}supports(t){return null!=Ce.parseEventName(t)}addEventListener(t,e,n){const r=Ce.parseEventName(e),i=Ce.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mt().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Ce._normalizeKey(e.pop());let i="";if(xe.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=Mt().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),xe.forEach(r=>{r!=n&&(0,Oe[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{Ce.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class ke{}class Ae extends ke{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.G.NONE:return e;case r.G.HTML:return e instanceof je?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r.db)(this._doc,String(e)));case r.G.STYLE:return e instanceof De?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r.eb)(e));case r.G.SCRIPT:if(e instanceof Pe)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return e instanceof Le||e instanceof Re?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r.fb)(String(e)));case r.G.RESOURCE_URL:if(e instanceof Le)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Ne)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new je(t)}bypassSecurityTrustStyle(t){return new De(t)}bypassSecurityTrustScript(t){return new Pe(t)}bypassSecurityTrustUrl(t){return new Re(t)}bypassSecurityTrustResourceUrl(t){return new Le(t)}}class Ne{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class je extends Ne{getTypeName(){return"HTML"}}class De extends Ne{getTypeName(){return"Style"}}class Pe extends Ne{getTypeName(){return"Script"}}class Re extends Ne{getTypeName(){return"URL"}}class Le extends Ne{getTypeName(){return"ResourceURL"}}const Me=[{provide:r.z,useValue:"browser"},{provide:r.A,useValue:function(){zt.makeCurrent(),Wt.init()},multi:!0},{provide:o,useClass:class extends o{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Mt().getLocation(),this._history=Mt().getHistory()}getBaseHrefFromDOM(){return Mt().getBaseHref(this._doc)}onPopState(t){Mt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Mt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Gt()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Gt()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[T]},{provide:T,useFactory:function(){return document},deps:[]}],Fe=Object(r.Q)(r.W,"browser",Me);function Ue(){return new r.l}class Ve{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Ve,providers:[{provide:r.c,useValue:t.appId},{provide:$t,useExisting:r.c},Kt]}}}"undefined"!=typeof window&&window;class qe{constructor(t,e){this.id=t,this.url=e}}class ze extends qe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends qe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends qe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ge extends qe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $e extends qe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends qe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends qe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qe extends qe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends qe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sn{}class on{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function an(t){return new on(t)}function un(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ln(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class cn{constructor(t,e){this.routes=t,this.module=e}}function hn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dn(r,fn(e,r))}}function dn(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&hn(t.children,e)}function fn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pn(t){const e=t.children&&t.children.map(pn),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=sn),n}function mn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],t[i]!==e[i])return!1;return!0}function gn(t){return Array.prototype.concat.apply([],t)}function yn(t){return t.length>0?t[t.length-1]:null}function vn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bn(t){return Object(r.vb)(t)?t:Object(r.wb)(t)?Object(k.a)(Promise.resolve(t)):Object(C.a)(t)}function _n(t,e,n){return n?function(t,e){return mn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Tn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Tn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Tn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class wn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class En{constructor(t,e){this.segments=t,this.children=e,this.parent=null,vn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kn(this)}}class Sn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return Rn(this)}}function Tn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function In(t,e){let n=[];return vn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),vn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class xn{}class On{parse(t){const e=new Vn(t);return new wn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return kn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return vn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=In(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${kn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Nn(e)}=${Nn(t)}`).join("&"):`${Nn(e)}=${Nn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Cn=new On;function kn(t){return t.segments.map(t=>Rn(t)).join("/")}function An(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nn(t){return An(t).replace(/%3B/gi,";")}function jn(t){return An(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(t){return decodeURIComponent(t)}function Pn(t){return Dn(t.replace(/\+/g,"%20"))}function Rn(t){return`${jn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${jn(t)}=${jn(e[t])}`).join("")}`;var e}const Ln=/^[^\/()?;=#]+/;function Mn(t){const e=t.match(Ln);return e?e[0]:""}const Fn=/^[^=?&#]+/,Un=/^[^?&#]+/;class Vn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new En(t,e)),n}parseSegment(){const t=Mn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Sn(Dn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Mn(this.remaining);t&&(n=t,this.capture(n))}t[Dn(e)]=Dn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Fn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Un);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Pn(e),i=Pn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Mn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new En([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Bn(t,this._root).map(t=>t.value)}}function zn(t,e){if(t===e.value)return e;for(const n of e.children){const e=zn(t,n);if(e)return e}return null}function Bn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Bn(t,n);if(r.length)return r.unshift(e),r}return[]}class Hn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $n extends qn{constructor(t,e){super(t),this.snapshot=e,Zn(this,t)}toString(){return this.snapshot.toString()}}function Kn(t,e){const n=function(t,e){const n=new Jn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Yn("",new Hn(n,[]))}(t,e),r=new j([new Sn("",{})]),i=new j({}),s=new j({}),o=new j({}),a=new j(""),u=new Wn(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new $n(new Hn(u,[]),n)}class Wn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object($.a)(t=>an(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object($.a)(t=>an(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jn{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends qn{constructor(t,e){super(e),this.url=t,Zn(this,e)}toString(){return Xn(this._root)}}function Zn(t,e){e.value._routerState=t,e.children.forEach(e=>Zn(t,e))}function Xn(t){const e=t.children.length>0?` { ${t.children.map(Xn).join(", ")} } `:"";return`${t.value}${e}`}function tr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function er(t,e){return mn(t.params,e.params)&&function(t,e){return Tn(t,e)&&t.every((t,n)=>mn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||er(t.parent,e.parent))}function nr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rr(t,e,n,r,i){let s={};return r&&vn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new wn(n.root===t?e:function t(e,n,r){const i={};return vn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new En(e.segments,i)}(n.root,t,e),s,i)}class ir{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&nr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==yn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function or(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function ar(t,e,n){if(t||(t=new En([],{})),0===t.segments.length&&t.hasChildren())return ur(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=or(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!dr(o,a,e))return s;r+=2}else{if(!dr(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new En(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new En(t.segments.slice(r.pathIndex),t.children),ur(e,0,i)}return r.match&&0===i.length?new En(t.segments,{}):r.match&&!t.hasChildren()?lr(t,e,n):r.match?ur(t,0,i):lr(t,e,n)}function ur(t,e,n){if(0===n.length)return new En(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return vn(r,(n,r)=>{null!==n&&(i[r]=ar(t.children[r],e,n))}),vn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new En(t.segments,i)}}function lr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=cr(n[i].outlets);return new En(r,t)}if(0===i&&nr(n[0])){r.push(new Sn(t.segments[e].path,n[0])),i++;continue}const s=or(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&nr(o)?(r.push(new Sn(s,hr(o))),i+=2):(r.push(new Sn(s,{})),i++)}return new En(r,{})}function cr(t){const e={};return vn(t,(t,n)=>{null!==t&&(e[n]=lr(new En([],{}),0,t))}),e}function hr(t){const e={};return vn(t,(t,n)=>e[n]=""+t),e}function dr(t,e,n){return t==n.path&&mn(e,n.parameters)}class fr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Gn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),vn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Gn(t),i=t.value.component?n.children:e;vn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Gn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(tr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),pr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function pr(t){tr(t.value),t.children.forEach(pr)}function mr(t){return"function"==typeof t}function gr(t){return t instanceof wn}class yr{constructor(t){this.segmentGroup=t||null}}class vr{constructor(t){this.urlTree=t}}function br(t){return new D.a(e=>e.error(new yr(t)))}function _r(t){return new D.a(e=>e.error(new vr(t)))}function wr(t){return new D.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Er{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.v)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object($.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(t=>{if(t instanceof vr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof yr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object($.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ft(t=>{if(t instanceof yr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new En([],{primary:t}):t;return new wn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object($.a)(t=>new En([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(C.a)({});const n=[],r=[],i={};return vn(t,(t,s)=>{const o=e(s,t).pipe(Object($.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),C.a.apply(null,n.concat(r)).pipe(W(),ht(),Object($.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(C.a)(...n).pipe(Object($.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ft(t=>{if(t instanceof yr)return Object(C.a)(null);throw t}))),W(),bt(t=>!!t),ft((t,n)=>{if(t instanceof R||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(C.a)(new En([],{}));throw new yr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return xr(r)!==s?br(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):br(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_r(i):this.lineralizeSegments(n,i).pipe(Object(_t.a)(n=>{const i=new En(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Sr(e,r,i);if(!o)return br(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?_r(c):this.lineralizeSegments(r,c).pipe(Object(_t.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object($.a)(t=>(n._loadedConfig=t,new En(r,{})))):Object(C.a)(new En(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Sr(e,n,r);if(!i)return br(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(_t.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ir(t,e,n)&&"primary"!==xr(n))}(t,n,r)?{segmentGroup:Tr(new En(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==xr(r)&&(n[xr(r)]=new En([],{}));return n}(r,new En(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ir(t,e,n))}(t,n,r)?{segmentGroup:Tr(new En(t.segments,function(t,e,n,r){const i={};for(const s of n)Ir(t,e,s)&&!r[xr(s)]&&(i[xr(s)]=new En([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object($.a)(t=>new En(s,t))):0===r.length&&0===o.length?Object(C.a)(new En(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object($.a)(t=>new En(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(C.a)(new cn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(C.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(k.a)(r).pipe(Object($.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&mr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!mr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return bn(s)})).pipe(W(),(i=t=>!0===t,t=>t.lift(new wt(i,void 0,t)))):Object(C.a)(!0);var i}(t.injector,e,n).pipe(Object(_t.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object($.a)(t=>(e._loadedConfig=t,t))):function(t){return new D.a(e=>e.error(un(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(C.a)(new cn([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(C.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return vn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return vn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new En(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Sr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ln)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Tr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new En(t.segments.concat(e.segments),e.children)}return t}function Ir(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xr(t){return t.outlet||"primary"}class Or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cr{constructor(t,e){this.component=t,this.route=e}}function kr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tn(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!er(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Or(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),l&&s.canDeactivateChecks.push(new Cr(u&&u.outlet&&u.outlet.component||null,a))}else a&&Nr(n,u,s),s.canActivateChecks.push(new Or(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),vn(o,(t,e)=>Nr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Ar(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Nr(t,e,n){const r=Gn(t),i=t.value;vn(r,(t,r)=>{Nr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const jr=Symbol("INITIAL_VALUE");function Dr(){return St(t=>function(...t){let e=null,n=null;return Object(L.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(M.a)(t[0])&&(t=t[0]),Object(V.a)(t,n).lift(new z(e))}(...t.map(t=>t.pipe(gt(1),Ot(jr)))).pipe(Ct((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==jr)return t;if(r===jr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||gr(r))return r}return t},t)},jr),J(t=>t!==jr),Object($.a)(t=>gr(t)?t:!0===t),gt(1)))}function Pr(t,e){return null!==t&&e&&e(new en(t)),Object(C.a)(!0)}function Rr(t,e){return null!==t&&e&&e(new Xe(t)),Object(C.a)(!0)}function Lr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(C.a)(!0);const i=r.map(r=>G(()=>{const i=Ar(r,e,n);let s;if(function(t){return t&&mr(t.canActivate)}(i))s=bn(i.canActivate(e,t));else{if(!mr(i))throw new Error("Invalid CanActivate guard");s=bn(i(e,t))}return s.pipe(bt())}));return Object(C.a)(i).pipe(Dr())}function Mr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>G(()=>{const i=e.guards.map(i=>{const s=Ar(i,e.node,n);let o;if(function(t){return t&&mr(t.canActivateChild)}(s))o=bn(s.canActivateChild(r,t));else{if(!mr(s))throw new Error("Invalid CanActivateChild guard");o=bn(s(r,t))}return o.pipe(bt())});return Object(C.a)(i).pipe(Dr())}));return Object(C.a)(i).pipe(Dr())}class Fr{}class Ur{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=zr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hn(n,e),i=new Yn(this.url,r);return this.inheritParamsAndData(i._root),Object(C.a)(i)}catch(IE){return new D.a(e=>e.error(IE))}}inheritParamsAndData(t){const e=t.value,n=Qn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=In(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(IE){if(!(IE instanceof Fr))throw IE}if(this.noLeftoversInUrl(e,n,r))return[];throw new Fr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Fr;if((t.outlet||"primary")!==r)throw new Fr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?yn(n).parameters:{};i=new Jn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),r,t.component,t,Vr(e),qr(e)+n.length,$r(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Fr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ln)(n,t,e);if(!r)throw new Fr;const i={};vn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Jn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gr(t),r,t.component,t,Vr(e),qr(e)+s.length,$r(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=zr(e,s,o,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Hn(i,t)]}if(0===a.length&&0===l.length)return[new Hn(i,[])];const c=this.processSegment(a,u,l,"primary");return[new Hn(i,c)]}}function Vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function zr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Br(t,e,n)&&"primary"!==Hr(n))}(t,n,r)){const i=new En(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Hr(s)){const n=new En([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Hr(s)]=n}return i}(t,e,r,new En(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Br(t,e,n))}(t,n,r)){const s=new En(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Br(t,n,a)&&!i[Hr(a)]){const n=new En([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Hr(a)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new En(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hr(t){return t.outlet||"primary"}function Gr(t){return t.data||{}}function $r(t){return t.resolve||{}}function Kr(t,e,n,r){const i=Ar(t,e,r);return bn(i.resolve?i.resolve(e,n):i(e,n))}function Wr(t){return function(e){return e.pipe(St(e=>{const n=t(e);return n?Object(k.a)(n).pipe(Object($.a)(()=>e)):Object(k.a)([e])}))}}class Qr{}class Jr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Yr=new r.o("ROUTES");class Zr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object($.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new cn(gn(r.injector.get(Yr)).map(pn),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(k.a)(this.loader.load(t)):bn(t()).pipe(Object(_t.a)(t=>t instanceof r.t?Object(C.a)(t):Object(k.a)(this.compiler.compileModuleAsync(t))))}}class Xr{}class ti{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ei(t){throw t}function ni(t,e,n){return e.parse("/")}function ri(t,e){return Object(C.a)(null)}class ii{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A.a,this.errorHandler=ei,this.malformedUriErrorHandler=ni,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ri,afterPreactivation:ri},this.urlHandlingStrategy=new ti,this.routeReuseStrategy=new Jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.v),this.console=s.get(r.ab);const l=s.get(r.x);this.isNgZoneEnabled=l instanceof r.x,this.resetConfig(u),this.currentUrlTree=new wn(new En([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(o,a,t=>this.triggerEvent(new Ye(t)),t=>this.triggerEvent(new Ze(t))),this.routerState=Kn(this.currentUrlTree,this.rootComponentType),this.transitions=new j({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(J(t=>0!==t.id),Object($.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),St(t=>{let n=!1,r=!1;return Object(C.a)(t).pipe(Object(it.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),St(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(C.a)(t).pipe(St(t=>{const n=this.transitions.getValue();return e.next(new ze(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?H.a:[t]}),St(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(St(t=>function(t,e,n,r,i){return new Er(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object($.a)(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),Object(it.a)(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(_t.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Ur(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object($.a)(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(it.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(it.a)(t=>{const n=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new ze(n,this.serializeUrl(r),i,s);e.next(a);const u=Kn(r,this.rootComponentType).snapshot;return Object(C.a)(Object.assign({},t,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),H.a}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(it.a)(t=>{const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object($.a)(t=>Object.assign({},t,{guards:kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(_t.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(C.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(k.a)(t).pipe(Object(_t.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(C.a)(!0);const o=s.map(s=>{const o=Ar(s,e,i);let a;if(function(t){return t&&mr(t.canDeactivate)}(o))a=bn(o.canDeactivate(t,e,n,r));else{if(!mr(o))throw new Error("Invalid CanDeactivate guard");a=bn(o(t,e,n,r))}return a.pipe(bt())});return Object(C.a)(o).pipe(Dr())}(t.component,t.route,n,e,r)),bt(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(_t.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(k.a)(e).pipe(Nt(e=>Object(k.a)([Rr(e.route.parent,r),Pr(e.route,r),Mr(t,e.path,n),Lr(t,e.route,n)]).pipe(W(),bt(t=>!0!==t,!0))),bt(t=>!0!==t,!0))}(r,s,t,e):Object(C.a)(n)),Object($.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(it.a)(t=>{if(gr(t.guardsResult)){const e=un(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(it.a)(t=>{const e=new We(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),J(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wr(t=>{if(t.guards.canActivateChecks.length)return Object(C.a)(t).pipe(Object(it.a)(t=>{const e=new Qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(_t.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(k.a)(i).pipe(Nt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(C.a)({});if(1===i.length){const s=i[0];return Kr(t[s],e,n,r).pipe(Object($.a)(t=>({[s]:t})))}const s={};return Object(k.a)(i).pipe(Object(_t.a)(i=>Kr(t[i],e,n,r).pipe(Object($.a)(t=>(s[i]=t,t))))).pipe(ht(),Object($.a)(()=>s))}(t._resolve,t,e,r).pipe(Object($.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Qn(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(jt.a)(Ct(t,e),et(1),at(e))(n)}:function(e){return Object(jt.a)(Ct((e,n,r)=>t(e,n,r+1)),et(1))(e)}}((t,e)=>t),Object($.a)(e=>t)):Object(C.a)(t)}))}),Object(it.a)(t=>{const e=new Je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Wr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object($.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Hn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Wn(new j((i=n.value).url),new j(i.params),new j(i.queryParams),new j(i.fragment),new j(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Hn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new $n(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Object(it.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object($.a)(t=>(new fr(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(it.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Pt(i))),ft(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=gr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new He(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ge(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Wf){t.reject(Wf)}}var i;return H.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hn(t),this.config=t.map(pn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.V)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return rr(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ir(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return vn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ir(n,e,r)}(n);if(s.toRoot())return rr(e.root,new En([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new sr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new sr(n.snapshot._urlSegment,!0,0);const r=nr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new sr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ur(o.segmentGroup,o.index,s.commands):ar(o.segmentGroup,o.index,s.commands);return rr(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.V)()&&this.isNgZoneEnabled&&!r.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=gr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(IE){e=this.malformedUriErrorHandler(IE,this.urlSerializer,t)}return e}isActive(t,e){if(gr(t))return _n(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _n(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class si{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:oi(this.skipLocationChange),replaceUrl:oi(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:oi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:oi(this.preserveFragment)})}}function oi(t){return""===t||!!t}class ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ui,this.attachRef=null}}class ui{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ai,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class li{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ci(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class ci{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wn?this.route:t===ui?this.childContexts:this.parent.get(t,e)}}class hi{}class di{preload(t,e){return e().pipe(ft(()=>Object(C.a)(null)))}}class fi{preload(t,e){return Object(C.a)(null)}}class pi{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zr(e,n,e=>t.triggerEvent(new Ye(e)),e=>t.triggerEvent(new Ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(J(t=>t instanceof Be),Nt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.v);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(k.a)(n).pipe(Object(K.a)(),Object($.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(_t.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class mi{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const gi=new r.o("ROUTER_CONFIGURATION"),yi=new r.o("ROUTER_FORROOT_GUARD"),vi=[c,{provide:xn,useClass:On},{provide:ii,useFactory:Ii,deps:[r.g,xn,ui,c,r.p,r.u,r.i,Yr,gi,[Xr,new r.y],[Qr,new r.y]]},ui,{provide:Wn,useFactory:xi,deps:[ii]},{provide:r.u,useClass:r.I},pi,fi,di,{provide:gi,useValue:{enableTracing:!1}}];function bi(){return new r.w("Router",ii)}class _i{constructor(t,e){}static forRoot(t,e){return{ngModule:_i,providers:[vi,Ti(t),{provide:yi,useFactory:Si,deps:[[ii,new r.y,new r.H]]},{provide:gi,useValue:e||{}},{provide:u,useFactory:Ei,deps:[o,[new r.n(l),new r.y],gi]},{provide:mi,useFactory:wi,deps:[ii,x,gi]},{provide:hi,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:fi},{provide:r.w,multi:!0,useFactory:bi},[Oi,{provide:r.d,multi:!0,useFactory:Ci,deps:[Oi]},{provide:Ai,useFactory:ki,deps:[Oi]},{provide:r.b,multi:!0,useExisting:Ai}]]}}static forChild(t){return{ngModule:_i,providers:[Ti(t)]}}}function wi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mi(t,e,n)}function Ei(t,e,n={}){return n.useHash?new d(t,e):new f(t,e)}function Si(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ti(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Yr,multi:!0,useValue:t}]}function Ii(t,e,n,r,i,s,o,a,u={},l,c){const h=new ii(null,e,n,r,i,s,o,gn(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Mt();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function xi(t){return t.routerState.root}class Oi{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A.a}appInitializer(){return this.injector.get(a,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ii),r=this.injector.get(gi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(C.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(gi),n=this.injector.get(pi),i=this.injector.get(mi),s=this.injector.get(ii),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Ci(t){return t.appInitializer.bind(t)}function ki(t){return t.bootstrapListener.bind(t)}const Ai=new r.o("Router Initializer");var Ni=r.ob({encapsulation:2,styles:[],data:{}});function ji(t){return r.Hb(0,[(t()(),r.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(1,212992,null,0,li,[ui,r.N,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function Di(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,1,"ng-component",[],null,null,null,ji,Ni)),r.pb(1,49152,null,0,sn,[],null,null)],null,null)}var Pi=r.mb("ng-component",sn,Di,{},{},[]);class Ri{constructor(){}ngOnInit(){}}var Li=r.ob({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{background-color:#fff;color:#f1823e;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;padding:20px;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.header-background[_ngcontent-%COMP%]{background-color:#f1823c}.user-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}h1[_ngcontent-%COMP%]{padding-bottom:10px}.user-icon[_ngcontent-%COMP%]{height:45px;width:45px;margin-bottom:10px}.add-icon[_ngcontent-%COMP%]{height:45px;width:45px}"]],data:{}});function Mi(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,8,"div",[["class","header-background"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,7,"header",[],null,null,null,null,null)),(t()(),r.qb(2,0,null,null,5,"div",[["class","user-container"]],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,0,"img",[["alt","user-icon"],["class","user-icon"],["src","assets/user_orange.svg"]],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Hi Samuel!"])),(t()(),r.qb(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Welcome to Home"])),(t()(),r.qb(8,0,null,null,0,"img",[["alt","add-icon"],["class","add-icon"],["src","assets/plus_orange.svg"]],null,null,null,null,null))],null,null)}function Fi(t){return null!=t&&""+t!="false"}function Ui(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Vi(t){return t instanceof r.k?t.nativeElement:t}const qi=new r.o("NgValueAccessor"),zi=new r.M("8.2.3");let Bi;try{Bi="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ow){Bi=!1}let Hi,Gi=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bi)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.z,8))},token:t,providedIn:"root"}),t})();class $i{}function Ki(t){return function(){if(null==Hi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hi=!0}))}finally{Hi=Hi||!1}return Hi}()?t:!!t.capture}var Wi=n("D0XW");class Qi{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Ji(t,this.dueTime,this.scheduler))}}class Ji extends Q.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Yi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Yi(t){t.debouncedNext()}const Zi=Ki({passive:!0,capture:!0});let Xi=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(C.a)(null);const n=Vi(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new A.a};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",s,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",s,!0)},r.subject.asObservable()}stopMonitoring(t){const e=Vi(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=Vi(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Zi),document.addEventListener("mousedown",this._documentMousedownListener,Zi),document.addEventListener("touchstart",this._documentTouchstartListener,Zi),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Zi),document.removeEventListener("mousedown",this._documentMousedownListener,Zi),document.removeEventListener("touchstart",this._documentTouchstartListener,Zi),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(r.x),Object(r.Mb)(Gi))},token:t,providedIn:"root"}),t})();const ts=new r.M("8.2.3"),es=new r.o("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class ns{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(r.V)()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){ts.full!==zi.full&&console.warn("The Angular Material version ("+ts.full+") does not match the Angular CDK version ("+zi.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function rs(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Fi(t)}}}function is(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}constructor(...t){super(...t),this.color=e}}}function ss(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fi(t)}}}function os(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}let as;try{as="undefined"!=typeof Intl}catch(ow){as=!1}const us=new r.o("MAT_HAMMER_OPTIONS"),ls=["longpress","slide","slidestart","slideend","slideright","slideleft"],cs={on:()=>{},off:()=>{}};class hs extends class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}{constructor(t,e){super(),this._hammerOptions=t,this.events=ls,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return cs;const n=new e(t,this._hammerOptions||void 0),r=new e.Pan,i=new e.Swipe,s=new e.Press,o=this._createRecognizer(r,{event:"slide",threshold:0},i),a=this._createRecognizer(s,{event:"longpress",time:500});return r.recognizeWith(i),a.recognizeWith(o),n.add([i,s,r,o,a]),n}_createRecognizer(t,e,...n){let r=new t.constructor(e);return n.push(t),n.forEach(t=>r.recognizeWith(t)),r}}const ds=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class fs{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=ds.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const ps={enterDuration:450,exitDuration:400},ms=Ki({passive:!0});class gs{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===ds.VISIBLE||t.config.terminateOnPointerUp&&t.state===ds.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=Vi(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},ps,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",l.style.backgroundColor=n.color||null,l.style.transitionDuration=u+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new fs(this,l,n);return c.state=ds.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=ds.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},ps,t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=ds.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=ds.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Vi(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,ms)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,ms)})}}const ys=new r.o("mat-ripple-global-options");class vs{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gs(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class bs{}const _s=new r.o("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,disableDragValue:!1})});let ws=0;class Es{constructor(t,e){this.source=t,this.checked=e}}class Ss{constructor(t){this._elementRef=t}}const Ts=os(is(ss(rs(Ss)),"accent"));class Is extends Ts{constructor(t,e,n,i,s,o,a,u){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._ngZone=s,this.defaults=o,this._animationMode=a,this._dir=u,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++ws,this._required=!1,this._checked=!1,this._dragging=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new r.m,this.toggleChange=new r.m,this.dragChange=new r.m,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=Fi(t)}get checked(){return this._checked}set checked(t){this._checked=Fi(t),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Es(this,this.checked))}_getDragPercentage(t){let e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))}_onDragStart(){if(!this.disabled&&!this._dragging){const t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}}_onDrag(t){if(this._dragging){const e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform=`translate3d(${this._dragPercentage/100*this._thumbBarWidth*e}px, 0, 0)`}}_onDragEnd(){if(this._dragging){const t=this._dragPercentage>50;t!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=t,this._emitChangeEvent())),this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._dragging&&(this._dragging=!1,this._thumbEl.nativeElement.classList.remove("mat-dragging"),this._thumbEl.nativeElement.style.transform="")}))}}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}class xs{}class Os{}let Cs=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ks=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Vi(t);return new D.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new A.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(Cs))},token:t,providedIn:"root"}),t})();class As{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.m,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Fi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ui(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=Wi.a){return n=>n.lift(new Qi(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class Ns{}const js=new r.o("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.U)(T)}});let Ds=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.m,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(js,8))},token:t,providedIn:"root"}),t})();class Ps{}class Rs{}function Ls(t,e=null){return{type:2,steps:t,options:e}}function Ms(t){return{type:6,styles:t,offset:null}}function Fs(t){Promise.resolve(null).then(t)}class Us{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Vs{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Fs(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function qs(){return"undefined"!=typeof process}function zs(t){switch(t.length){case 0:return new Us;case 1:return t[0];default:return new Vs(t)}}function Bs(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Hs(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Gs(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Gs(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Gs(n,"destroy",t)))}}function Gs(t,e,n){const r=n.totalTime,i=$s(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function $s(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ks(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ws(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qs=(t,e)=>!1,Js=(t,e)=>!1,Ys=(t,e,n)=>[];const Zs=qs();(Zs||"undefined"!=typeof Element)&&(Qs=(t,e)=>t.contains(e),Js=(()=>{if(Zs||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Js}})(),Ys=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Xs=null,to=!1;function eo(t){Xs||(Xs=("undefined"!=typeof document?document.body:null)||{},to=!!Xs.style&&"WebkitAppearance"in Xs.style);let e=!0;return Xs.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Xs.style,!e&&to)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xs.style),e}const no=Js,ro=Qs,io=Ys;function so(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class oo{validateStyleProperty(t){return eo(t)}matchesElement(t,e){return no(t,e)}containsElement(t,e){return ro(t,e)}query(t,e,n){return io(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Us(n,r)}}let ao=(()=>{class t{}return t.NOOP=new oo,t})();function uo(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lo(parseFloat(e[1]),e[2])}function lo(t,e){switch(e){case"s":return 1e3*t;default:return t}}function co(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=lo(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=lo(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function ho(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function fo(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ho(t,n);return n}function po(t,e,n){return n?e+":"+n+";":""}function mo(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=po(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=po(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function go(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=To(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),qs()&&mo(t))}function yo(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=To(e);t.style[n]=""}),qs()&&mo(t))}function vo(t){return Array.isArray(t)?1==t.length?t[0]:Ls(t):t}const bo=new RegExp("{{\\s*(.+?)\\s*}}","g");function _o(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=bo.exec(n);)e.push(r[1]);bo.lastIndex=0}return e}function wo(t,e,n){const r=t.toString(),i=r.replace(bo,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Eo(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const So=/-+([a-z0-9])/g;function To(t){return t.replace(So,(...t)=>t[1].toUpperCase())}function Io(t,e){return 0===t||0===e}function xo(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Co(t,e)}))}}return e}function Oo(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Co(t,e){return window.getComputedStyle(t)[e]}function ko(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(jo(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(jo(o,i))}(t,n,e)):n.push(t),n}const Ao=new Set(["true","1"]),No=new Set(["false","0"]);function jo(t,e){const n=Ao.has(t)||No.has(t),r=Ao.has(e)||No.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ao.has(t):No.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ao.has(e):No.has(e)),o&&a}}const Do=new RegExp("s*:selfs*,?","g");function Po(t,e,n){return new Ro(t).build(e,n)}class Ro{constructor(t){this._driver=t}build(t,e){const n=new Lo(e);return this._resetContextStyleTimingState(n),Oo(this,vo(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Mo(t)){const e=t;Object.keys(e).forEach(t=>{_o(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Eo(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Oo(this,vo(t.animation),e);return{type:1,matchers:ko(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Fo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Oo(this,t,e)),options:Fo(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Oo(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Fo(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Uo(co(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Uo(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||co(r,e),Uo(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ms({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ms(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Mo(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=_o(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Mo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Mo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Oo(this,vo(t.animation),e),options:Fo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fo(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Do,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ks(e.collectedStyles,e.currentQuerySelector,{});const o=Oo(this,vo(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Fo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:co(t.timings,e.errors,!0);return{type:12,animation:Oo(this,vo(t.animation),e),timings:n,options:null}}}class Lo{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mo(t){return!Array.isArray(t)&&"object"==typeof t}function Fo(t){var e;return t?(t=ho(t)).params&&(t.params=(e=t.params)?ho(e):null):t={},t}function Uo(t,e,n){return{duration:t,delay:e,easing:n}}function Vo(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class qo{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zo=new RegExp(":enter","g"),Bo=new RegExp(":leave","g");function Ho(t,e,n,r,i,s={},o={},a,u,l=[]){return(new Go).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class Go{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new qo;const c=new Ko(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),Oo(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Vo(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?uo(n.duration):null,s=null!=n.delay?uo(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Oo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$o);const t=uo(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Oo(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?uo(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Oo(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return co(e.params?wo(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?uo(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$o);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Oo(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;Oo(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const $o={};class Ko{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$o,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Wo(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=uo(n.duration)),null!=n.delay&&(r.delay=uo(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=wo(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ko(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=$o,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Qo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(zo,"."+this._enterClassName)).replace(Bo,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Wo{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Wo(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):fo(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=wo(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=fo(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Eo(t.values()):[],s=e.size?Eo(e.values()):[];if(n){const t=r[0],e=ho(t);t.offset=0,e.offset=1,r=[t,e]}return Vo(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Qo extends Wo{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=fo(t[0],!1);a.offset=0,i.push(a);const u=fo(t[0],!1);u.offset=Jo(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=fo(t[r],!1);o.offset=Jo((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Vo(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Jo(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Yo{}class Zo extends Yo{normalizePropertyName(t,e){return To(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Xo[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Xo=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ta(t,e,n,r,i,s,o,a,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const ea={};class na{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||ea,d=this.buildStyles(n,o&&o.params||ea,c),f=a&&a.params||ea,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign({},h,f)},_=l?[]:Ho(t,e,this.ast.animation,i,s,d,p,b,u,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return ta(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=Ks(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ks(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Eo(m.values());return ta(e,this._triggerName,n,r,v,d,p,_,E,g,y,w)}}class ra{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ho(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=wo(s,r,e)),n[t]=s})}}),n}}class ia{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ra(t.style,t.options&&t.options.params||{})}),sa(this.states,"true","1"),sa(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new na(t,e,this.states))}),this.fallbackTransition=new na(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function sa(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const oa=new qo;class aa{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Po(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Bs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Ho(this._driver,e,i,"ng-enter","ng-leave",{},{},n,oa,r),s.forEach(t=>{const e=Ks(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=zs(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=$s(e,"","","");return Hs(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ua=[],la={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ca={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ha{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ho(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const da=new ha("void");class fa{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_a(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ks(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ks(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(_a(t,"ng-trigger"),_a(t,"ng-trigger-"+e),a[e]=da),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new ma(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(_a(t,"ng-trigger"),_a(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new ha(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=da),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{yo(t,n),go(t,r)})}return}const l=Ks(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(_a(t,"ng-animate-queued"),s.onStart(()=>{wa(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,".ng-trigger",!0).forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&zs(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||da,o=new ha("void"),a=new ma(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){_a(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=$s(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Hs(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class pa{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new fa(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ga(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ga(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_a(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wa(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(ga(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ga(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=la,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)_a(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?zs(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new qo,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ba(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>_a(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=ba(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>_a(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>wa(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>wa(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>yo(i,p.fromStyles)),e.onDestroy(()=>go(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>yo(i,p.fromStyles)),e.onDestroy(()=>go(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ks(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ks(E,e,[]).push(t),t.destroy()})});const T=m.filter(t=>Sa(t,a,u)),I=new Map;va(I,this.driver,y,u,"*").forEach(t=>{Sa(t,a,u)&&T.push(t)});const x=new Map;d.forEach((t,e)=>{va(x,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=I.get(t),n=x.get(t);I.set(t,Object.assign({},e,n))});const O=[],C=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>go(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,x,I);if(s.setRealPlayer(n),t===k)O.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=zs(e)),r.push(s)}}else yo(e,o.fromStyles),s.onDestroy(()=>go(e,o.toStyles)),C.push(s),l.has(e)&&r.push(s)}),C.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=zs(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(wa(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Ea(this,t,r):this.processLeaveNode(t)}return m.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Ks(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}yo(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Us(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Vs?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||ua).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Bs(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new ma(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Ks(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>_a(t,"ng-animating"));const d=zs(h);return d.onDestroy(()=>{l.forEach(t=>wa(t,"ng-animating")),go(a,e.toStyles)}),c.forEach(t=>{Ks(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Us(t.duration,t.delay)}}class ma{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Us,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Hs(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ks(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ga(t){return t&&1===t.nodeType}function ya(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function va(t,e,n,r,i){const s=[];n.forEach(t=>s.push(ya(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=ca,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>ya(t,s[a++])),o}function ba(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function _a(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function wa(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Ea(t,e,n){zs(n).onDone(()=>t.processLeaveNode(e))}function Sa(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ta{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new pa(t,e,n),this._timelineEngine=new aa(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Po(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new ia(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ws(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ws(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ia(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Oa(e[0]),e.length>1&&(r=Oa(e[e.length-1]))):e&&(n=Oa(e)),n||r?new xa(t,n,r):null}let xa=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&go(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(go(this._element,this._initialStyles),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),go(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Oa(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ca(i)&&(e=e||{},e[i]=t[i])}return e}function Ca(t){return"display"===t||"position"===t}class ka{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ra(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Pa(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Da(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Aa(this._element,this._name,"paused")}resume(){Aa(this._element,this._name,"running")}setPosition(t){const e=Na(this._element,this._name);this._position=t*this._duration,Pa(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Da(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ra(t,"").split(","),r=ja(n,e);r>=0&&(n.splice(r,1),Pa(t,"",n.join(",")))}(this._element,this._name))}}function Aa(t,e,n){Pa(t,"PlayState",n,Na(t,e))}function Na(t,e){const n=Ra(t,"");return n.indexOf(",")>0?ja(n.split(","),e):ja([n],e)}function ja(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Da(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Pa(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ra(t,e){return t.style["animation"+e]}class La{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ka(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Co(this.element,n))})}this.currentSnapshot=t}}class Ma extends Us{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=so(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Fa{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return eo(t)}matchesElement(t,e){return no(t,e)}containsElement(t,e){return ro(t,e)}query(t,e,n){return io(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>so(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof La),u={};Io(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xo(t,e,u));if(0==n)return new Ma(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Ia(t,e),f=new La(t,e,c,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Ua{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Co(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Va{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qa().toString()),this._cssKeyframesDriver=new Fa}validateStyleProperty(t){return eo(t)}matchesElement(t,e){return no(t,e)}containsElement(t,e){return ro(t,e)}query(t,e,n){return io(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof Ua);Io(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Ia(t,e=xo(t,e=e.map(t=>fo(t,!1)),u));return new Ua(t,e,a,c)}}function qa(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class za extends Rs{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.O.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ls(t):t;return Ga(this._renderer,null,e,"register",[n]),new Ba(e,this._renderer)}}class Ba extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ha(this._id,t,e||{},this._renderer)}}class Ha{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ga(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Ga(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}class $a{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ka("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new Wa(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Ka{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Wa extends Ka{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class Qa extends Ta{constructor(t,e,n){super(t.body,e,n)}}function Ja(){return"function"==typeof qa()?new Va:new Fa}function Ya(){return new Zo}function Za(t,e,n){return new $a(t,e,n)}const Xa=new r.o("AnimationModuleType");class tu{}var eu=r.ob({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging{transition-duration:0s}.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function nu(t){return r.Hb(2,[r.Eb(671088640,1,{_thumbEl:0}),r.Eb(671088640,2,{_thumbBarEl:0}),r.Eb(671088640,3,{_inputElement:0}),(t()(),r.qb(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(t()(),r.qb(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(t()(),r.qb(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==i._onChangeEvent(n)&&r),"click"===e&&(r=!1!==i._onInputClick(n)&&r),r}),null,null)),(t()(),r.qb(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],(function(t,e,n){var r=!0,i=t.component;return"slidestart"===e&&(r=!1!==i._onDragStart()&&r),"slide"===e&&(r=!1!==i._onDrag(n)&&r),"slideend"===e&&(r=!1!==i._onDragEnd()&&r),r}),null,null)),(t()(),r.qb(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(t()(),r.qb(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.pb(9,212992,null,0,vs,[r.k,r.x,Gi,[2,ys],[2,Xa]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),r.Cb(10,{enterDuration:0}),(t()(),r.qb(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(t()(),r.qb(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],(function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component._onLabelTextChange()&&r),r}),null,null)),r.pb(13,1196032,null,0,As,[ks,r.k,r.x],null,{event:"cdkObserveContent"}),(t()(),r.qb(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(t()(),r.Gb(-1,null,["\xa0"])),r.Ab(null,0)],(function(t,e){var n=e.component,i=t(e,10,0,150);t(e,9,0,!0,20,i,n.disableRipple||n.disabled,r.Bb(e,3))}),(function(t,e){var n=e.component;t(e,3,0,n.inputId),t(e,4,0,!r.Bb(e,12).textContent||!r.Bb(e,12).textContent.trim()),t(e,5,0,n.inputId,n.required,n.tabIndex,n.checked,n.disabled,n.name,n.checked.toString(),n.ariaLabel,n.ariaLabelledby),t(e,8,0,r.Bb(e,9).unbounded)}))}class ru{constructor(t){this.firestore=t}ngOnInit(){}}function iu(){return t=>t.lift(new su)}class su{call(t,e){return e.subscribe(new ou(t))}}class ou extends Q.a{constructor(t){super(t),this.hasPrev=!1}_next(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}class au{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new uu(t,this.compare,this.keySelector))}}class uu extends Q.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var lu=n("pxpQ"),cu=n("jmUF"),hu=n("Jgta"),du=n("zIRd"),fu=n("q/0M"),pu=n("qOnz"),mu=function(t,e){return(mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var yu,vu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bu=bu||{},_u=vu||self;function wu(){}function Eu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Su(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Tu="closure_uid_"+(1e9*Math.random()>>>0),Iu=0;function xu(t,e,n){return t.call.apply(t.bind,arguments)}function Ou(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Cu(t,e,n){return(Cu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xu:Ou).apply(null,arguments)}function ku(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Au(){return Date.now()}function Nu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ju(){this.j=this.j,this.i=this.i}ju.prototype.j=!1,ju.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Tu)&&t[Tu]||(t[Tu]=++Iu)}(this)},ju.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Du=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Pu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ru(t){return Array.prototype.concat.apply([],arguments)}function Lu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mu(t){return/^[\s\xa0]*$/.test(t)}var Fu,Uu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vu(t,e){return-1!=t.indexOf(e)}function qu(t,e){return t<e?-1:t>e?1:0}t:{var zu=_u.navigator;if(zu){var Bu=zu.userAgent;if(Bu){Fu=Bu;break t}}Fu=""}function Hu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Gu(t){var e={};for(var n in t)e[n]=t[n];return e}var $u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ku(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<$u.length;s++)n=$u[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wu(t){return Wu[" "](t),t}Wu[" "]=wu;var Qu,Ju,Yu=Vu(Fu,"Opera"),Zu=Vu(Fu,"Trident")||Vu(Fu,"MSIE"),Xu=Vu(Fu,"Edge"),tl=Xu||Zu,el=Vu(Fu,"Gecko")&&!(Vu(Fu.toLowerCase(),"webkit")&&!Vu(Fu,"Edge"))&&!(Vu(Fu,"Trident")||Vu(Fu,"MSIE"))&&!Vu(Fu,"Edge"),nl=Vu(Fu.toLowerCase(),"webkit")&&!Vu(Fu,"Edge");function rl(){var t=_u.document;return t?t.documentMode:void 0}t:{var il="",sl=(Ju=Fu,el?/rv:([^\);]+)(\)|;)/.exec(Ju):Xu?/Edge\/([\d\.]+)/.exec(Ju):Zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ju):nl?/WebKit\/(\S+)/.exec(Ju):Yu?/(?:Version)[ \/]?(\S+)/.exec(Ju):void 0);if(sl&&(il=sl?sl[1]:""),Zu){var ol=rl();if(null!=ol&&ol>parseFloat(il)){Qu=String(ol);break t}}Qu=il}var al={};function ul(t){return function(t,e){var n=al;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Uu(String(Qu)).split("."),r=Uu(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=qu(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||qu(0==o[2].length,0==a[2].length)||qu(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var ll=_u.document&&Zu&&(rl()||parseInt(Qu,10))||void 0,cl=!Zu||9<=Number(ll),hl=Zu&&!ul("9"),dl=function(){if(!_u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_u.addEventListener("test",wu,e),_u.removeEventListener("test",wu,e)}catch(n){}return t}();function fl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pl(t,e){if(fl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(el){t:{try{Wu(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ml[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fl.prototype.b=function(){this.defaultPrevented=!0},Nu(pl,fl);var ml={2:"touch",3:"pen",4:"mouse"};pl.prototype.b=function(){pl.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hl)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var gl="closure_listenable_"+(1e6*Math.random()|0),yl=0;function vl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++yl,this.Y=this.Z=!1}function bl(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _l(t){this.src=t,this.a={},this.b=0}function wl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Du(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(bl(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function El(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}_l.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=El(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new vl(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Sl="closure_lm_"+(1e6*Math.random()|0),Tl={};function Il(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Dl(r),e&&e[gl]?e.wa(n,r,Su(i)?!!i.capture:!!i,s):xl(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Il(t,e[s],n,r,i);return null}return n=Dl(n),t&&t[gl]?t.va(e,n,Su(r)?!!r.capture:!!r,i):xl(t,e,n,!1,r,i)}function xl(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Su(i)?!!i.capture:!!i;if(o&&!cl)return null;var a=Nl(t);if(a||(t[Sl]=a=new _l(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Al,e=cl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dl||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Cl(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ol(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[gl])wl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Cl(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nl(e))?(wl(n,t),0==n.b&&(n.src=null,e[Sl]=null)):bl(t)}}}function Cl(t){return t in Tl?Tl[t]:Tl[t]="on"+t}function kl(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ol(t),n.call(r,e)}function Al(t,e){if(t.Y)return!0;if(!cl){if(!e)t:{e=["window","event"];for(var n=_u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return kl(t,e=new pl(e,this))}return kl(t,new pl(e,this))}function Nl(t){return(t=t[Sl])instanceof _l?t:null}var jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dl(t){return"function"==typeof t?t:(t[jl]||(t[jl]=function(e){return t.handleEvent(e)}),t[jl])}function Pl(){ju.call(this),this.c=new _l(this),this.J=this,this.C=null}function Rl(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new fl(e,t);else if(e instanceof fl)e.target=e.target||t;else{var i=e;Ku(e=new fl(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Ll(o,r,!0,e)&&i}if(i=Ll(o=e.a=t,r,!0,e)&&i,i=Ll(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ll(o=e.a=n[s],r,!1,e)&&i}function Ll(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&wl(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nu(Pl,ju),Pl.prototype[gl]=!0,(yu=Pl.prototype).addEventListener=function(t,e,n,r){Il(this,t,e,n,r)},yu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Su(i)?!!i.capture:!!i,r=Dl(r),e&&e[gl]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=El(o=e.a[n],r,i,s))&&(bl(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Nl(e))&&(n=e.a[n.toString()],e=-1,n&&(e=El(n,r,i,s)),(r=-1<e?n[e]:null)&&Ol(r))}(this,t,e,n,r)},yu.G=function(){if(Pl.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)bl(n[r]);delete e.a[t],e.b--}}this.C=null},yu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},yu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ml=_u.JSON.stringify;function Fl(){this.b=this.a=null}var Ul,Vl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new zl}),(function(t){t.reset()}));function ql(){var t=$l,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function zl(){this.next=this.b=this.a=null}function Bl(t){_u.setTimeout((function(){throw t}),0)}function Hl(t,e){Ul||function(){var t=_u.Promise.resolve(void 0);Ul=function(){t.then(Kl)}}(),Gl||(Ul(),Gl=!0),$l.add(t,e)}Fl.prototype.add=function(t,e){var n=Vl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},zl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},zl.prototype.reset=function(){this.next=this.b=this.a=null};var Gl=!1,$l=new Fl;function Kl(){for(var t;t=ql();){try{t.a.call(t.b)}catch(n){Bl(n)}var e=Vl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gl=!1}function Wl(t,e){Pl.call(this),this.b=t||1,this.a=e||_u,this.f=Cu(this.Za,this),this.g=Au()}function Ql(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jl(t,e,n){if("function"==typeof t)n&&(t=Cu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Cu(t.handleEvent,t)}return 2147483647<Number(e)?-1:_u.setTimeout(t,e||0)}function Yl(t){t.a=Jl((function(){t.a=null,t.c&&(t.c=!1,Yl(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Nu(Wl,Pl),(yu=Wl.prototype).aa=!1,yu.M=null,yu.Za=function(){if(this.aa){var t=Au()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Rl(this,"tick"),this.aa&&(Ql(this),this.start()))}},yu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Au())},yu.G=function(){Wl.X.G.call(this),Ql(this),delete this.a};var Zl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}mu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ju);function Xl(t){ju.call(this),this.b=t,this.a={}}Nu(Xl,ju);var tc=[];function ec(t,e,n,r){Array.isArray(n)||(n&&(tc[0]=n.toString()),n=tc);for(var i=0;i<n.length;i++){var s=Il(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function nc(t){Hu(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ol(t)}),t),t.a={}}function rc(){this.a=!0}function ic(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ml(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Xl.prototype.G=function(){Xl.X.G.call(this),nc(this)},Xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rc.prototype.info=function(){};var sc={},oc=null;function ac(){return oc=oc||new Pl}function uc(t){fl.call(this,sc.Fa,t)}function lc(t){var e=ac();Rl(e,new uc(e,t))}function cc(t,e){fl.call(this,sc.STAT_EVENT,t),this.stat=e}function hc(t){var e=ac();Rl(e,new cc(e,t))}function dc(t){fl.call(this,sc.Ga,t)}function fc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _u.setTimeout((function(){t()}),e)}sc.Fa="serverreachability",Nu(uc,fl),sc.STAT_EVENT="statevent",Nu(cc,fl),sc.Ga="timingevent",Nu(dc,fl);var pc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},mc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function gc(){}function yc(){}gc.prototype.a=null;var vc,bc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function _c(){fl.call(this,"d")}function wc(){fl.call(this,"c")}function Ec(){}function Sc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xl(this),this.P=Tc,this.R=new Wl(t=tl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Nu(_c,fl),Nu(wc,fl),Nu(Ec,gc),vc=new Ec;var Tc=45e3,Ic={},xc={};function Oc(t,e,n){t.H=1,t.i=Qc(Bc(e)),t.j=n,t.I=!0,Cc(t,null)}function Cc(t,e){t.u=Au(),Nc(t),t.l=Bc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),uh(n.b,"t",r),t.D=0,t.a=nd(t.g,t.g.C?e:null),0<t.O&&(t.F=new Zl(Cu(t.Ca,t,t.a),t.O)),ec(t.J,t.a,"readystatechange",t.Xa),e=t.B?Gu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),lc(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function kc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ac(t,n);if(i==xc){4==e&&(t.h=4,hc(14),r=!1),ic(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ic){t.h=4,hc(15),ic(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ic(t.c,t.f,i,null),Lc(t,i)}4==e&&0==n.length&&(t.h=1,hc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wh(e),e.F=!0,hc(11))):(ic(t.c,t.f,n,"[Invalid Chunked Response]"),Rc(t),Pc(t))}function Ac(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?xc:(n=Number(e.substring(n,r)),isNaN(n)?Ic:(r+=1)+n>e.length?xc:(e=e.substr(r,n),t.D=r+n,e))}function Nc(t){t.T=Au()+t.P,jc(t,t.P)}function jc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=fc(Cu(t.Va,t),e)}function Dc(t){t.o&&(_u.clearTimeout(t.o),t.o=null)}function Pc(t){0==t.g.v||t.A||Yh(t.g,t)}function Rc(t){Dc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ql(t.R),nc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Lc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||mh(n.b,t)))if(n.I=t.N,!t.C&&mh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Fw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Jh(n),Uh(n)}Kh(n),hc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=fc(Cu(n.Sa,n),6e3));if(1>=ph(n.b)&&n.ea){try{n.ea()}catch(Fw){}n.ea=void 0}}else Xh(n,11)}else if((t.C||n.a==t)&&Jh(n),!Mu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(Vu(c,"spdy")||Vu(c,"quic")||Vu(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(gh(h,h.b),h.b=null))}if(u.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Wc(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Au()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=ed(u,u.C?u.ga:null,u.fa),f.C){yh(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Dc(p),Nc(p)),u.a=f}else $h(u);0<n.g.length&&zh(n)}else"stop"!=i[0]&&"close"!=i[0]||Xh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xh(n,7):Fh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);lc(4)}catch(Fw){}}function Mc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Eu(t)||"string"==typeof t)Pu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Eu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Eu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Fc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Uc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(yu=Sc.prototype).setTimeout=function(t){this.P=t},yu.Xa=function(t){t=t.target;var e=this.F;e&&3==Ph(t)?e.f():this.Ca(t)},yu.Ca=function(t){try{if(t==this.a)t:{var e=Ph(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!tl&&!this.a.$())){this.A||4!=e||7==n||lc(8==n||0>=r?3:2),Dc(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mu(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,hc(12),Rc(this),Pc(this);break t}ic(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Lc(this,u)}this.I?(kc(this,e,s),tl&&this.b&&3==e&&(ec(this.J,this.R,"tick",this.Wa),this.R.start())):(ic(this.c,this.f,s,null),Lc(this,s)),4==e&&Rc(this),this.b&&!this.A&&(4==e?Yh(this.g,this):(this.b=!1,Nc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,hc(12)):(this.h=0,hc(13)),Rc(this),Pc(this)}}}catch(l){}},yu.Wa=function(){if(this.a){var t=Ph(this.a),e=this.a.$();this.D<e.length&&(Dc(this),kc(this,t,e),this.b&&4!=t&&Nc(this))}},yu.cancel=function(){this.A=!0,Rc(this)},yu.Va=function(){this.o=null;var t=Au();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(lc(3),hc(17)),Rc(this),this.h=2,Pc(this)):jc(this,this.T-t)},(yu=Fc.prototype).K=function(){Uc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},yu.L=function(){return Uc(this),this.a.concat()},yu.get=function(t,e){return Vc(this.b,t)?this.b[t]:e},yu.set=function(t,e){Vc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},yu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var qc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof zc){this.a=void 0!==e?e:t.a,Hc(this,t.f),this.j=t.j,Gc(this,t.c),$c(this,t.h),this.g=t.g,e=t.b;var n=new ih;n.c=e.c,e.a&&(n.a=new Fc(e.a),n.b=e.b),Kc(this,n),this.i=t.i}else t&&(n=String(t).match(qc))?(this.a=!!e,Hc(this,n[1]||"",!0),this.j=Jc(n[2]||""),Gc(this,n[3]||"",!0),$c(this,n[4]),this.g=Jc(n[5]||"",!0),Kc(this,n[6]||"",!0),this.i=Jc(n[7]||"")):(this.a=!!e,this.b=new ih(null,this.a))}function Bc(t){return new zc(t)}function Hc(t,e,n){t.f=n?Jc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gc(t,e,n){t.c=n?Jc(e,!0):e}function $c(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Kc(t,e,n){e instanceof ih?(t.b=e,function(t,e){e&&!t.f&&(sh(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(oh(this,e),uh(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Yc(e,nh)),t.b=new ih(e,t.a))}function Wc(t,e,n){t.b.set(e,n)}function Qc(t){return Wc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Au()).toString(36)),t}function Jc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yc(e,Xc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yc(e,Xc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yc(n,"/"==n.charAt(0)?eh:th,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yc(n,rh)),t.join("")};var Xc=/[#\/\?@]/g,th=/[#\?:]/g,eh=/[#\?]/g,nh=/[#\?@]/g,rh=/#/g;function ih(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sh(t){t.a||(t.a=new Fc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function oh(t,e){sh(t),e=lh(t,e),Vc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Uc(t)))}function ah(t,e){return sh(t),e=lh(t,e),Vc(t.a.b,e)}function uh(t,e,n){oh(t,e),0<n.length&&(t.c=null,t.a.set(lh(t,e),Lu(n)),t.b+=n.length)}function lh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(yu=ih.prototype).add=function(t,e){sh(this),this.c=null,t=lh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},yu.forEach=function(t,e){sh(this),this.a.forEach((function(n,r){Pu(n,(function(n){t.call(e,n,r,this)}),this)}),this)},yu.L=function(){sh(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},yu.K=function(t){sh(this);var e=[];if("string"==typeof t)ah(this,t)&&(e=Ru(e,this.a.get(lh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ru(e,t[n])}return e},yu.set=function(t,e){return sh(this),this.c=null,ah(this,t=lh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},yu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},yu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ch=function(){return function(t,e){this.b=t,this.a=e}}();function hh(t){this.g=t||dh,t=_u.PerformanceNavigationTiming?0<(t=_u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_u.ia&&_u.ia.ya&&_u.ia.ya()&&_u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var dh=10;function fh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ph(t){return t.b?1:t.a?t.a.size:0}function mh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function gh(t,e){t.a?t.a.add(e):t.b=e}function yh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function vh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=gu(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Lu(t.c)}function bh(){}function _h(){this.a=new bh}function wh(t,e,n){var r=n||"";try{Mc(t,(function(t,n){var i=t;Su(t)&&(i=Ml(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(IE){throw e.push(r+"type="+encodeURIComponent("_badmap")),IE}}function Eh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}hh.prototype.cancel=function(){var t,e;if(this.c=vh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gu(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},bh.prototype.stringify=function(t){return _u.JSON.stringify(t,void 0)},bh.prototype.parse=function(t){return _u.JSON.parse(t,void 0)};var Sh=_u.JSON.parse;function Th(t){Pl.call(this),this.headers=new Fc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ih,this.D=this.F=!1}Nu(Th,Pl);var Ih="",xh=/^https?$/i,Oh=["POST","PUT"];function Ch(t){return"content-type"==t.toLowerCase()}function kh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ah(t),jh(t)}function Ah(t){t.u||(t.u=!0,Rl(t,"complete"),Rl(t,"error"))}function Nh(t){if(t.b&&void 0!==bu&&(!t.s[1]||4!=Ph(t)||2!=t.W()))if(t.l&&4==Ph(t))Jl(t.za,0,t);else if(Rl(t,"readystatechange"),4==Ph(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(qc)[1]||null;if(!s&&_u.self&&_u.self.location){var o=_u.self.location.protocol;s=o.substr(0,o.length-1)}i=!xh.test(s?s.toLowerCase():"")}e=i}if(e)Rl(t,"complete"),Rl(t,"success");else{t.h=6;try{var a=2<Ph(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ah(t)}}finally{jh(t)}}}function jh(t,e){if(t.a){Dh(t);var n=t.a,r=t.s[0]?wu:null;t.a=null,t.s=null,e||Rl(t,"ready");try{n.onreadystatechange=r}catch(IE){}}}function Dh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_u.clearTimeout(t.m),t.m=null)}function Ph(t){return t.a?t.a.readyState:0}function Rh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Hu(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Wc(t,e,n))}function Lh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Mh(t){this.pa=0,this.g=[],this.c=new rc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lh("baseRetryDelayMs",5e3,t),this.Ra=Lh("retryDelaySeedMs",1e4,t),this.Ma=Lh("forwardChannelMaxRetries",2,t),this.ma=Lh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new hh(t&&t.concurrentRequestLimit),this.ka=new _h,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fh(t){if(Vh(t),3==t.v){var e=t.R++,n=Bc(t.B);Wc(n,"SID",t.J),Wc(n,"RID",e),Wc(n,"TYPE","terminate"),Hh(t,n),(e=new Sc(t,t.c,e,void 0)).H=2,e.i=Qc(Bc(n)),n=!1,_u.navigator&&_u.navigator.sendBeacon&&(n=_u.navigator.sendBeacon(e.i.toString(),"")),!n&&_u.Image&&((new Image).src=e.i,n=!0),n||(e.a=nd(e.g,null),e.a.ba(e.i)),e.u=Au(),Nc(e)}td(t)}function Uh(t){t.a&&(Wh(t),t.a.cancel(),t.a=null)}function Vh(t){Uh(t),t.j&&(_u.clearTimeout(t.j),t.j=null),Jh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&_u.clearTimeout(t.h),t.h=null)}function qh(t,e){t.g.push(new ch(t.Oa++,e)),3==t.v&&zh(t)}function zh(t){fh(t.b)||t.h||(t.h=!0,Hl(t.Ba,t),t.u=0)}function Bh(t,e){var n;n=e?e.f:t.R++;var r=Bc(t.B);Wc(r,"SID",t.J),Wc(r,"RID",n),Wc(r,"AID",t.P),Hh(t,r),t.i&&t.l&&Rh(r,t.i,t.l),n=new Sc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Gh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),gh(t.b,n),Oc(n,r,e)}function Hh(t,e){t.f&&Mc({},(function(t,n){Wc(e,n,t)}))}function Gh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Cu(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=s))s=Math.max(0,i[u].b-100),a=!1;else try{wh(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function $h(t){t.a||t.j||(t.T=1,Hl(t.Aa,t),t.o=0)}function Kh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=fc(Cu(t.Aa,t),Zh(t,t.o)),t.o++,0))}function Wh(t){null!=t.s&&(_u.clearTimeout(t.s),t.s=null)}function Qh(t){t.a=new Sc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Bc(t.la);Wc(e,"RID","rpc"),Wc(e,"SID",t.J),Wc(e,"CI",t.H?"0":"1"),Wc(e,"AID",t.P),Hh(t,e),Wc(e,"TYPE","xmlhttp"),t.i&&t.l&&Rh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Qc(Bc(e)),n.j=null,n.I=!0,Cc(n,t)}function Jh(t){null!=t.m&&(_u.clearTimeout(t.m),t.m=null)}function Yh(t,e){var n=null;if(t.a==e){Jh(t),Wh(t),t.a=null;var r=2}else{if(!mh(t.b,e))return;n=e.s,yh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Au()-e.u;var i=t.u;Rl(r=ac(),new dc(r,n,e,i)),zh(t)}else $h(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ph(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=fc(Cu(t.Ba,t,e),Zh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Kh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xh(t,5);break;case 4:Xh(t,10);break;case 3:Xh(t,6);break;default:Xh(t,2)}}function Zh(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Cu(t.Ya,t);n||(n=new zc("//www.google.com/images/cleardot.gif"),_u.location&&"http"==_u.location.protocol||Hc(n,"https"),Qc(n)),function(t,e){var n=new rc;if(_u.Image){var r=new Image;r.onload=ku(Eh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ku(Eh,n,r,"TestLoadImage: error",!1,e),r.onabort=ku(Eh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ku(Eh,n,r,"TestLoadImage: timeout",!1,e),_u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else hc(2);t.v=0,t.f&&t.f.ra(e),td(t),Vh(t)}function td(t){t.v=0,t.I=-1,t.f&&(0==vh(t.b).length&&0==t.g.length||(t.b.c.length=0,Lu(t.g),t.g.length=0),t.f.qa())}function ed(t,e,n){var r=function(t){return t instanceof zc?Bc(t):new zc(t,void 0)}(n);if(""!=r.c)e&&Gc(r,e+"."+r.c),$c(r,r.h);else{var i=_u.location;r=function(t,e,n,r){var i=new zc(null,void 0);return t&&Hc(i,t),e&&Gc(i,e),n&&$c(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Hu(t.V,(function(t,e){Wc(r,e,t)})),n=t.na,(e=t.A)&&n&&Wc(r,e,n),Wc(r,"VER",t.ha),Hh(t,r),r}function nd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Th(t.Na)).F=t.C,e}function rd(){}function id(){if(Zu&&!(10<=Number(ll)))throw Error("Environmental error: no available transport.")}function sd(t,e){Pl.call(this),this.a=new Mh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mu(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ud(this)}function od(t){_c.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ad(){wc.call(this),this.status=1}function ud(t){this.a=t}(yu=Th.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:vc),this.a.onreadystatechange=Cu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void kh(this,s)}t=n||"";var i=new Fc(this.headers);r&&Mc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ch,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=_u.FormData&&t instanceof _u.FormData,!(0<=Du(Oh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dh(this),0<this.o&&((this.D=function(t){return Zu&&ul(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Cu(this.xa,this)):this.m=Jl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){kh(this,s)}},yu.xa=function(){void 0!==bu&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Rl(this,"timeout"),this.abort(8))},yu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Rl(this,"complete"),Rl(this,"abort"),jh(this))},yu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jh(this,!0)),Th.X.G.call(this)},yu.za=function(){this.j||(this.A||this.l||this.g?Nh(this):this.Ua())},yu.Ua=function(){Nh(this)},yu.W=function(){try{return 2<Ph(this)?this.a.status:-1}catch(Ju){return-1}},yu.$=function(){try{return this.a?this.a.responseText:""}catch(Ju){return""}},yu.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sh(e)}},yu.ua=function(){return this.h},yu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(yu=Mh.prototype).ha=8,yu.v=1,yu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Sc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ku(r=Gu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Gh(this,n,e),Wc(i=Bc(this.B),"RID",t),Wc(i,"CVER",22),this.A&&Wc(i,"X-HTTP-Session-Id",this.A),Hh(this,i),this.i&&r&&Rh(i,this.i,r),gh(this.b,n),this.Ia&&Wc(i,"TYPE","init"),this.da?(Wc(i,"$req",e),Wc(i,"SID","null"),n.U=!0,Oc(n,i,null)):Oc(n,i,e),this.v=2}}else 3==this.v&&(t?Bh(this,t):0==this.g.length||fh(this.b)||Bh(this))},yu.Aa=function(){if(this.j=null,Qh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=fc(Cu(this.Ta,this),t)}},yu.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,hc(10),Uh(this),Qh(this))},yu.Sa=function(){null!=this.m&&(this.m=null,Uh(this),Kh(this),hc(19))},yu.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),hc(2)):(this.c.info("Failed to ping google.com"),hc(1))},(yu=rd.prototype).ta=function(){},yu.sa=function(){},yu.ra=function(){},yu.qa=function(){},yu.Ja=function(){},id.prototype.a=function(t,e){return new sd(t,e)},Nu(sd,Pl),sd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;hc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ed(t,null,t.fa),zh(t)},sd.prototype.close=function(){Fh(this.a)},sd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,qh(this.a,e)}else this.l?((e={}).__data__=Ml(t),qh(this.a,e)):qh(this.a,t)},sd.prototype.G=function(){this.a.f=null,delete this.f,Fh(this.a),delete this.a,sd.X.G.call(this)},Nu(od,_c),Nu(ad,wc),Nu(ud,rd),ud.prototype.ta=function(){Rl(this.a,"a")},ud.prototype.sa=function(t){Rl(this.a,new od(t))},ud.prototype.ra=function(t){Rl(this.a,new ad(t))},ud.prototype.qa=function(){Rl(this.a,"b")},id.prototype.createWebChannel=id.prototype.a,sd.prototype.send=sd.prototype.h,sd.prototype.open=sd.prototype.g,sd.prototype.close=sd.prototype.close,pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,mc.COMPLETE="complete",yc.EventType=bc,bc.OPEN="a",bc.CLOSE="b",bc.ERROR="c",bc.MESSAGE="d",Pl.prototype.listen=Pl.prototype.va,Th.prototype.listenOnce=Th.prototype.wa,Th.prototype.getLastError=Th.prototype.Qa,Th.prototype.getLastErrorCode=Th.prototype.ua,Th.prototype.getStatus=Th.prototype.W,Th.prototype.getResponseJson=Th.prototype.Pa,Th.prototype.getResponseText=Th.prototype.$,Th.prototype.send=Th.prototype.ba;var ld=pc,cd=mc,hd=sc,dd=yc,fd=Th,pd=n("mrSG"),md=new fu.b("@firebase/firestore");function gd(){return md.logLevel}function yd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(md.logLevel<=fu.a.DEBUG){var r=e.map(_d);md.debug.apply(md,Object(pd.g)(["Firestore (8.2.2): "+t],r))}}function vd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(md.logLevel<=fu.a.ERROR){var r=e.map(_d);md.error.apply(md,Object(pd.g)(["Firestore (8.2.2): "+t],r))}}function bd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(md.logLevel<=fu.a.WARN){var r=e.map(_d);md.warn.apply(md,Object(pd.g)(["Firestore (8.2.2): "+t],r))}}function _d(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(IE){return t}}function wd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Ed(t,e){t||wd()}function Sd(t,e){return t}function Td(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Id=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Td(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xd(t,e){return t<e?-1:t>e?1:0}function Od(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Cd(t){return t+"\0"}var kd=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return xd(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();kd.h=new kd("");var Ad={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(pd.c)(e,t),e}(Error),jd=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(kd.fromBase64String(e))}catch(e){throw new Nd(Ad.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(kd.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Dd=function(t){this._=t};function Pd(){if("undefined"==typeof Uint8Array)throw new Nd(Ad.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rd(){if("undefined"==typeof atob)throw new Nd(Ad.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.fromBase64String=function(t){return Rd(),new e(jd.fromBase64String(t))},e.fromUint8Array=function(t){return Pd(),new e(jd.fromUint8Array(t))},e.prototype.toBase64=function(){return Rd(),this._.toBase64()},e.prototype.toUint8Array=function(){return Pd(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Dd),Md=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},Fd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ud=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ud.UNAUTHENTICATED=new Ud(null),Ud.P=new Ud("google-credentials-uid"),Ud.g=new Ud("first-party-uid");var Vd=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},qd=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ud.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),zd=function(){function t(t){var e=this;this.C=null,this.currentUser=Ud.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(yd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ed("string"==typeof n.accessToken),new Vd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Ed(null===t||"string"==typeof t),new Ud(t)},t}(),Bd=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ud.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Hd=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Bd(this.k,this.M))},t.prototype.S=function(t){t(Ud.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Gd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Gd.U=-1;var $d=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nd(Ad.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nd(Ad.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Nd(Ad.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nd(Ad.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?xd(this.nanoseconds,t.nanoseconds):xd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Kd=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new $d(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Wd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wd(),void 0===n?n=t.length-e:n>t.length-e&&wd(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Wd),Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Jd.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Nd(Ad.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nd(Ad.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Nd(Ad.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Wd),Zd=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Qd.ct(e))},t.dt=function(e){return new t(Qd.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Qd.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Qd.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Qd(e.slice()))},t}();function Xd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ef(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nf=function(){function t(t){this.fields=t,t.sort(Yd.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Od(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sf(t){if(Ed(!!t),"string"==typeof t){var e=0,n=rf.exec(t);if(Ed(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:of(t.seconds),nanos:of(t.nanos)}}function of(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function af(t){return"string"==typeof t?kd.fromBase64String(t):kd.fromUint8Array(t)}function uf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lf(t){var e=sf(t.mapValue.fields.__local_write_time__.timestampValue);return new $d(e.seconds,e.nanos)}function cf(t){return null==t}function hf(t){return 0===t&&1/t==-1/0}function df(t){return"number"==typeof t&&Number.isInteger(t)&&!hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ff(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uf(t)?4:10:wd()}function pf(t,e){var n=ff(t);if(n!==ff(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lf(t).isEqual(lf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=sf(t.timestampValue),r=sf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return af(t.bytesValue).isEqual(af(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return of(t.geoPointValue.latitude)===of(e.geoPointValue.latitude)&&of(t.geoPointValue.longitude)===of(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return of(t.integerValue)===of(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=of(t.doubleValue),r=of(e.doubleValue);return n===r?hf(n)===hf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Od(t.arrayValue.values||[],e.arrayValue.values||[],pf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Xd(n)!==Xd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pf(n[i],r[i])))return!1;return!0}(t,e);default:return wd()}}function mf(t,e){return void 0!==(t.values||[]).find((function(t){return pf(t,e)}))}function gf(t,e){var n=ff(t),r=ff(e);if(n!==r)return xd(n,r);switch(n){case 0:return 0;case 1:return xd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=of(t.integerValue||t.doubleValue),r=of(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yf(t.timestampValue,e.timestampValue);case 4:return yf(lf(t),lf(e));case 5:return xd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=af(t),r=af(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=xd(n[i],r[i]);if(0!==s)return s}return xd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xd(of(t.latitude),of(e.latitude));return 0!==n?n:xd(of(t.longitude),of(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=gf(n[i],r[i]);if(s)return s}return xd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=xd(r[o],s[o]);if(0!==a)return a;var u=gf(n[r[o]],i[s[o]]);if(0!==u)return u}return xd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw wd()}}function yf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xd(t,e);var n=sf(t),r=sf(e),i=xd(n.seconds,r.seconds);return 0!==i?i:xd(n.nanos,r.nanos)}function vf(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=sf(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?af(e.bytesValue).toBase64():"referenceValue"in e?Zd.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):wd();var n}(t)}function bf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function _f(t){return!!t&&"integerValue"in t}function wf(t){return!!t&&"arrayValue"in t}function Ef(t){return!!t&&"nullValue"in t}function Sf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}var If=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Tf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return pf(this.proto,t.proto)},t}(),xf=function(){function t(t){void 0===t&&(t=If.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ff(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Yd.at(),this.Rt);return null!=t?new If(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Tf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Of(t){var e=[];return tf(t.fields||{},(function(t,n){var r=new Yd([t]);if(Tf(n)){var i=Of(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new nf(e)}var Cf=function(t,e){this.key=t,this.version=e},kf=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(pd.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Cf),Af=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(pd.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Cf),Nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Cf),jf=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Df(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new jf(t,e,n,r,i,s,o)}function Pf(t){var e=Sd(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+vf(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kf(e.startAt)),e.endAt&&(n+="|ub:",n+=Kf(e.endAt)),e.St=n}return e.St}function Rf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Qf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!pf(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yf(t.startAt,e.startAt)&&Yf(t.endAt,e.endAt)}function Lf(t){return Zd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(pd.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Ff(t,n,r):"array-contains"===n?new zf(t,r):"in"===n?new Bf(t,r):"not-in"===n?new Hf(t,r):"array-contains-any"===n?new Gf(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Uf(t,n):new Vf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(gf(e,this.value)):null!==e&&ff(this.value)===ff(e)&&this.Ct(gf(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wd()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zd.dt(r.referenceValue),i}return Object(pd.c)(e,t),e.prototype.matches=function(t){var e=Zd.J(t.key,this.key);return this.Ct(e)},e}(Mf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qf(0,n),r}return Object(pd.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mf),Vf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qf(0,n),r}return Object(pd.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mf);function qf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Zd.dt(t.referenceValue)}))}var zf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(pd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wf(e)&&mf(e.arrayValue,this.value)},e}(Mf),Bf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(pd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&mf(this.value.arrayValue,e)},e}(Mf),Hf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(pd.c)(e,t),e.prototype.matches=function(t){if(mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!mf(this.value.arrayValue,e)},e}(Mf),Gf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(pd.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return mf(e.value.arrayValue,t)}))},e}(Mf),$f=function(t,e){this.position=t,this.before=e};function Kf(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return vf(t)})).join(",")}var Wf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Qf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Zd.J(Zd.dt(o.referenceValue),n.key):gf(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pf(t.position[n],e.position[n]))return!1;return!0}var Zf=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ot=null,this.Ft=null};function Xf(t,e,n,r,i,s,o,a){return new Zf(t,e,n,r,i,s,o,a)}function tp(t){return new Zf(t)}function ep(t){return!cf(t.limit)&&"F"===t.limitType}function np(t){return!cf(t.limit)&&"L"===t.limitType}function rp(t){return t.Nt.length>0?t.Nt[0].field:null}function ip(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function sp(t){return null!==t.collectionGroup}function op(t){var e=Sd(t);if(null===e.Ot){e.Ot=[];var n=ip(e),r=rp(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Wf(n)),e.Ot.push(new Wf(Yd.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Wf(Yd.lt(),u))}}}return e.Ot}function ap(t){var e=Sd(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Df(e.path,e.collectionGroup,op(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=op(e);r<i.length;r++){var s=i[r];n.push(new Wf(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new $f(e.endAt.position,!e.endAt.before):null,a=e.startAt?new $f(e.startAt.position,!e.startAt.before):null;e.Ft=Df(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function up(t,e,n){return new Zf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return Rf(ap(t),ap(e))&&t.limitType===e.limitType}function cp(t){return Pf(ap(t))+"|lt:"+t.limitType}function hp(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+vf(e.value);var e})).join(", ")+"]"),cf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Kf(t.startAt)),t.endAt&&(e+=", endAt: "+Kf(t.endAt)),"Target("+e+")"}(ap(t))+"; limitType="+t.limitType+")"}function dp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Zd.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jf(t.startAt,op(t),e)||t.endAt&&Jf(t.endAt,op(t),e))}(t,e)}function fp(t){return function(e,n){for(var r=!1,i=0,s=op(t);i<s.length;i++){var o=s[i],a=pp(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function pp(t,e,n){var r=t.field.ht()?Zd.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?gf(r,i):wd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wd()}}var mp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Kd.min()),void 0===s&&(s=Kd.min()),void 0===o&&(o=kd.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function gp(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function yp(t){return{integerValue:""+t}}function vp(t,e){return df(e)?yp(e):gp(t,e)}var bp=function(){this.Ut=void 0};function _p(t,e,n){return t instanceof Sp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Tp?Ip(t,e):t instanceof xp?Op(t,e):function(t,e){var n=Ep(t,e),r=kp(n)+kp(t.Qt);return _f(n)&&_f(t.Qt)?yp(r):gp(t.Kt,r)}(t,e)}function wp(t,e,n){return t instanceof Tp?Ip(t,e):t instanceof xp?Op(t,e):n}function Ep(t,e){return t instanceof Cp?_f(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e}(bp),Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pd.c)(e,t),e}(bp);function Ip(t,e){for(var n=Ap(e),r=function(t){n.some((function(e){return pf(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pd.c)(e,t),e}(bp);function Op(t,e){for(var n=Ap(e),r=function(t){n=n.filter((function(e){return!pf(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Cp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(pd.c)(e,t),e}(bp);function kp(t){return of(t.integerValue||t.doubleValue)}function Ap(t){return wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Np=function(t,e){this.field=t,this.transform=e},jp=function(t,e){this.version=t,this.transformResults=e},Dp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Pp(t,e){return void 0!==t.updateTime?e instanceof kf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kf}var Rp=function(){};function Lp(t,e,n){return t instanceof qp?function(t,e,n){var r=t.value;if(n.transformResults){var i=Hp(t.fieldTransforms,e,n.transformResults);r=$p(t.fieldTransforms,r,i)}return new kf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof zp?function(t,e,n){if(!Pp(t.Gt,e))return new Nf(t.key,n.version);var r=Bp(t,e,n.transformResults?Hp(t.fieldTransforms,e,n.transformResults):[]);return new kf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Af(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Mp(t,e,n,r){return t instanceof qp?function(t,e,n,r){if(!Pp(t.Gt,e))return e;var i=t.value,s=Gp(t.fieldTransforms,n,e);i=$p(t.fieldTransforms,i,s);var o=Vp(e);return new kf(t.key,o,i,{bt:!0})}(t,e,r):t instanceof zp?function(t,e,n,r){if(!Pp(t.Gt,e))return e;var i=Vp(e),s=Bp(t,e,Gp(t.fieldTransforms,n,e));return new kf(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return Pp(t.Gt,e)?new Af(t.key,Kd.min()):e}(t,e)}function Fp(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof kf?e.field(s.field):void 0,a=Ep(s.transform,o||null);null!=a&&(n=null==n?(new xf).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Up(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Od(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Tp&&e instanceof Tp||t instanceof xp&&e instanceof xp?Od(t.elements,e.elements,pf):t instanceof Cp&&e instanceof Cp?pf(t.Qt,e.Qt):t instanceof Sp&&e instanceof Sp}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Vp(t){return t instanceof kf?t.version:Kd.min()}var qp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(pd.c)(e,t),e}(Rp),zp=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(pd.c)(e,t),e}(Rp);function Bp(t,e,n){var r;return r=function(t,e){var n=new xf(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof kf?e.data():If.empty()),$p(t.fieldTransforms,r,n)}function Hp(t,e,n){var r=[];Ed(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof kf&&(a=e.field(s.field)),r.push(wp(o,a,n[i]))}return r}function Gp(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,l=null;n instanceof kf&&(l=n.field(a.field)),i.push(_p(u,l,e))}return i}function $p(t,e,n){for(var r=new xf(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Kp,Wp,Qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(pd.c)(e,t),e}(Rp),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(pd.c)(e,t),e}(Rp),Yp=function(t){this.count=t};function Zp(t){switch(t){case Ad.OK:return wd();case Ad.CANCELLED:case Ad.UNKNOWN:case Ad.DEADLINE_EXCEEDED:case Ad.RESOURCE_EXHAUSTED:case Ad.INTERNAL:case Ad.UNAVAILABLE:case Ad.UNAUTHENTICATED:return!1;case Ad.INVALID_ARGUMENT:case Ad.NOT_FOUND:case Ad.ALREADY_EXISTS:case Ad.PERMISSION_DENIED:case Ad.FAILED_PRECONDITION:case Ad.ABORTED:case Ad.OUT_OF_RANGE:case Ad.UNIMPLEMENTED:case Ad.DATA_LOSS:return!0;default:return wd()}}function Xp(t){if(void 0===t)return vd("GRPC error has no .code"),Ad.UNKNOWN;switch(t){case Kp.OK:return Ad.OK;case Kp.CANCELLED:return Ad.CANCELLED;case Kp.UNKNOWN:return Ad.UNKNOWN;case Kp.DEADLINE_EXCEEDED:return Ad.DEADLINE_EXCEEDED;case Kp.RESOURCE_EXHAUSTED:return Ad.RESOURCE_EXHAUSTED;case Kp.INTERNAL:return Ad.INTERNAL;case Kp.UNAVAILABLE:return Ad.UNAVAILABLE;case Kp.UNAUTHENTICATED:return Ad.UNAUTHENTICATED;case Kp.INVALID_ARGUMENT:return Ad.INVALID_ARGUMENT;case Kp.NOT_FOUND:return Ad.NOT_FOUND;case Kp.ALREADY_EXISTS:return Ad.ALREADY_EXISTS;case Kp.PERMISSION_DENIED:return Ad.PERMISSION_DENIED;case Kp.FAILED_PRECONDITION:return Ad.FAILED_PRECONDITION;case Kp.ABORTED:return Ad.ABORTED;case Kp.OUT_OF_RANGE:return Ad.OUT_OF_RANGE;case Kp.UNIMPLEMENTED:return Ad.UNIMPLEMENTED;case Kp.DATA_LOSS:return Ad.DATA_LOSS;default:return wd()}}(Wp=Kp||(Kp={}))[Wp.OK=0]="OK",Wp[Wp.CANCELLED=1]="CANCELLED",Wp[Wp.UNKNOWN=2]="UNKNOWN",Wp[Wp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wp[Wp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wp[Wp.NOT_FOUND=5]="NOT_FOUND",Wp[Wp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wp[Wp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wp[Wp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wp[Wp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wp[Wp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wp[Wp.ABORTED=10]="ABORTED",Wp[Wp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wp[Wp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wp[Wp.INTERNAL=13]="INTERNAL",Wp[Wp.UNAVAILABLE=14]="UNAVAILABLE",Wp[Wp.DATA_LOSS=15]="DATA_LOSS";var tm=function(){function t(t,e){this.J=t,this.root=e||nm.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,nm.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,nm.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new em(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new em(this.root,t,this.J,!1)},t.prototype.se=function(){return new em(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new em(this.root,t,this.J,!0)},t}(),em=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),nm=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw wd();if(this.right._e())throw wd();var t=this.left.me();if(t!==this.right.me())throw wd();return t+(this._e()?0:1)},t}();nm.EMPTY=null,nm.RED=!0,nm.Jt=!1,nm.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new nm(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var rm=function(){function t(t){this.J=t,this.data=new tm(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new im(this.data.ee())},t.prototype.ne=function(t){return new im(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),im=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),sm=new tm(Zd.J);function om(){return sm}function am(){return om()}var um=new tm(Zd.J);function lm(){return um}var cm=new tm(Zd.J);function hm(){return cm}var dm=new rm(Zd.J);function fm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=dm,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var pm=new rm(xd);function mm(){return pm}var gm=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Zd.J(e.key,n.key)}:function(t,e){return Zd.J(t.key,e.key)},this.Ve=lm(),this.pe=new tm(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),ym=function(){function t(){this.ve=new tm(Zd.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):wd():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),vm=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Oe=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,gm.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&lp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bm=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,_m.Be(e,n)),new t(Kd.min(),r,mm(),om(),fm())},t}(),_m=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(kd.h,n,fm(),fm(),fm())},t}(),wm=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Em=function(t,e){this.targetId=t,this.Ge=e},Sm=function(t,e,n,r){void 0===n&&(n=kd.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Tm=function(){function t(){this.ze=0,this.He=Om(),this.Je=kd.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=fm(),e=fm(),n=fm();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:wd()}})),new _m(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Om()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Im=function(){function t(t){this.hn=t,this.ln=new Map,this._n=om(),this.fn=xm(),this.dn=new rm(xd)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof kf?this.En(r,t.We):t.We instanceof Af&&this.Tn(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:wd()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Lf(i))if(0===n){var s=new Zd(i.path);this.Tn(e,s,new Af(s,Kd.min()))}else Ed(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var s=e.gn(i);if(s){if(r.qe&&Lf(s.target)){var o=new Zd(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new Af(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=fm();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new bm(t,n,this.dn,this._n,r);return this._n=om(),this.fn=xm(),this.dn=new rm(xd),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Tm,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new rm(xd),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||yd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Tm),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function xm(){return new tm(Zd.J)}function Om(){return new tm(Zd.J)}var Cm={asc:"ASCENDING",desc:"DESCENDING"},km={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Am=function(t,e){this.T=t,this.qt=e};function Nm(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function jm(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Dm(t,e){return Nm(t,e.G())}function Pm(t){return Ed(!!t),Kd.j(function(t){var e=sf(t);return new $d(e.seconds,e.nanos)}(t))}function Rm(t,e){return function(t){return new Qd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Lm(t){var e=Qd.ct(t);return Ed(sg(e)),e}function Mm(t,e){return Rm(t.T,e.path)}function Fm(t,e){var n=Lm(e);if(n.get(1)!==t.T.projectId)throw new Nd(Ad.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Nd(Ad.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Zd(zm(n))}function Um(t,e){return Rm(t.T,e)}function Vm(t){var e=Lm(t);return 4===e.length?Qd.at():zm(e)}function qm(t){return new Qd(["projects",t.T.projectId,"databases",t.T.database]).ot()}function zm(t){return Ed(t.length>4&&"documents"===t.get(4)),t.X(5)}function Bm(t,e,n){return{name:Mm(t,e),fields:n.proto.mapValue.fields}}function Hm(t,e,n){var r=Fm(t,e.name),i=Pm(e.updateTime),s=new If({mapValue:{fields:e.fields}});return new kf(r,i,s,{hasCommittedMutations:!!n})}function Gm(t,e){var n;if(e instanceof qp)n={update:Bm(t,e.key,e.value)};else if(e instanceof Qp)n={delete:Mm(t,e.key)};else if(e instanceof zp)n={update:Bm(t,e.key,e.data),updateMask:ig(e.zt)};else{if(!(e instanceof Jp))return wd();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Sp)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tp)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof xp)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Cp)return{fieldPath:e.field.ot(),increment:n.Qt};throw wd()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Dm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wd()}(t,e.Gt)),n}function $m(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Dp.updateTime(Pm(t.updateTime)):void 0!==t.exists?Dp.exists(t.exists):Dp.jt()}(e.currentDocument):Dp.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ed("REQUEST_TIME"===e.setToServerValue),n=new Sp):"appendMissingElements"in e?n=new Tp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xp(e.removeAllFromArray.values||[]):"increment"in e?n=new Cp(t,e.increment):wd();var r=Yd._t(e.fieldPath);return new Np(r,n)}(t,e)})):[];if(e.update){var i=Fm(t,e.update.name),s=new If({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new nf((t.fieldPaths||[]).map((function(t){return Yd._t(t)})))}(e.updateMask);return new zp(i,s,o,n,r)}return new qp(i,s,n,r)}if(e.delete){var a=Fm(t,e.delete);return new Qp(a,n)}if(e.verify){var u=Fm(t,e.verify);return new Jp(u,n)}return wd()}function Km(t,e){return{documents:[Um(t,e.path)]}}function Wm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Um(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Um(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Sf(t.value))return{unaryFilter:{field:tg(t.field),op:"IS_NAN"}};if(Ef(t.value))return{unaryFilter:{field:tg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Sf(t.value))return{unaryFilter:{field:tg(t.field),op:"IS_NOT_NAN"}};if(Ef(t.value))return{unaryFilter:{field:tg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tg(t.field),op:Xm(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:tg(t.field),direction:Zm(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||cf(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Jm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Jm(e.endAt)),n}function Qm(t){var e=Vm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ed(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[rg(e)]:void 0!==e.fieldFilter?[ng(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):wd():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Wf(eg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return cf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Ym(n.startAt));var c=null;return n.endAt&&(c=Ym(n.endAt)),Xf(e,i,a,o,u,"F",l,c)}function Jm(t){return{before:t.before,values:t.position}}function Ym(t){return new $f(t.values||[],!!t.before)}function Zm(t){return Cm[t]}function Xm(t){return km[t]}function tg(t){return{fieldPath:t.ot()}}function eg(t){return Yd._t(t.fieldPath)}function ng(t){return Mf.create(eg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wd()}}(t.fieldFilter.op),t.fieldFilter.value)}function rg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=eg(t.unaryFilter.field);return Mf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=eg(t.unaryFilter.field);return Mf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=eg(t.unaryFilter.field);return Mf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=eg(t.unaryFilter.field);return Mf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wd()}}function ig(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function sg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var og=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ag=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&wd(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),ug=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new og,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new hg(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=gg(e.target.error);n.qn.reject(new hg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new hg(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(yd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new fg(e)},t}(),lg=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(pu.g)())&&vd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return yd("SimpleDb","Removing database:",t),pg(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(pu.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(yd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new hg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Nd(Ad.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new hg(t,n))},i.onupgradeneeded=function(t){yd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){yd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(pd.d)(this,(function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,l,c;return Object(pd.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=ug.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),ag.reject(t)})).Mn(),u={},o.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return yd("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",c="FirebaseError"!==l.name&&s<3),a.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cg=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return pg(this.ts.delete())},t}(),hg=function(t){function e(e,n){var r=this;return(r=t.call(this,Ad.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(pd.c)(e,t),e}(Nd);function dg(t){return"IndexedDbTransactionError"===t.name}var fg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(yd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(yd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),pg(n)},t.prototype.add=function(t){return yd("SimpleDb","ADD",this.store.name,t,t),pg(this.store.add(t))},t.prototype.get=function(t){var e=this;return pg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),yd("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return yd("SimpleDb","DELETE",this.store.name,t),pg(this.store.delete(t))},t.prototype.count=function(){return yd("SimpleDb","COUNT",this.store.name),pg(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){yd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new ag((function(n,r){e.onerror=function(t){var e=gg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new ag((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new cg(i),o=e(i.primaryKey,i.value,s);if(o instanceof ag){var a=o.catch((function(t){return s.done(),ag.reject(t)}));n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}})).next((function(){return ag.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function pg(t){return new ag((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=gg(t.target.error);n(e)}}))}var mg=!1;function gg(t){var e=lg.Kn(Object(pu.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Nd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return mg||(mg=!0,setTimeout((function(){throw r}),0)),r}}return t}var yg=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new og,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Nd(Ad.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function vg(t,e){if(vd("AsyncQueue",e+": "+t),dg(t))return new Nd(Ad.UNAVAILABLE,e+": "+t);throw t}var bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_g=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function wg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sg(e)),e=Eg(t.get(n),e);return Sg(e)}function Eg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Sg(t){return t+"\x01\x01"}function Tg(t){var e=t.length;if(Ed(e>=2),2===e)return Ed("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Qd.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&wd(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:wd()}s=o+2}return new Qd(r)}var Ig=function(t,e){this.seconds=t,this.nanoseconds=e},xg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xg.store="owner",xg.key="owner";var Og=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Og.store="mutationQueues",Og.keyPath="userId";var Cg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Cg.store="mutations",Cg.keyPath="batchId",Cg.userMutationsIndex="userMutationsIndex",Cg.userMutationsKeyPath=["userId","batchId"];var kg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wg(e)]},t.key=function(t,e,n){return[t,wg(e),n]},t}();kg.store="documentMutations",kg.PLACEHOLDER=new kg;var Ag=function(t,e){this.path=t,this.readTime=e},Ng=function(t,e){this.path=t,this.version=e},jg=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};jg.store="remoteDocuments",jg.readTimeIndex="readTimeIndex",jg.readTimeIndexPath="readTime",jg.collectionReadTimeIndex="collectionReadTimeIndex",jg.collectionReadTimeIndexPath=["parentPath","readTime"];var Dg=function(t){this.byteSize=t};Dg.store="remoteDocumentGlobal",Dg.key="remoteDocumentGlobalKey";var Pg=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Pg.store="targets",Pg.keyPath="targetId",Pg.queryTargetsIndexName="queryTargetsIndex",Pg.queryTargetsKeyPath=["canonicalId","targetId"];var Rg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rg.store="targetDocuments",Rg.keyPath=["targetId","path"],Rg.documentTargetsIndex="documentTargetsIndex",Rg.documentTargetsKeyPath=["path","targetId"];var Lg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lg.key="targetGlobalKey",Lg.store="targetGlobal";var Mg=function(t,e){this.collectionId=t,this.parent=e};Mg.store="collectionParents",Mg.keyPath=["collectionId","parent"];var Fg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fg.store="clientMetadata",Fg.keyPath="clientId";var Ug=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ug.store="bundles",Ug.keyPath="bundleId";var Vg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vg.store="namedQueries",Vg.keyPath="name";var qg=Object(pd.g)(Object(pd.g)(Object(pd.g)(Object(pd.g)([Og.store,Cg.store,kg.store,jg.store,Pg.store,xg.store,Lg.store,Rg.store],[Fg.store]),[Dg.store]),[Mg.store]),[Ug.store,Vg.store]),zg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(pd.c)(e,t),e}(_g);function Bg(t,e){var n=Sd(t);return lg.Hn(n.bs,e)}var Hg=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Lp(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Mp(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Mp(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),fm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Od(this.mutations,t.mutations,(function(t,e){return Up(t,e)}))&&Od(this.baseMutations,t.baseMutations,(function(t,e){return Up(t,e)}))},t}(),Gg=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Ed(e.mutations.length===r.length);for(var i=hm(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),$g=function(t){this.ks=t};function Kg(t,e){if(e.document)return Hm(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zd.Tt(e.noDocument.path),r=Zg(e.noDocument.readTime);return new Af(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Zd.Tt(e.unknownDocument.path);return r=Zg(e.unknownDocument.version),new Nf(i,r)}return wd()}function Wg(t,e,n){var r=Qg(n),i=e.key.path.Z().rt();if(e instanceof kf){var s=function(t,e){return{name:Mm(t,e.key),fields:e.vt().mapValue.fields,updateTime:Nm(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new jg(null,null,s,o,r,i)}if(e instanceof Af){var a=e.key.path.rt(),u=Yg(e.version);return o=e.hasCommittedMutations,new jg(null,new Ag(a,u),null,o,r,i)}if(e instanceof Nf){var l=e.key.path.rt(),c=Yg(e.version);return new jg(new Ng(l,c),null,null,!0,r,i)}return wd()}function Qg(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Jg(t){var e=new $d(t[0],t[1]);return Kd.j(e)}function Yg(t){var e=t.G();return new Ig(e.seconds,e.nanoseconds)}function Zg(t){var e=new $d(t.seconds,t.nanoseconds);return Kd.j(e)}function Xg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return $m(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map((function(e){return $m(t.ks,e)})),o=$d.fromMillis(e.localWriteTimeMs);return new Hg(e.batchId,o,n,s)}function ty(t){var e,n,r=Zg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Zg(t.lastLimboFreeSnapshotVersion):Kd.min();return void 0!==t.query.documents?(Ed(1===(n=t.query).documents.length),e=ap(tp(Vm(n.documents[0])))):e=function(t){return ap(Qm(t))}(t.query),new mp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,kd.fromBase64String(t.resumeToken))}function ey(t,e){var n,r=Yg(e.Mt),i=Yg(e.lastLimboFreeSnapshotVersion);n=Lf(e.target)?Km(t.ks,e.target):Wm(t.ks,e.target);var s=e.resumeToken.toBase64();return new Pg(e.targetId,Pf(e.target),r,s,e.sequenceNumber,i,n)}function ny(t){var e=Qm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?up(e,e.limit,"L"):e}var ry=function(){function t(){}return t.prototype.Ms=function(t,e){return iy(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Zg(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return iy(t).put({bundleId:(n=e).id,createTime:Yg(Pm(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return sy(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:ny(e.bundledQuery),readTime:Zg(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return sy(t).put(function(t){return{name:t.name,readTime:Yg(Pm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function iy(t){return Bg(t,Ug.store)}function sy(t){return Bg(t,Vg.store)}var oy=function(){function t(){this.qs=new ay}return t.prototype.Us=function(t,e){return this.qs.add(e),ag.resolve()},t.prototype.Qs=function(t,e){return ag.resolve(this.qs.getEntries(e))},t}(),ay=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new rm(Qd.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rm(Qd.J)).rt()},t}(),uy=function(){function t(){this.Ks=new ay}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var s={collectionId:r,parent:wg(i)};return ly(t).put(s)}return ag.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Cd(e),""],!1,!0);return ly(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Tg(s.parent))}return n}))},t}();function ly(t){return Bg(t,Mg.store)}var cy={js:!1,Ws:0,Gs:0,zs:0},hy=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function dy(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){if(t.code!==Ad.FAILED_PRECONDITION||t.message!==bg)throw t;return yd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}hy.Zs=10,hy.ti=1e3,hy.ei=new hy(41943040,hy.Zs,hy.ti),hy.ni=new hy(-1,0,0);var fy=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){tf(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.nt=function(){return ef(this.ri)},t}(),py=function(){function t(){this.oi=new fy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Kd.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?ag.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function my(t,e,n){var r=t.store(Cg.store),i=t.store(kg.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){Ed(1===a)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=kg.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return ag.$n(s).next((function(){return l}))}function gy(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wd();e=t.noDocument}return JSON.stringify(e).length}var yy=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Ed(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return by(t).ls({index:Cg.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,s=_y(t),o=by(t);return o.add({}).next((function(a){Ed("number"==typeof a);for(var u=new Hg(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return Gm(t.ks,e)})),i=n.mutations.map((function(e){return Gm(t.ks,e)}));return new Cg(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),c=[],h=new rm((function(t,e){return xd(t.ot(),e.ot())})),d=0,f=r;d<f.length;d++){var p=f[d],m=kg.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),c.push(o.put(l)),c.push(s.put(m,kg.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),ag.$n(c).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return by(t).get(e).next((function(t){return t?(Ed(t.userId===n.userId),Xg(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?ag.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return by(t).ls({index:Cg.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ed(e.batchId>=r),s=Xg(n.Kt,e)),i.done()})).next((function(){return s}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return by(t).ls({index:Cg.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return by(t).os(Cg.userMutationsIndex,n).next((function(t){return t.map((function(t){return Xg(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=kg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return _y(t).ls({range:i},(function(r,i,o){var a=r[0],u=r[2],l=Tg(r[1]);if(a===n.userId&&e.path.isEqual(l))return by(t).get(u).next((function(t){if(!t)throw wd();Ed(t.userId===n.userId),s.push(Xg(n.Kt,t))}));o.done()})).next((function(){return s}))},t.prototype.Si=function(t,e){var n=this,r=new rm(xd),i=[];return e.forEach((function(e){var s=kg.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=_y(t).ls({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Tg(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),ag.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=kg.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new rm(xd);return _y(t).ls({range:o},(function(t,e,s){var o=t[0],u=t[2],l=Tg(t[1]);o===n.userId&&r.st(l)?l.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(by(t).get(e).next((function(t){if(null===t)throw wd();Ed(t.userId===n.userId),r.push(Xg(n.Kt,t))})))})),ag.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return my(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),ag.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return ag.resolve();var r=IDBKeyRange.lowerBound(kg.prefixForUser(e.userId)),i=[];return _y(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Tg(t[1]);i.push(s)}else r.done()})).next((function(){Ed(0===i.length)}))}))},t.prototype.ki=function(t,e){return vy(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return wy(t).get(this.userId).next((function(t){return t||new Og(e.userId,-1,"")}))},t}();function vy(t,e,n){var r=kg.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return _y(t).ls({range:s,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function by(t){return Bg(t,Cg.store)}function _y(t){return Bg(t,kg.store)}function wy(t){return Bg(t,Og.store)}var Ey=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Sy=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Ey(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return Kd.j(new $d(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Ty(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Ed(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return Ty(t).ls((function(o,a){var u=ty(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))})).next((function(){return ag.$n(s)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Ty(t).ls((function(t,n){var r=ty(n);e(r)}))},t.prototype.Ui=function(t){return Iy(t).get(Lg.key).next((function(t){return Ed(null!==t),t}))},t.prototype.Qi=function(t,e){return Iy(t).put(Lg.key,e)},t.prototype.zi=function(t,e){return Ty(t).put(ey(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=Pf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ty(t).ls({range:r,index:Pg.queryTargetsIndexName},(function(t,n,r){var s=ty(n);Rf(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],s=xy(t);return e.forEach((function(e){var o=wg(e.path);i.push(s.put(new Rg(n,o))),i.push(r.Ii.sr(t,n,e))})),ag.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=xy(t);return ag.forEach(e,(function(e){var s=wg(e.path);return ag.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=xy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=xy(t),i=fm();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Tg(t[1]),s=new Zd(r);i=i.add(s)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=wg(e.path),r=IDBKeyRange.bound([n],[Cd(n)],!1,!0),i=0;return xy(t).ls({index:Rg.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Ty(t).get(e).next((function(t){return t?ty(t):null}))},t}();function Ty(t){return Bg(t,Pg.store)}function Iy(t){return Bg(t,Lg.store)}function xy(t){return Bg(t,Rg.store)}function Oy(t,e){var n=t[1],r=e[1],i=xd(t[0],e[0]);return 0===i?xd(n,r):i}var Cy=function(){function t(t){this.ar=t,this.buffer=new rm(Oy),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Oy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ky=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;yd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(pd.b)(e,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return dg(e=n.sent())?(yd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ay=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return ag.resolve(Gd.U);var r=new Cy(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(yd("LruGarbageCollector","Garbage collection skipped; disabled"),ag.resolve(cy)):this.br(t).next((function(r){return r<n.params.Hs?(yd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),cy):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,l=this,c=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>l.params.Ys?(yd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Ys+" from "+e),r=l.params.Ys):r=e,s=Date.now(),l.yr(t,r)})).next((function(r){return n=r,o=Date.now(),l.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),l.Vr(t,n)})).next((function(t){return u=Date.now(),gd()<=fu.a.DEBUG&&yd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-c)+"ms"),ag.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),Ny=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Ay(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return jy(t,n)},t.prototype.rr=function(t,e,n){return jy(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return jy(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return wy(t)._s((function(r){return vy(t,r,e).next((function(t){return t&&(n=!0),ag.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],s=0;return this.Cr(t,(function(o,a){if(a<=e){var u=n.Nr(t,o).next((function(e){if(!e)return s++,r.fi(t,o).next((function(){return r._i(o),xy(t).delete([0,wg(o.path)])}))}));i.push(u)}})).next((function(){return ag.$n(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return jy(t,e)},t.prototype.Cr=function(t,e){var n,r=xy(t),i=Gd.U;return r.ls({index:Rg.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Gd.U&&e(new Zd(Tg(n)),i),i=o,n=s):i=Gd.U})).next((function(){i!==Gd.U&&e(new Zd(Tg(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function jy(t,e){return xy(t).put(function(t,e){return new Rg(0,wg(t.path),e)}(e,t.vs))}var Dy=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Ly(t).put(My(e),n)},t.prototype._i=function(t,e){var n=Ly(t),r=My(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return Ly(t).get(My(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return Ly(t).get(My(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:gy(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=am();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=am(),i=new tm(Zd.J);return this.qr(t,e,(function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,gy(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return ag.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return Ly(t).ls({range:r},(function(t,e,r){for(var o=Zd.Tt(t);s&&Zd.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()})).next((function(){for(;s;)n(s,null),s=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=lm(),s=e.path.length+1,o={};if(n.isEqual(Kd.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),l=Qg(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=jg.collectionReadTimeIndex}return Ly(t).ls(o,(function(t,n,o){if(t.length===s){var a=Kg(r.Kt,n);e.path.st(a.key.path)?a instanceof kf&&dp(e,a)&&(i=i.Ht(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Py(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ry(t).get(Dg.key).next((function(t){return Ed(!!t),t}))},t.prototype.Lr=function(t,e){return Ry(t).put(Dg.key,e)},t.prototype.$r=function(t){if(t){var e=Kg(this.Kt,t);return e instanceof Af&&e.version.isEqual(Kd.min())?null:e}return null},t}(),Py=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new fy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(pd.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new rm((function(t,e){return xd(t.ot(),e.ot())}));return this.oi.forEach((function(s,o){var a=e.zr.get(s);if(o.li){var u=Wg(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var l=gy(u);r+=l-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.Wr){var c=Wg(e.Gr.Kt,new Af(s,Kd.min()),e.ai(s));n.push(e.Gr.ui(t,s,c))}else n.push(e.Gr._i(t,s))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),ag.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(py);function Ry(t){return Bg(t,Dg.store)}function Ly(t){return Bg(t,jg.store)}function My(t){return t.path.rt()}var Fy=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ed(n<r&&n>=0&&r<=11);var s=new ug("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xg.store)}(t),function(t){t.createObjectStore(Og.store,{keyPath:Og.keyPath}),t.createObjectStore(Cg.store,{keyPath:Cg.keyPath,autoIncrement:!0}).createIndex(Cg.userMutationsIndex,Cg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(kg.store)}(t),Uy(t),function(t){t.createObjectStore(jg.store)}(t));var o=ag.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rg.store),t.deleteObjectStore(Pg.store),t.deleteObjectStore(Lg.store)}(t),Uy(t)),o=o.next((function(){return function(t){var e=t.store(Lg.store),n=new Lg(0,0,Kd.min().G(),0);return e.put(Lg.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Cg.store).os().next((function(n){t.deleteObjectStore(Cg.store),t.createObjectStore(Cg.store,{keyPath:Cg.keyPath,autoIncrement:!0}).createIndex(Cg.userMutationsIndex,Cg.userMutationsKeyPath,{unique:!0});var r=e.store(Cg.store),i=n.map((function(t){return r.put(t)}));return ag.$n(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Fg.store,{keyPath:Fg.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.Hr(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Dg.store)}(t),i.Jr(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.Yr(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Xr(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jg.store);e.createIndex(jg.readTimeIndex,jg.readTimeIndexPath,{unique:!1}),e.createIndex(jg.collectionReadTimeIndex,jg.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Zr(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Ug.store,{keyPath:Ug.keyPath})}(t),function(t){t.createObjectStore(Vg.store,{keyPath:Vg.keyPath})}(t)}))),o},t.prototype.Jr=function(t){var e=0;return t.store(jg.store).ls((function(t,n){e+=gy(n)})).next((function(){var n=new Dg(e);return t.store(Dg.store).put(Dg.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Og.store),r=t.store(Cg.store);return n.os().next((function(n){return ag.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Cg.userMutationsIndex,i).next((function(r){return ag.forEach(r,(function(r){Ed(r.userId===n.userId);var i=Xg(e.Kt,r);return my(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Rg.store),n=t.store(jg.store);return t.store(Lg.store).get(Lg.key).next((function(t){var r=[];return n.ls((function(n,i){var s=new Qd(n),o=function(t){return[0,wg(t)]}(s);r.push(e.get(o).next((function(n){return n?ag.resolve():function(n){return e.put(new Rg(0,wg(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return ag.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(Mg.store,{keyPath:Mg.keyPath});var n=e.store(Mg.store),r=new ay,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:wg(i)})}};return e.store(jg.store).ls({hs:!0},(function(t,e){var n=new Qd(t);return i(n.Z())})).next((function(){return e.store(kg.store).ls({hs:!0},(function(t,e){var n=Tg(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(Pg.store);return n.ls((function(t,r){var i=ty(r),s=ey(e.Kt,i);return n.put(s)}))},t}();function Uy(t){t.createObjectStore(Rg.store,{keyPath:Rg.keyPath}).createIndex(Rg.documentTargetsIndex,Rg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pg.store,{keyPath:Pg.keyPath}).createIndex(Pg.queryTargetsIndexName,Pg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Lg.store)}var Vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qy=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=l,this.so=c,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Nd(Ad.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Ny(this,i),this.lo=n+"main",this.Kt=new $g(u),this._o=new lg(this.lo,11,new Fy(this.Kt)),this.fo=new Sy(this.Ii,this.Kt),this.Ti=new uy,this.wo=function(t,e){return new Dy(t,e)}(this.Kt,this.Ti),this.Eo=new ry,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===c&&vd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Nd(Ad.FAILED_PRECONDITION,Vy);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new Gd(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(pd.b)(e,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(pd.b)(e,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(pd.b)(e,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return By(e).put(new Fg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(dg(e))return yd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return yd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return zy(t).get(xg.key).next((function(t){return ag.resolve(e.Co(t))}))},t.prototype.xo=function(t){return By(t).delete(this.clientId)},t.prototype.No=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Bg(t,Fg.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ag.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?ag.resolve(!0):zy(t).get(xg.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Nd(Ad.FAILED_PRECONDITION,Vy);return!1}}return!(!e.networkEnabled||!e.inForeground)||By(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&yd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t=this;return Object(pd.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[xg.store,Fg.store],(function(e){var n=new zg(e,Gd.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return By(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return yy.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return yd("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",qg,(function(s){return r=new zg(s,i.io?i.io.next():Gd.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw vd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new Nd(Ad.FAILED_PRECONDITION,bg);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return zy(t).get(xg.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Nd(Ad.FAILED_PRECONDITION,Vy)}))},t.prototype.Do=function(t){var e=new xg(this.clientId,this.allowTabSynchronization,Date.now());return zy(t).put(xg.key,e)},t.jn=function(){return lg.jn()},t.prototype.So=function(t){var e=this,n=zy(t);return n.get(xg.key).next((function(t){return e.Co(t)?(yd("IndexedDbPersistence","Releasing primary lease."),n.delete(xg.key)):ag.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(vd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return yd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return vd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){vd("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zy(t){return Bg(t,xg.store)}function By(t){return Bg(t,Fg.store)}function Hy(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gy=function(t,e){this.progress=t,this.zo=e},$y=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=am();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),s=om();return i.forEach((function(t,e){e||(e=new Af(t,Kd.min())),s=s.Ht(t,e)})),s}))},t.prototype.jr=function(t,e,n){return function(t){return Zd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):sp(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Zd(e)).next((function(t){var e=lm();return t instanceof kf&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=lm();return this.Ti.Qs(t,i).next((function(o){return ag.forEach(o,(function(o){var a=function(t,e){return new Zf(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Ht(t,e)}))}))})).next((function(){return s}))}))},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.jr(t,e,n).next((function(n){return r=n,s.Ho.Ci(t,e)})).next((function(e){return s.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=Mp(u,r.get(l),0,s.Ss);r=c instanceof kf?r.Ht(l,c):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){dp(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=fm(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof zp&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof kf&&(l=l.Ht(t,e))})),l}))},t}(),Ky=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=fm(),i=fm(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Wy=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Kd.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(s){var o=i.lc(e,s);return(ep(e)||np(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(gd()<=fu.a.DEBUG&&yd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hp(e)),i.uc.jr(t,e,n).next((function(t){return o.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new rm(fp(t));return e.forEach((function(e,r){r instanceof kf&&dp(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return gd()<=fu.a.DEBUG&&yd("QueryEngine","Using full collection scan to execute query:",hp(e)),this.uc.jr(t,e,Kd.min())},t}(),Qy=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new tm(xd),this.wc=new fy((function(t){return Pf(t)}),Rf),this.Ec=Kd.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new $y(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function Jy(t,e,n,r){return new Qy(t,e,n,r)}function Yy(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(pd.d)(this,(function(o){switch(o.label){case 0:return n=Sd(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Ho.bi(t).next((function(o){return s=o,r=n.persistence.Ko(e),i=new $y(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],o=fm(),a=0,u=s;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Zo(t,o).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}}))}))}function Zy(t,e){var n=Sd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ag.resolve();return s.forEach((function(t){o=o.next((function(){return r.fi(e,t)})).next((function(e){var s=e,o=n.Fs.get(t);Ed(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Os)}))})),o.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Xy(t){var e=Sd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function tv(t,e){var n=Sd(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Tc.Or({Wr:!0});i=n.dc;var o=[];e.Fe.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next((function(){return n.fo.nr(t,e.Ue,s)})));var u=e.resumeToken;if(u.o()>0){var l=a.$t(u,r).Lt(t.vs);i=i.Ht(s,l),function(t,e,n){return Ed(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,l,e)&&o.push(n.fo.Ji(t,l))}}}));var a=om();if(e.Me.forEach((function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))})),o.push(ev(t,s,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(Kd.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));o.push(u)}return ag.$n(o).next((function(){return s.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function ev(t,e,n,r,i){var s=fm();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=om();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Af&&o.version.isEqual(Kd.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):yd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function nv(t,e){var n=Sd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function rv(t,e){var n=Sd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?ag.resolve(r=i):n.fo.qi(t).next((function(i){return r=new mp(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function iv(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:r=Sd(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!dg(o=a.sent()))throw o;return yd("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function sv(t,e,n){var r=Sd(t),i=Kd.min(),s=fm();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Sd(t),i=r.wc.get(n);return void 0!==i?ag.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,ap(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.fc.jr(t,e,n?i:Kd.min(),n?s:fm())})).next((function(t){return{documents:t,Pc:s}}))}))}function ov(t,e){var n=Sd(t),r=Sd(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function av(t){var e=Sd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Sd(t),i=om(),s=Qg(n),o=Ly(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:jg.readTimeIndex,range:a},(function(t,e){var n=Kg(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime})).next((function(){return{zo:i,readTime:Jg(s)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function uv(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){return[2,(e=Sd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ly(t),n=Kd.min();return e.ls({index:jg.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Jg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function lv(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s,o,a,u,l,c,h,d,f;return Object(pd.d)(this,(function(p){switch(p.label){case 0:for(i=Sd(t),s=fm(),o=om(),a=hm(),u=0,l=n;u<l.length;u++)h=e.yc((c=l[u]).metadata.name),c.document&&(s=s.add(h)),o=o.Ht(h,e.gc(c)),a=a.Ht(h,e.Vc(c.metadata.readTime));return d=i.Tc.Or({Wr:!0}),[4,rv(i,function(t){return ap(tp(Qd.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ev(t,d,o,Kd.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.fo.Xi(t,f.targetId).next((function(){return i.fo.nr(t,s,f.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function cv(t,e,n){return void 0===n&&(n=fm()),Object(pd.b)(this,void 0,void 0,(function(){var r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return[4,rv(t,ap(ny(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Sd(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=Pm(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(kd.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var hv=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return ag.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Pm(n.createTime)}),ag.resolve()},t.prototype.$s=function(t,e){return ag.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:ny(t.bundledQuery),readTime:Pm(t.readTime)}}(e)),ag.resolve()},t}(),dv=function(){function t(){this.Sc=new rm(fv.Dc),this.Cc=new rm(fv.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new fv(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new fv(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Zd(new Qd([])),r=new fv(n,t),i=new fv(n,t+1),s=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),s.push(t.key)})),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Zd(new Qd([])),n=new fv(e,t),r=new fv(e,t+1),i=fm();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new fv(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),fv=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Zd.J(t.key,e.key)||xd(t.$c,e.$c)},t.xc=function(t,e){return xd(t.$c,e.$c)||Zd.J(t.key,e.key)},t}(),pv=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new rm(fv.Dc)}return t.prototype.Ri=function(t){return ag.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new Hg(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new fv(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return ag.resolve(s)},t.prototype.yi=function(t,e){return ag.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return ag.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return ag.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return ag.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new fv(e,0),i=new fv(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);s.push(e)})),ag.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new rm(xd);return e.forEach((function(t){var e=new fv(t,0),i=new fv(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),ag.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Zd.Et(i)||(i=i.child(""));var s=new fv(new Zd(i),0),o=new rm(xd);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)}),s),ag.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Ed(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return ag.forEach(e.mutations,(function(i){var s=new fv(i.key,e.batchId);return r=r.delete(s),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new fv(e,0),r=this.qc.Pe(n);return ag.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return ag.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),mv=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new tm(Zd.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return ag.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=am();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),ag.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=lm(),i=new Zd(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,l=a.readTime;if(!e.path.st(o.key.path))break;l.u(n)<=0||u instanceof kf&&dp(e,u)&&(r=r.Ht(u.key,u))}return ag.resolve(r)},t.prototype.Gc=function(t,e){return ag.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new gv(this)},t.prototype.Mr=function(t){return ag.resolve(this.size)},t}(),gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(pd.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),ag.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(py),yv=function(){function t(t){this.persistence=t,this.zc=new fy((function(t){return Pf(t)}),Rf),this.lastRemoteSnapshotVersion=Kd.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new dv,this.targetCount=0,this.Yc=Ey.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),ag.resolve()},t.prototype.Ki=function(t){return ag.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return ag.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),ag.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),ag.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Ey(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,ag.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),ag.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,ag.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)})),ag.$n(s).next((function(){return i}))},t.prototype.tr=function(t){return ag.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return ag.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),ag.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),ag.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),ag.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return ag.resolve(n)},t.prototype.ki=function(t,e){return ag.resolve(this.Jc.ki(e))},t}(),vv=function(){function t(t,e){var n=this;this.Xc={},this.io=new Gd(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new yv(this),this.Ti=new oy,this.wo=function(t,e){return new mv(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new $g(e),this.Eo=new hv(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new pv(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;yd("MemoryPersistence","Starting transaction:",t);var i=new bv(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return ag.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(pd.c)(e,t),e}(_g),_v=function(){function t(t){this.persistence=t,this.sa=new dv,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw wd()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),ag.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),ag.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),ag.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return ag.forEach(this.oa,(function(r){var i=Zd.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return ag.Bn([function(){return ag.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function wv(t,e){return"firestore_clients_"+t+"_"+e}function Ev(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Sv(t,e){return"firestore_targets_"+t+"_"+e}var Tv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Nd(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(vd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Iv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Nd(r.error.code,r.error.message)),i?new t(e,r.state,s):(vd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=mm(),o=0;i&&o<r.activeTargetIds.length;++o)i=df(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(vd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ov=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(vd("SharedClientState","Failed to parse online state: "+e),null)},t}(),Cv=function(){function t(){this.activeTargetIds=mm()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),kv=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new tm(xd),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=wv(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Cv),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,l,c=this;return Object(pd.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(wv(this.persistenceKey,r)))&&(s=xv.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,l=this.Ia;u<l.length;u++)this.Ea(l[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return c.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Sv(this.persistenceKey,t));if(n){var r=Iv.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Sv(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return yd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){yd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){yd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(yd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void vd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(pd.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(pd.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=Gd.U;if(null!=t)try{var n=JSON.parse(t);Ed("number"==typeof n),e=n}catch(t){vd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gd.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Tv(this.currentUser,t,e,n),i=Ev(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Ev(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Sv(this.persistenceKey,t),i=new Iv(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return xv.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Tv.aa(new Ud(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Iv.aa(r,e)},t.prototype.ba=function(t){return Ov.aa(t)},t.prototype.Xa=function(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(yd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.fa.iu(o,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=mm();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Av=function(){function t(){this.ru=new Cv,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Cv,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Nv=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),jv=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){yd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){yd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Dv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pv=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Rv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(pd.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,s){var o=new fd;o.listenOnce(cd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ld.NO_ERROR:var e=o.getResponseJson();yd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ld.TIMEOUT:yd("Connection",'RPC "'+t+'" timed out'),s(new Nd(Ad.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:var n=o.getStatus();if(yd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ad).indexOf(e)>=0?e:Ad.UNKNOWN}(r.status);s(new Nd(a,r.message))}else s(new Nd(Ad.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Nd(Ad.UNAVAILABLE,"Connection failed."));break;default:wd()}}finally{yd("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new id,i=ac(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(pu.l)()||Object(pu.n)()||Object(pu.j)()||Object(pu.k)()||Object(pu.o)()||Object(pu.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");yd("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,l=!1,c=new Pv({du:function(t){l?yd("Connection","Not sending because WebChannel is closed:",t):(u||(yd("Connection","Opening WebChannel transport."),a.open(),u=!0),yd("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,dd.EventType.OPEN,(function(){l||yd("Connection","WebChannel transport opened.")})),h(a,dd.EventType.CLOSE,(function(){l||(l=!0,yd("Connection","WebChannel transport closed"),c.Pu())})),h(a,dd.EventType.ERROR,(function(t){l||(l=!0,bd("Connection","WebChannel transport errored:",t),c.Pu(new Nd(Ad.UNAVAILABLE,"The operation could not be completed")))})),h(a,dd.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Ed(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){yd("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Kp[t];if(void 0!==e)return Xp(e)}(i),o=r.message;void 0===s&&(s=Ad.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,c.Pu(new Nd(s,o)),a.close()}else yd("Connection","WebChannel received:",n),c.yu(n)}})),h(i,hd.STAT_EVENT,(function(t){10===t.stat?yd("Connection","Detected buffering proxy"):11===t.stat&&yd("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Ru()}),0),c},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);yd("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then((function(t){return yd("RestConnection","Received: ",t),t}),(function(e){throw bd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Dv[t]},t}());function Lv(){return"undefined"!=typeof window?window:null}function Mv(){return"undefined"!=typeof document?document:null}function Fv(t){return new Am(t,!0)}var Uv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&yd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Vv=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=s,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Uv(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Ad.RESOURCE_EXHAUSTED?(vd(e.toString()),vd("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Ad.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new Nd(Ad.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(pd.b)(t,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return yd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(yd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(pd.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Ed(void 0===e||"string"==typeof e),kd.fromBase64String(e||"")):(Ed(void 0===e||e instanceof Uint8Array),kd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ad.UNKNOWN:Xp(t.code);return new Nd(e,t.message||"")}(a);n=new Sm(r,i,s,o||null)}else if("documentChange"in e){i=Fm(t,(r=e.documentChange).document.name),s=Pm(r.document.updateTime);var a=new If({mapValue:{fields:r.document.fields}}),u=(o=new kf(i,s,a,{}),r.targetIds||[]);n=new wm(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Fm(t,(r=e.documentDelete).document),s=r.readTime?Pm(r.readTime):Kd.min(),a=new Af(i,s),n=new wm([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Fm(t,(r=e.documentRemove).document),n=new wm([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return wd();var l=e.filter;i=new Yp(r=l.count||0),n=new Em(s=l.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Kd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kd.min():e.readTime?Pm(e.readTime):Kd.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=qm(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Lf(r)?{documents:Km(t,r)}:{query:Wm(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=jm(t,e.resumeToken):e.Mt.u(Kd.min())>0&&(n.readTime=Nm(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wd()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=qm(this.Kt),e.removeTarget=t,this.eh(e)},e}(Vv),zv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ed(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ed(void 0!==e),t.map((function(t){return function(t,e){var n=Pm(t.updateTime?t.updateTime:e);n.isEqual(Kd.min())&&(n=Pm(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new jp(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Pm(t.commitTime);return this.listener.wh(n,e)}return Ed(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=qm(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Gm(e.Kt,t)}))};this.eh(n)},e}(Vv),Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(pd.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Nd(Ad.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Ad.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Ad.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Hv=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(vd(e),this.Ph=!1):yd("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Gv=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(pd.b)(s,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return tb(this)?(yd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return(e=Sd(t)).Oh.add(4),[4,Kv(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,$v(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Hv(n,r)};function $v(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:if(!tb(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Kv(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wv(t,e){var n=Sd(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Xv(n)?Zv(n):mb(n).Ju()&&Jv(n,e))}function Qv(t,e){var n=Sd(t),r=mb(n);n.Nh.delete(e),r.Ju()&&Yv(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():tb(n)&&n.Mh.set("Unknown"))}function Jv(t,e){t.Lh.cn(e.targetId),mb(t).hh(e)}function Yv(t,e){t.Lh.cn(e),mb(t).lh(e)}function Zv(t){t.Lh=new Im({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),mb(t).start(),t.Mh.yh()}function Xv(t){return tb(t)&&!mb(t).Hu()&&t.Nh.size>0}function tb(t){return 0===Sd(t).Oh.size}function eb(t){t.Lh=void 0}function nb(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){return t.Nh.forEach((function(e,n){Jv(t,e)})),[2]}))}))}function rb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(n){return eb(t),Xv(t)?(t.Mh.ph(e),Zv(t)):t.Mh.set("Unknown"),[2]}))}))}function ib(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s;return Object(pd.d)(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Sm&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(pd.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),yd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wm?t.Lh.wn(e):e instanceof Em?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Kd.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Xy(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(kd.h,n.Mt)),Yv(t,e);var r=new mp(n.target,e,1,n.sequenceNumber);Jv(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return yd("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,sb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function sb(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r=this;return Object(pd.d)(this,(function(i){switch(i.label){case 0:if(!dg(e))throw e;return t.Oh.add(1),[4,Kv(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Xy(t.Sh)}),t.fs.bo((function(){return Object(pd.b)(r,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return yd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,$v(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function ob(t,e){return e().catch((function(n){return sb(t,n,e)}))}function ab(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(pd.d)(this,(function(o){switch(o.label){case 0:e=Sd(t),n=gb(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return tb(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,nv(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=gb(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,sb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return ub(e)&&lb(e),[2]}}))}))}function ub(t){return tb(t)&&!gb(t).Hu()&&t.xh.length>0}function lb(t){gb(t).start()}function cb(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){return gb(t).Th(),[2]}))}))}function hb(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n,r;return Object(pd.d)(this,(function(i){for(e=gb(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function db(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return r=t.xh.shift(),i=Gg.from(r,e,n),[4,ob(t,(function(){return t.Ch.qh(i)}))];case 1:return s.sent(),[4,ab(t)];case 2:return s.sent(),[2]}}))}))}function fb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e&&gb(t).fh?[4,function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return Zp(r=e.code)&&r!==Ad.ABORTED?(n=t.xh.shift(),gb(t).Xu(),[4,ob(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ab(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ub(t)&&lb(t),[2]}}))}))}function pb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return n=Sd(t),e?(n.Oh.delete(2),[4,$v(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Kv(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mb(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Sd(t);return r.mh(),new qv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:nb.bind(null,t),Iu:rb.bind(null,t),uh:ib.bind(null,t)}),t.Fh.push((function(n){return Object(pd.b)(e,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Xv(t)?Zv(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),eb(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function gb(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Sd(t);return r.mh(),new zv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:cb.bind(null,t),Iu:fb.bind(null,t),Eh:hb.bind(null,t),wh:db.bind(null,t)}),t.Fh.push((function(n){return Object(pd.b)(e,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ab(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(yd("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var yb=function(){this.jh=void 0,this.listeners=[]},vb=function(){this.queries=new fy((function(t){return cp(t)}),lp),this.onlineState="Unknown",this.Wh=new Set};function bb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(pd.d)(this,(function(l){switch(l.label){case 0:if(n=Sd(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new yb),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.jh=l.sent(),[3,4];case 3:return a=l.sent(),u=vg(a,"Initialization of query '"+hp(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.jh&&e.Hh(s.jh)&&Sb(n),[2]}}))}))}function _b(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pd.d)(this,(function(a){return n=Sd(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function wb(t,e){for(var n=Sd(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].Hh(o)&&(r=!0);a.jh=o}}r&&Sb(n)}function Eb(t,e,n){var r=Sd(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Sb(t){t.Wh.forEach((function(t){t.next()}))}var Tb=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vm(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=vm.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Ib=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),xb=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Fm(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Hm(this.Kt,t.document,!1):new Af(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Pm(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new xb(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var l=u[a],c=(e.get(l)||fm()).add(o);e.set(l,c)}}return e},t.prototype.complete=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return[4,lv(this.Sh,new xb(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,cv(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gy(Object.assign({},this.progress),t))]}}))}))}}();var Ob=function(t){this.key=t},Cb=function(t){this.key=t},kb=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=fm(),this.Ce=fm(),this.ll=fp(t),this._l=new gm(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new ym,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=ep(this.query)&&i.size===this.query.limit?i.last():null,l=np(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var c=i.get(t),h=e instanceof kf?e:null;h&&(h=dp(n.query,h)?h:null);var d=!!c&&n.Ce.has(c.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||l&&n.ll(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),ep(this.query)||np(this.query))for(;o.size>this.query.limit;){var c=ep(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wd()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new vm(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new ym,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=fm(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Cb(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Ob(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=fm();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return vm.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Ab=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Nb=function(t){this.key=t,this.yl=!1},jb=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new fy((function(t){return cp(t)}),lp),this.Dl=new Map,this.Cl=[],this.xl=new tm(Zd.J),this.Nl=new Map,this.Ol=new dv,this.Fl={},this.kl=new Map,this.Ml=Ey.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Db(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:return n=u_(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,rv(n.Sh,ap(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Pb(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Wv(n.gl,s),a.label=4;case 4:return[2,r]}}))}))}function Pb(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s,o,a,u,l;return Object(pd.d)(this,(function(c){switch(c.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,sv(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Fe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(Kb(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,r)},[4,sv(t.Sh,e,!0)];case 1:return i=c.sent(),s=new kb(e,i.Pc),o=s.dl(i.documents),a=_m.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),Kb(t,n,u.ml),l=new Ab(e,n,s),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function Rb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return n=Sd(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!lp(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,iv(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Qv(n.gl,r.targetId),Gb(n,r.targetId)})).catch(dy)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Gb(n,r.targetId),[4,iv(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function Lb(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:r=l_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Sd(t),i=$d.now(),s=e.reduce((function(t,e){return t.add(e.key)}),fm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var l=u[a],c=Fp(l,n.get(l.key));null!=c&&o.push(new zp(l.key,c,Of(c.proto.mapValue),Dp.exists(!0)))}return r.Ho.Pi(t,i,o,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new tm(xd)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Jb(r,i.oi)];case 3:return a.sent(),[4,ab(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=vg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function Mb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:n=Sd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tv(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Ed(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ed(r.yl):t.Ke.size>0&&(Ed(r.yl),r.yl=!1))})),[4,Jb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Fb(t,e,n){var r=Sd(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Sd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)})),r&&Sb(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Ub(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(pd.d)(this,(function(l){switch(l.label){case 0:return(r=Sd(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new tm(Zd.J)).Ht(s,new Af(s,Kd.min())),a=fm().add(s),u=new bm(Kd.min(),new Map,new rm(xd),o,a),[4,Mb(r,u)]):[3,2];case 1:return l.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Qb(r),[3,4];case 2:return[4,iv(r.Sh,e,!1).then((function(){return Gb(r,e,n)})).catch(dy)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Vb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:n=Sd(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Zy(n.Sh,e)];case 2:return i=s.sent(),Hb(n,r,null),Bb(n,r),n.pl.Oa(r,"acknowledged"),[4,Jb(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,dy(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function qb(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:r=Sd(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Sd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Ed(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=s.sent(),Hb(r,e,n),Bb(r,e),r.pl.Oa(e,"rejected",n),[4,Jb(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,dy(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function zb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:tb((n=Sd(t)).gl)||yd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Sd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=vg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function Bb(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Hb(t,e,n){var r=Sd(t),i=r.Fl[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Gb(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||$b(t,e)}))}function $b(t,e){var n=t.xl.get(e);null!==n&&(Qv(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Qb(t))}function Kb(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ob?(t.Ol.sr(s.key,e),Wb(t,s)):s instanceof Cb?(yd("SyncEngine","Document no longer in limbo: "+s.key),t.Ol.rr(s.key,e),t.Ol.ki(s.key)||$b(t,s.key)):wd()}}function Wb(t,e){var n=e.key;t.xl.get(n)||(yd("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Qb(t))}function Qb(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Nb(e)),t.xl=t.xl.Ht(e,n),Wv(t.gl,new mp(ap(tp(e.path)),n,2,Gd.U))}}function Jb(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:return r=Sd(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){o.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ky.cc(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,l;return Object(pd.d)(this,(function(c){switch(c.label){case 0:n=Sd(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ag.forEach(e,(function(e){return ag.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return ag.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!dg(r=c.sent()))throw r;return yd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),l=u.Bt(u.Mt),n.dc=n.dc.Ht(a,l));return[2]}}))}))}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Yb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return(n=Sd(t)).currentUser.isEqual(e)?[3,3]:(yd("SyncEngine","User change. New user:",e.R()),[4,Yy(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Nd(Ad.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Jb(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Zb(t,e){var n=Sd(t),r=n.Nl.get(e);if(r&&r.yl)return fm().add(r.key);var i=fm(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function Xb(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return[4,sv((n=Sd(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Kb(n,e.targetId,i.ml),i)]}}))}))}function t_(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){return[2,av((e=Sd(t)).Sh).then((function(t){return Jb(e,t)}))]}))}))}function e_(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s;return Object(pd.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Sd(t),r=Sd(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):ag.resolve(null)}))}))}((i=Sd(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,ab(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hb(i,e,r||null),Bb(i,e),function(t,e){Sd(Sd(t).Ho).Ni(e)}(i.Sh,e)):wd(),o.label=4;case 4:return[4,Jb(i,s)];case 5:return o.sent(),[3,7];case 6:yd("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function n_(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(pd.d)(this,(function(l){switch(l.label){case 0:return u_(n=Sd(t)),l_(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,r_(n,r.rt())]);case 1:return i=l.sent(),n.Ll=!0,[4,pb(n.gl,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)Wv(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return Gb(n,e),iv(n.Sh,e,!0)})),Qv(n.gl,e)})),[4,u]);case 4:return l.sent(),[4,r_(n,a)];case 5:return l.sent(),function(t){var e=Sd(t);e.Nl.forEach((function(t,n){Qv(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new tm(Zd.J)}(n),n.Ll=!1,[4,pb(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function r_(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,l,c,h,d,f,p;return Object(pd.d)(this,(function(m){switch(m.label){case 0:n=Sd(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(l=n.Dl.get(a=o[s]))&&0!==l.length?[4,rv(n.Sh,ap(l[0]))]:[3,7]):[3,13];case 2:u=m.sent(),c=0,h=l,m.label=3;case 3:return c<h.length?(d=n.Sl.get(h[c]),[4,Xb(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,ov(n.Sh,a)];case 8:return p=m.sent(),[4,rv(n.Sh,p)];case 9:return u=m.sent(),[4,Pb(n,i_(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function i_(t){return Xf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function s_(t){var e=Sd(t);return Sd(Sd(e.Sh).persistence).Qo()}function o_(t,e,n,r){return Object(pd.b)(this,void 0,void 0,(function(){var i,s,o;return Object(pd.d)(this,(function(a){switch(a.label){case 0:return(i=Sd(t)).Ll?(yd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,av(i.Sh)];case 3:return s=a.sent(),o=bm.$e(e,"current"===n),[4,Jb(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,iv(i.Sh,e,!0)];case 6:return a.sent(),Gb(i,e,r),[3,8];case 7:wd(),a.label=8;case 8:return[2]}}))}))}function a_(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,l,c,h;return Object(pd.d)(this,(function(d){switch(d.label){case 0:if(!(r=u_(t)).Ll)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(yd("SyncEngine","Adding an already active target "+o),[3,5]):[4,ov(r.Sh,o)]:[3,6];case 2:return a=d.sent(),[4,rv(r.Sh,a)];case 3:return u=d.sent(),[4,Pb(r,i_(a),u.targetId,!1)];case 4:d.sent(),Wv(r.gl,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,iv(r.Sh,t,!1).then((function(){Qv(r.gl,t),Gb(r,t)})).catch(dy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?[5,l(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function u_(t){var e=Sd(t);return e.gl.Ch.Bh=Mb.bind(null,e),e.gl.Ch.Sn=Zb.bind(null,e),e.gl.Ch.$h=Ub.bind(null,e),e.vl.uh=wb.bind(null,e.Vl),e.vl.ql=Eb.bind(null,e.Vl),e}function l_(t){var e=Sd(t);return e.gl.Ch.qh=Vb.bind(null,e),e.gl.Ch.Uh=qb.bind(null,e),e}var c_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Fv(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Jy(this.persistence,new Wy,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new vv(_v.ra,this.Kt)},t.prototype.Wl=function(t){return new Av},t.prototype.terminate=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),h_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(pd.c)(e,t),e.prototype.initialize=function(e){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,uv(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,l_(this.Xl.fa)];case 4:return n.sent(),[4,ab(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Jy(this.persistence,new Wy,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new ky(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Hy(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?hy.Xs(this.cacheSizeBytes):hy.ei;return new qy(this.synchronizeTabs,e,t.clientId,n,t.fs,Lv(),Mv(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Av},e}(c_),d_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(pd.c)(e,t),e.prototype.initialize=function(e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r=this;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof kv?(this.pl.fa={nu:e_.bind(null,n),su:o_.bind(null,n),iu:a_.bind(null,n),Qo:s_.bind(null,n),eu:t_.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(pd.b)(r,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return[4,n_(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Lv();if(!kv.jn(e))throw new Nd(Ad.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hy(t.gu.T,t.gu.persistenceKey);return new kv(e,t.fs,n,t.clientId,t.Yl)},e}(h_),f_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n=this;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Fb(n.fa,t,1)},this.gl.Ch.s_=Yb.bind(null,this.fa),[4,pb(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new vb},t.prototype.Zl=function(t){var e=Fv(t.gu.T),n=new Rv(t.gu);return function(t,e,n){return new Bv(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Fb(o.fa,t,0)},s=jv.jn()?new jv:new Nv,new Gv(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new jb(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e=Sd(t),yd("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Kv(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),p_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),m_=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new og,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Ib(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Yd(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),g_=function(t){this._methodName=t};function y_(t,e,n){if(!n)throw new Nd(Ad.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function v_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function b_(t,e,n,r){if(!0===e&&!0===r)throw new Nd(Ad.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function __(t){if(!Zd.Et(t))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function w_(t){if(Zd.Et(t))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function E_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wd()}function S_(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nd(Ad.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=E_(t);throw new Nd(Ad.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function T_(t,e){if(e<=0)throw new Nd(Ad.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var I_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Nd(Ad.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nd(Ad.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,b_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),x_=new Map,O_=function(){function t(t,e){this.w_="(lite)",this.E_=new I_({}),this.T_=!1,t instanceof Fd?(this.I_=t,this.m_=new qd):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Nd(Ad.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(t.options.projectId)}(t),this.m_=new zd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Nd(Ad.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Nd(Ad.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new I_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new qd;switch(t.type){case"gapi":var e=t.client;return Ed(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Hd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Nd(Ad.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=x_.get(this))&&(yd("ComponentProvider","Removing Datastore"),x_.delete(this),t.terminate()),Promise.resolve();var t},t}(),C_=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new A_(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),k_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),A_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,tp(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new C_(this.firestore,null,new Zd(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(k_);function N_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dd&&(t=t._),y_("collection","path",e),t instanceof O_)return w_(n=Qd.ct.apply(Qd,Object(pd.g)([e],r))),new A_(t,null,n);if(!(t instanceof C_||t instanceof A_))throw new Nd(Ad.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return w_(n=Qd.ct.apply(Qd,Object(pd.g)([t.path],r)).child(Qd.ct(e))),new A_(t.firestore,null,n)}function j_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Dd&&(t=t._),1===arguments.length&&(e=Id.t()),y_("doc","path",e),t instanceof O_)return __(n=Qd.ct.apply(Qd,Object(pd.g)([e],r))),new C_(t,null,new Zd(n));if(!(t instanceof C_||t instanceof A_))throw new Nd(Ad.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return __(n=t.D_.child(Qd.ct.apply(Qd,Object(pd.g)([e],r)))),new C_(t.firestore,t instanceof A_?t.v_:null,new Zd(n))}function D_(t,e){return t instanceof Dd&&(t=t._),e instanceof Dd&&(e=e._),(t instanceof C_||t instanceof A_)&&(e instanceof C_||e instanceof A_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function P_(t,e){return t instanceof Dd&&(t=t._),e instanceof Dd&&(e=e._),t instanceof k_&&e instanceof k_&&t.firestore===e.firestore&&lp(t.C_,e.C_)&&t.v_===e.v_}var R_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nd(Ad.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nd(Ad.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return xd(this.x_,t.x_)||xd(this.N_,t.N_)},t}(),L_=/^__.*__$/,M_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new zp(t,this.data,this.zt,e,this.fieldTransforms):new qp(t,this.data,e,this.fieldTransforms)},t}(),F_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new zp(t,this.data,this.zt,e,this.fieldTransforms)},t}();function U_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wd()}}var V_=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ow(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(U_(this.k_)&&L_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),q_=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Fv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new V_({k_:t,methodName:e,W_:n,path:Yd.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function z_(t){var e=t.p_(),n=Fv(t.I_);return new q_(t.I_,!!e.ignoreUndefinedProperties,n)}function B_(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);nw("Data must be an object, but it was:",o,r);var a,u,l=tw(r,o);if(s.merge)a=new nf(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=rw(e,d[h],n);if(!o.contains(f))throw new Nd(Ad.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");aw(c,f)||c.push(f)}a=new nf(c),u=o.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=o.fieldTransforms;return new M_(new If(l),a,u)}var H_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(g_);function G_(t,e,n){return new V_({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var $_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.z_=function(t){return new Np(t.path,new Sp)},e.prototype.isEqual=function(t){return t instanceof e},e}(g_),K_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pd.c)(e,t),e.prototype.z_=function(t){var e=G_(this,t,!0),n=this.H_.map((function(t){return X_(t,e)})),r=new Tp(n);return new Np(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(g_),W_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(pd.c)(e,t),e.prototype.z_=function(t){var e=G_(this,t,!0),n=this.H_.map((function(t){return X_(t,e)})),r=new xp(n);return new Np(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(g_),Q_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(pd.c)(e,t),e.prototype.z_=function(t){var e=new Cp(t.Kt,vp(t.Kt,this.J_));return new Np(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(g_);function J_(t,e,n,r){var i=t.G_(1,e,n);nw("Data must be an object, but it was:",i,r);var s=[],o=new xf;tf(r,(function(t,r){var a=sw(e,t,n);r instanceof Dd&&(r=r._);var u=i.U_(a);if(r instanceof H_)s.push(a);else{var l=X_(r,u);null!=l&&(s.push(a),o.set(a,l))}}));var a=new nf(s);return new F_(o.yt(),a,i.fieldTransforms)}function Y_(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[rw(e,r,n)],u=[i];if(s.length%2!=0)throw new Nd(Ad.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(rw(e,s[l])),u.push(s[l+1]);for(var c=[],h=new xf,d=a.length-1;d>=0;--d)if(!aw(c,a[d])){var f=a[d],p=u[d];p instanceof Dd&&(p=p._);var m=o.U_(f);if(p instanceof H_)c.push(f);else{var g=X_(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new nf(c);return new F_(h.yt(),y,o.fieldTransforms)}function Z_(t,e,n,r){return void 0===r&&(r=!1),X_(n,t.G_(r?4:3,e))}function X_(t,e){if(t instanceof Dd&&(t=t._),ew(t))return nw("Unsupported field value:",e,t),tw(t,e);if(t instanceof g_)return function(t,e){if(!U_(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=X_(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Dd&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vp(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$d.fromDate(t);return{timestampValue:Nm(e.Kt,n)}}if(t instanceof $d)return n=new $d(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nm(e.Kt,n)};if(t instanceof R_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jd)return{bytesValue:jm(e.Kt,t.l)};if(t instanceof C_){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rm(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+E_(t))}(t,e)}function tw(t,e){var n={};return ef(t)?e.path&&e.path.length>0&&e.zt.push(e.path):tf(t,(function(t,r){var i=X_(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function ew(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $d||t instanceof R_||t instanceof jd||t instanceof C_||t instanceof g_)}function nw(t,e,n){if(!ew(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=E_(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function rw(t,e,n){if(e instanceof Dd&&(e=e._),e instanceof m_)return e.d_;if("string"==typeof e)return sw(t,e);throw ow("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var iw=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(iw)>=0)throw ow("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(m_.bind.apply(m_,Object(pd.g)([void 0],e.split("."))))).d_}catch(r){throw ow("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ow(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Nd(Ad.INVALID_ARGUMENT,(a+=". ")+t+u)}function aw(t,e){return t.some((function(t){return t.isEqual(e)}))}var uw=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pd.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Nd(Ad.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(pd.d)(this,(function(u){switch(u.label){case 0:return n=Sd(t),r=qm(n.Kt)+"/documents",i={documents:e.map((function(t){return Mm(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ed(!!e.found);var n=Fm(t,e.found.name),r=Pm(e.found.updateTime),i=new If({mapValue:{fields:e.found.fields}});return new kf(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ed(!!e.missing),Ed(!!e.readTime);var n=Fm(t,e.missing),r=Pm(e.readTime);return new Af(n,r)}(t,e):wd()}(n.Kt,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Ed(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Af||t instanceof kf?n.sf(t):wd()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Qp(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pd.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Zd.ft(n);e.mutations.push(new Jp(r,e.Gt(r)))})),[4,function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return n=Sd(t),r=qm(n.Kt)+"/documents",i={writes:e.map((function(t){return Gm(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof kf)e=t.version;else{if(!(t instanceof Af))throw wd();e=Kd.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Nd(Ad.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Dp.updateTime(e):Dp.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Kd.min()))throw new Nd(Ad.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dp.updateTime(e)}return Dp.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),lw=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Uv(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(pd.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(pd.d)(this,(function(r){return t=new uw(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!cf(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zp(e)}return!1},t}(),cw=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ud.UNAUTHENTICATED,this.clientId=Id.t(),this._f=function(){},this.N=new og,this.credentials.S((function(t){yd("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Nd(Ad.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new og;return this.fs.Tf((function(){return Object(pd.b)(t,void 0,void 0,(function(){var t,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=vg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function hw(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return t.fs.Af(),yd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(pd.b)(i,void 0,void 0,(function(){return Object(pd.d)(this,(function(t){switch(t.label){case 0:return[4,Yy(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function dw(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,fw(t)];case 1:return n=i.sent(),yd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(pd.b)(this,void 0,void 0,(function(){var n,r;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return(n=Sd(t)).fs.Af(),yd("RemoteStore","RemoteStore received new credentials"),r=tb(n),n.Oh.add(3),[4,Kv(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,$v(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function fw(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(yd("FirestoreClient","Using default OfflineComponentProvider"),[4,hw(t,new c_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function pw(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(yd("FirestoreClient","Using default OnlineComponentProvider"),[4,dw(t,new f_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function mw(t){return fw(t).then((function(t){return t.persistence}))}function gw(t){return fw(t).then((function(t){return t.Sh}))}function yw(t){return pw(t).then((function(t){return t.gl}))}function vw(t){return pw(t).then((function(t){return t.fa}))}function bw(t){return Object(pd.b)(this,void 0,void 0,(function(){var e,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return[4,pw(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Db.bind(null,e.fa),n.Jh=Rb.bind(null,e.fa),n)]}}))}))}function _w(t,e,n){var r=this;void 0===n&&(n={});var i=new og;return t.fs.ys((function(){return Object(pd.b)(r,void 0,void 0,(function(){var r;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new p_({next:function(s){e.ys((function(){return _b(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Nd(Ad.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Nd(Ad.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Tb(tp(n.path),s,{includeMetadataChanges:!0,sl:!0});return bb(t,o)},[4,bw(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function ww(t,e,n){var r=this;void 0===n&&(n={});var i=new og;return t.fs.ys((function(){return Object(pd.b)(r,void 0,void 0,(function(){var r;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new p_({next:function(n){e.ys((function(){return _b(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Nd(Ad.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Tb(n,s,{includeMetadataChanges:!0,sl:!0});return bb(t,o)},[4,bw(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Ew=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Uv(this,"async_queue_retry"),this.vf=function(){var e=Mv();e&&yd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Mv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Mv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pd.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!dg(t=n.sent()))throw t;return yd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,vd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=yg.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&wd()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(pd.b)(this,void 0,void 0,(function(){var t;return Object(pd.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Ew,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(pd.c)(e,t),e.prototype.b_=function(){return this.Lf||Iw(this),this.Lf.terminate()},e}(O_);function Tw(t){return t.Lf||Iw(t),t.Lf.df(),t.Lf}function Iw(t){var e=t.p_(),n=function(t,e,n){return new Md(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new cw(t.m_,t.Mf,n)}function xw(t,e,n){var r=this,i=new og;return t.fs.enqueue((function(){return Object(pd.b)(r,void 0,void 0,(function(){var r;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,hw(t,n)];case 1:return s.sent(),[4,dw(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ad.FAILED_PRECONDITION||t.code===Ad.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ow(t){if(t.R_||t.P_)throw new Nd(Ad.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Cw=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ff(t)){case 0:return null;case 1:return t.booleanValue;case 2:return of(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(af(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw wd()}},t.prototype.Wf=function(t,e){var n=this,r={};return tf(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new R_(of(t.latitude),of(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return uf(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(lf(t));default:return null}},t.prototype.Bf=function(t){var e=sf(t);return new $d(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Qd.ct(t);Ed(sg(n));var r=new Fd(n.get(1),n.get(3)),i=new Zd(n.X(5));return r.isEqual(e)||vd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),kw=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new C_(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Aw(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Nw("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Aw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(kw);function Nw(t,e){return"string"==typeof e?sw(t,e):e instanceof Dd?e._.d_:e.d_}function jw(t){if(np(t)&&0===t.Nt.length)throw new Nd(Ad.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dw=function(){};function Pw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var Rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(pd.c)(e,t),e.prototype.Yf=function(t){var e=z_(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){zw(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push(qw(r,t,c[l]));a={arrayValue:{values:u}}}else a=qw(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zw(o,s),a=Z_(n,"where",o,"in"===s||"not-in"===s);var h=Mf.create(i,s,a);return function(t,e){if(e.xt()){var n=ip(t);if(null!==n&&!n.isEqual(e.field))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=rp(t);null!==r&&Bw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Nd(Ad.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new k_(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Zf(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Dw),Lw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(pd.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wf(e,n);return function(t,e){if(null===rp(t)){var n=ip(t);null!==n&&Bw(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new k_(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Zf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Dw),Mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(pd.c)(e,t),e.prototype.Yf=function(t){return new k_(t.firestore,t.v_,up(t.C_,this.nd,this.sd))},e}(Dw),Fw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pd.c)(e,t),e.prototype.Yf=function(t){var e=Vw(t,this.type,this.rd,this.od);return new k_(t.firestore,t.v_,function(t,e){return new Zf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Dw),Uw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(pd.c)(e,t),e.prototype.Yf=function(t){var e=Vw(t,this.type,this.rd,this.od);return new k_(t.firestore,t.v_,function(t,e){return new Zf(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Dw);function Vw(t,e,n,r){if(n[0]instanceof Dd&&(n[0]=n[0]._),n[0]instanceof kw)return function(t,e,n,r,i){if(!r)throw new Nd(Ad.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=op(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(bf(e,r.key));else{var l=r.field(u.field);if(uf(l))throw new Nd(Ad.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.ot();throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new $f(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=z_(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new Nd(Ad.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.ht()){if("string"!=typeof l)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!sp(t)&&-1!==l.indexOf("/"))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(Qd.ct(l));if(!Zd.Et(c))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Zd(c);a.push(bf(e,h))}else{var d=Z_(n,r,l);a.push(d)}}return new $f(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function qw(t,e,n){if(n instanceof Dd&&(n=n._),"string"==typeof n){if(""===n)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sp(e)&&-1!==n.indexOf("/"))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Qd.ct(n));if(!Zd.Et(r))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bf(t,new Zd(r))}if(n instanceof C_)return bf(t,n.S_);throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+E_(n)+".")}function zw(t,e){if(!Array.isArray(t)||0===t.length)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bw(t,e,n){if(!n.isEqual(e))throw new Nd(Ad.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Hw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function Gw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $w=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pd.c)(e,t),e.prototype.Uf=function(t){return new jd(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new C_(this.firestore,null,e)},e}(Cw),Kw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ww=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(pd.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Qw(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Nw("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(kw),Qw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ww),Jw=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Kw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Qw(n.zf,n.Hf,r.key,r,new Kw(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Nd(Ad.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new Qw(t.zf,t.Hf,e.doc.key,e.doc,new Kw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Qw(t.zf,t.Hf,e.doc.key,e.doc,new Kw(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Yw(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.ld=e),this.hd},t}();function Yw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wd()}}function Zw(t,e){return t instanceof Ww&&e instanceof Ww?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Jw&&e instanceof Jw&&t.zf===e.zf&&P_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Xw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pd.c)(e,t),e.prototype.Uf=function(t){return new jd(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new C_(this.firestore,null,e)},e}(Cw);function tE(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=S_(t,C_);var s=S_(t.firestore,Sw),o=z_(s);return e instanceof Dd&&(e=e._),nE(s,[("string"==typeof e||e instanceof m_?Y_(o,"updateDoc",t.S_,e,n,r):J_(o,"updateDoc",t.S_,e)).O_(t.S_,Dp.exists(!0))])}function eE(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Dd&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Hw(i[a])||(o=i[a],a++);var u,l,c,h={includeMetadataChanges:o.includeMetadataChanges};if(Hw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof C_)l=S_(t.firestore,Sw),c=tp(t.S_.path),u={next:function(e){i[a]&&i[a](rE(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=S_(t,k_);l=S_(f.firestore,Sw),c=f.C_;var p=new Xw(l);u={next:function(t){i[a]&&i[a](new Jw(l,p,f,t))},error:i[a+1],complete:i[a+2]},jw(t.C_)}return function(t,e,n,r){var i=this,s=new p_(r),o=new Tb(e,s,n);return t.fs.ys((function(){return Object(pd.b)(i,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e=bb,[4,bw(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.fs.ys((function(){return Object(pd.b)(i,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e=_b,[4,bw(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Tw(l),c,h,u)}function nE(t,e){return function(t,e){var n=this,r=new og;return t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var n;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return n=Lb,[4,vw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Tw(t),e)}function rE(t,e,n){var r=n.docs.get(e.S_),i=new Xw(t);return new Ww(t,i,e.S_,r,new Kw(n.hasPendingWrites,n.fromCache),e.v_)}var iE=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=z_(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=sE(t,this.zf),i=Gw(r.v_,e,n),s=B_(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.O_(r.S_,Dp.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=sE(t,this.zf);return e instanceof Dd&&(e=e._),s="string"==typeof e||e instanceof m_?Y_(this.wd,"WriteBatch.update",o.S_,e,n,r):J_(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.O_(o.S_,Dp.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=sE(t,this.zf);return this.fd=this.fd.concat(new Qp(e.S_,Dp.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Nd(Ad.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sE(t,e){if(t instanceof Dd&&(t=t._),t.firestore!==e)throw new Nd(Ad.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var oE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(pd.c)(e,t),e.prototype.get=function(e){var n=this,r=sE(e,this.zf),i=new Xw(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Ww(n.zf,i,r.S_,t.Jf,new Kw(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=z_(t)}return t.prototype.get=function(t){var e=this,n=sE(t,this.zf),r=new $w(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return wd();var i=t[0];if(i instanceof Af)return new kw(e.zf,r,n.S_,null,n.v_);if(i instanceof kf)return new kw(e.zf,r,i.key,i,n.v_);throw wd()}))},t.prototype.set=function(t,e,n){var r=sE(t,this.zf),i=Gw(r.v_,e,n),s=B_(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=sE(t,this.zf);return e instanceof Dd&&(e=e._),s="string"==typeof e||e instanceof m_?Y_(this.wd,"Transaction.update",o.S_,e,n,r):J_(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=sE(t,this.zf);return this.Td.delete(e.S_),this},t}()),aE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ow(t=S_(t,Sw));var n=Tw(t),r=t.p_(),i=new f_;return xw(n,i,new h_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ow(t=S_(t,Sw));var e=Tw(t),n=t.p_(),r=new f_;return xw(e,r,new d_(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Nd(Ad.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new og;return t.Mf.Tf((function(){return Object(pd.b)(e,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(pd.b)(this,void 0,void 0,(function(){return Object(pd.d)(this,(function(e){switch(e.label){case 0:return lg.jn()?[4,lg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Hy(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),uE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Fd||(i.md=e),i}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=S_(t,O_)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&bd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(pd.b)(e,void 0,void 0,(function(){var e,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return[4,mw(t)];case 1:return e=r.sent(),[4,yw(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Sd(t);return e.Oh.delete(0),$v(e)}(n))]}}))}))}))}(Tw(S_(this._,Sw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(pd.b)(e,void 0,void 0,(function(){var e,n;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return[4,mw(t)];case 1:return e=r.sent(),[4,yw(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(pd.b)(this,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return(e=Sd(t)).Oh.add(0),[4,Kv(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Tw(S_(this._,Sw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&b_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new og;return t.fs.ys((function(){return Object(pd.b)(e,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(r){switch(r.label){case 0:return e=zb,[4,vw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Tw(S_(this._,Sw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new p_(e);return t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Sd(t).Wh.add(e),e.next()},[4,bw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var e;return Object(pd.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Sd(t).Wh.delete(e)},[4,bw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Tw(t=S_(t,Sw)),Hw(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Nd(Ad.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wE(this,N_(this._,t))}catch(t){throw fE(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new dE(this,j_(this._,t))}catch(t){throw fE(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new vE(this,function(t,e){if(t=S_(t,O_),y_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new k_(t,null,function(t){return new Zf(Qd.at(),t)}(e))}(this._,t))}catch(t){throw fE(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new og;return t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var n;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return pw(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new lw(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Tw(t),(function(n){return e(new oE(t,n))}))}(this._,(function(n){return t(new cE(e,n))}))},e.prototype.batch=function(){var t=this;return Tw(this._),new hE(new iE(this._,(function(e){return nE(t._,e)})))},e.prototype.loadBundle=function(t){throw new Nd(Ad.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Nd(Ad.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Dd),lE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pd.c)(e,t),e.prototype.Uf=function(t){return new Ld(new jd(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return dE.Ad(e,this.firestore,null)},e}(Cw),cE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new lE(e),r}return Object(pd.c)(e,t),e.prototype.get=function(t){var e=this,n=EE(t);return this._.get(n).then((function(t){return new gE(e.zf,new Ww(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=EE(t);return n?(v_("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=EE(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(pd.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=EE(t);return this._.delete(e),this},e}(Dd),hE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.set=function(t,e,n){var r=EE(t);return n?(v_("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=EE(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(pd.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=EE(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Dd),dE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lE(e),r}return Object(pd.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Nd(Ad.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new C_(n._,r,new Zd(t)))},e.Ad=function(t,n,r){return new e(n,new C_(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wE(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new wE(this.firestore,N_(this._,t))}catch(t){throw fE(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Dd&&(t=t._),t instanceof C_&&D_(this._,t)},e.prototype.set=function(t,e){e=v_("DocumentReference.set",e);try{return function(t,e,n){t=S_(t,C_);var r=S_(t.firestore,Sw),i=Gw(t.v_,e,n);return nE(r,[B_(z_(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Dp.jt())])}(this._,t,e)}catch(t){throw fE(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?tE(this._,t):tE.apply(void 0,Object(pd.g)([this._,t,e],n))}catch(t){throw fE(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return nE(S_((t=this._).firestore,Sw),[new Qp(t.S_,Dp.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pE(e),i=mE(e,(function(e){return new gE(t.firestore,new Ww(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return eE(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=S_(t,C_);var e=S_(t.firestore,Sw),n=Tw(e),r=new Xw(e);return function(t,e){var n=this,r=new og;return t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var n;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i;return Object(pd.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Sd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=s.sent())instanceof kf?n.resolve(i):i instanceof Af?n.resolve(null):n.reject(new Nd(Ad.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=vg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Ww(e,r,t.S_,n,new Kw(n instanceof kf&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=S_(t,C_);var e=S_(t.firestore,Sw);return _w(Tw(e),t.S_,{source:"server"}).then((function(n){return rE(e,t,n)}))}(this._):function(t){t=S_(t,C_);var e=S_(t.firestore,Sw);return _w(Tw(e),t.S_).then((function(n){return rE(e,t,n)}))}(this._)).then((function(t){return new gE(e.firestore,new Ww(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Dd);function fE(t,e,n){return t.message=t.message.replace(e,n),t}function pE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Hw(r))return r}return{}}function mE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Hw(t[0])?t[0]:Hw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new dE(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Zw(this._,t._)},e}(Dd),yE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(gE),vE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new lE(e),r}return Object(pd.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Pw(this._,function(t,e,n){var r=e,i=Nw("where",t);return new Rw(i,r,n)}(t,n,r)))}catch(t){throw fE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Pw(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Nw("orderBy",t);return new Lw(r,n)}(t,n)))}catch(t){throw fE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Pw(this._,function(t){return T_("limit",t),new Mw("limit",t,"F")}(t)))}catch(t){throw fE(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Pw(this._,function(t){return T_("limitToLast",t),new Mw("limitToLast",t,"L")}(t)))}catch(t){throw fE(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw fE(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw fE(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw fE(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw fE(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return P_(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=S_(t,k_);var e=S_(t.firestore,Sw),n=Tw(e),r=new Xw(e);return function(t,e){var n=this,r=new og;return t.fs.ys((function(){return Object(pd.b)(n,void 0,void 0,(function(){var n;return Object(pd.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(pd.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(pd.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,sv(t,e,!0)];case 1:return a=u.sent(),r=new kb(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=vg(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,gw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Jw(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=S_(t,k_);var e=S_(t.firestore,Sw),n=Tw(e),r=new Xw(e);return ww(n,t.C_,{source:"server"}).then((function(n){return new Jw(e,r,t,n)}))}(this._):function(t){t=S_(t,k_);var e=S_(t.firestore,Sw),n=Tw(e),r=new Xw(e);return jw(t.C_),ww(n,t.C_).then((function(n){return new Jw(e,r,t,n)}))}(this._)).then((function(t){return new _E(e.firestore,new Jw(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pE(e),i=mE(e,(function(e){return new _E(t.firestore,new Jw(t.firestore._,t.Hf,t._,e.ud))}));return eE(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Dd),bE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yE(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Dd),_E=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new vE(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new yE(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new bE(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new yE(n.zf,r))}))},e.prototype.isEqual=function(t){return Zw(this._,t._)},e}(Dd),wE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(pd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new dE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dE(this.firestore,void 0===t?j_(this._):j_(this._,t))}catch(t){throw fE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=S_(t.firestore,Sw),r=j_(t),i=Gw(t.v_,e);return nE(n,[B_(z_(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Dp.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new dE(e.firestore,t)}))},e.prototype.isEqual=function(t){return D_(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(vE);function EE(t){return t instanceof Dd&&(t=t._),S_(t,C_)}var SE=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(m_.bind.apply(m_,Object(pd.g)([void 0],e))))||this}return Object(pd.c)(e,t),e.documentId=function(){return new e(Yd.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Dd&&(t=t._),t instanceof m_&&this._.d_.isEqual(t.d_)},e}(Dd),TE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pd.c)(e,t),e.serverTimestamp=function(){var t=new $_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new H_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new K_("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new W_("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Q_("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Dd);!function(){function t(){this.Pd={},this.yd=new og,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var IE,xE=n("/6Yf"),OE={Firestore:uE,GeoPoint:R_,Timestamp:$d,Blob:Ld,Transaction:cE,WriteBatch:hE,DocumentReference:dE,DocumentSnapshot:gE,Query:vE,QueryDocumentSnapshot:yE,QuerySnapshot:_E,CollectionReference:wE,FieldPath:SE,FieldValue:TE,setLogLevel:function(t){md.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new xE.a("firestore",(function(t){return function(t,e){return new uE(t,new Sw(t,e),new aE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},OE)))})(IE=du.a),IE.registerVersion("@firebase/firestore","2.1.2"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");const CE=new r.o("angularfire2.auth.use-emulator");function kE(t,e){return function(t,e=Wi.a){return new D.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function AE(t,e){return kE(t,e).pipe(Object($.a)(t=>({payload:t,type:"query"})))}function NE(t,e){return AE(t,e).pipe(Ot(void 0),iu(),Object($.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function jE(t,e,n){return NE(t,n).pipe(Ct((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return DE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return DE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DE(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new au(void 0,void 0)),Object($.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function DE(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function PE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class RE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=NE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object($.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ot(void 0),iu(),J(([t,e])=>e.length>0||!t),Object($.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=PE(t);return jE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return AE(this.query,this.afs.schedulers.outsideAngular).pipe(Object($.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(k.a)(this.query.get(t)).pipe(Object(lu.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new LE(this.ref.doc(t),this.afs)}}class LE{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zE(n,e);return new RE(r,i,this.afs)}snapshotChanges(){return kE(this.ref,this.afs.schedulers.outsideAngular).pipe(Ot(void 0),iu(),Object($.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object($.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(k.a)(this.ref.get(t)).pipe(Object(lu.b)(this.afs.schedulers.insideAngular))}}class ME{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?NE(this.query,this.afs.schedulers.outsideAngular).pipe(Object($.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),J(t=>t.length>0),this.afs.keepUnstableUntilFirst):NE(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=PE(t);return jE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return AE(this.query,this.afs.schedulers.outsideAngular).pipe(Object($.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(k.a)(this.query.get(t)).pipe(Object(lu.b)(this.afs.schedulers.insideAngular))}}const FE=new r.o("angularfire2.enableFirestorePersistence"),UE=new r.o("angularfire2.firestore.persistenceSettings"),VE=new r.o("angularfire2.firestore.settings"),qE=new r.o("angularfire2.firestore.use-emulator");function zE(t,e=(t=>t)){return{query:e(t),ref:t}}let BE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new cu.e(s),this.keepUnstableUntilFirst=Object(cu.i)(this.schedulers);const l=Object(cu.h)(t,s,e);!hu.a.auth&&u&&Object(cu.k)();const c=a;[this.firestore,this.persistenceEnabled$]=Object(cu.g)(l.name+".firestore","AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!I(i)){const e=()=>{try{return Object(k.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(IE){return"undefined"!=typeof console&&console.warn(IE),Object(C.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(C.a)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zE(n,e),s=this.schedulers.ngZone.run(()=>r);return new RE(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ME(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new LE(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Mb)(cu.c),Object(r.Mb)(cu.b,8),Object(r.Mb)(FE,8),Object(r.Mb)(VE,8),Object(r.Mb)(r.z),Object(r.Mb)(r.x),Object(r.Mb)(UE,8),Object(r.Mb)(qE,8),Object(r.Mb)(CE,8))},token:t,providedIn:"any"}),t})();class HE{static enablePersistence(t){return{ngModule:HE,providers:[{provide:FE,useValue:!0},{provide:UE,useValue:t}]}}}var GE=r.ob({encapsulation:0,styles:[[".room-container[_ngcontent-%COMP%]{background-color:#fff;width:35vw;height:150px;display:flex;flex-direction:column;justify-content:space-between;padding:15px;border-radius:12px;margin:10px}h2[_ngcontent-%COMP%]{color:#404040;padding-bottom:10px}p[_ngcontent-%COMP%]{color:#f1823e}mat-slide-toggle[_ngcontent-%COMP%]{padding:25px 0}"]],data:{}});function $E(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,1).onClick()&&i),i}),null,null)),r.pb(1,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(2,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Bedroom"])),(t()(),r.qb(5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["2 Devices"])),(t()(),r.qb(7,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,9)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(9,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(10,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,11).onClick()&&i),i}),null,null)),r.pb(11,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(12,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(13,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Kitchen"])),(t()(),r.qb(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["3 Devices"])),(t()(),r.qb(17,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,19)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(19,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(20,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,21).onClick()&&i),i}),null,null)),r.pb(21,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(22,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(23,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Balcony"])),(t()(),r.qb(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["1 Device"])),(t()(),r.qb(27,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,29)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(29,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(30,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,31).onClick()&&i),i}),null,null)),r.pb(31,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(32,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(33,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Bathroom"])),(t()(),r.qb(35,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["2 Devices"])),(t()(),r.qb(37,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,39)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(39,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(40,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,41).onClick()&&i),i}),null,null)),r.pb(41,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(42,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(43,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Kids room"])),(t()(),r.qb(45,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["3 Devices"])),(t()(),r.qb(47,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,49)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(49,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(50,0,null,null,9,"div",[["class","room-container"],["routerLink","/room"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,51).onClick()&&i),i}),null,null)),r.pb(51,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(52,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(53,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Living room"])),(t()(),r.qb(55,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["2 Devices"])),(t()(),r.qb(57,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,59)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(59,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null)],(function(t,e){t(e,1,0,"/room"),t(e,11,0,"/room"),t(e,21,0,"/room"),t(e,31,0,"/room"),t(e,41,0,"/room"),t(e,51,0,"/room")}),(function(t,e){t(e,7,0,r.Bb(e,9).id,r.Bb(e,9).disabled?null:-1,null,null,r.Bb(e,9).checked,r.Bb(e,9).disabled,"before"==r.Bb(e,9).labelPosition,"NoopAnimations"===r.Bb(e,9)._animationMode),t(e,17,0,r.Bb(e,19).id,r.Bb(e,19).disabled?null:-1,null,null,r.Bb(e,19).checked,r.Bb(e,19).disabled,"before"==r.Bb(e,19).labelPosition,"NoopAnimations"===r.Bb(e,19)._animationMode),t(e,27,0,r.Bb(e,29).id,r.Bb(e,29).disabled?null:-1,null,null,r.Bb(e,29).checked,r.Bb(e,29).disabled,"before"==r.Bb(e,29).labelPosition,"NoopAnimations"===r.Bb(e,29)._animationMode),t(e,37,0,r.Bb(e,39).id,r.Bb(e,39).disabled?null:-1,null,null,r.Bb(e,39).checked,r.Bb(e,39).disabled,"before"==r.Bb(e,39).labelPosition,"NoopAnimations"===r.Bb(e,39)._animationMode),t(e,47,0,r.Bb(e,49).id,r.Bb(e,49).disabled?null:-1,null,null,r.Bb(e,49).checked,r.Bb(e,49).disabled,"before"==r.Bb(e,49).labelPosition,"NoopAnimations"===r.Bb(e,49)._animationMode),t(e,57,0,r.Bb(e,59).id,r.Bb(e,59).disabled?null:-1,null,null,r.Bb(e,59).checked,r.Bb(e,59).disabled,"before"==r.Bb(e,59).labelPosition,"NoopAnimations"===r.Bb(e,59)._animationMode)}))}class KE{constructor(){}ngOnInit(){}}var WE=r.ob({encapsulation:0,styles:[["main[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f1823c 0,#f29153 100%);display:flex;justify-content:center;height:100%;padding:30px 20px}app-room-cover[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;justify-content:center}"]],data:{}});function QE(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,1,"app-main-header",[],null,null,null,Mi,Li)),r.pb(1,114688,null,0,Ri,[],null,null),(t()(),r.qb(2,0,null,null,2,"main",[],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,1,"app-room-cover",[],null,null,null,$E,GE)),r.pb(4,114688,null,0,ru,[BE],null,null)],(function(t,e){t(e,1,0),t(e,4,0)}),null)}function JE(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,1,"app-main",[],null,null,null,QE,WE)),r.pb(1,114688,null,0,KE,[],null,null)],(function(t,e){t(e,1,0)}),null)}var YE=r.mb("app-main",KE,JE,{},{},[]);class ZE{constructor(){}ngOnInit(){}}var XE=r.ob({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f1823c 0,#f29153 100%);color:#fff;padding:30px;border-bottom-left-radius:30px;border-bottom-right-radius:30px}h2[_ngcontent-%COMP%]{font-size:35px}.arrow[_ngcontent-%COMP%]{height:25px;margin-bottom:20px}.humidity[_ngcontent-%COMP%], .temp[_ngcontent-%COMP%]{height:50px}.cog[_ngcontent-%COMP%]{height:30px}.upp[_ngcontent-%COMP%]{text-transform:uppercase}.humidity-container[_ngcontent-%COMP%], .parameters-container[_ngcontent-%COMP%], .room-name-container[_ngcontent-%COMP%], .temp-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.room-name-container[_ngcontent-%COMP%]{padding-bottom:35px;justify-content:space-between;align-items:center}.humidity-container[_ngcontent-%COMP%], .temp-container[_ngcontent-%COMP%]{align-items:center}.humidity-container[_ngcontent-%COMP%]{padding-left:25px}"]],data:{}});function tS(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,24,"header",[],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"img",[["alt","go-back"],["class","arrow"],["routerLink","/main"],["src","assets/simple_arrow.svg"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Bb(t,2).onClick()&&i),i}),null,null)),r.pb(2,16384,null,0,si,[ii,Wn,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.qb(3,0,null,null,3,"div",[["class","room-name-container"]],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Kitchen"])),(t()(),r.qb(6,0,null,null,0,"img",[["alt","options"],["class","cog"],["src","assets/cog_white.svg"]],null,null,null,null,null)),(t()(),r.qb(7,0,null,null,17,"div",[["class","parameters-container"]],null,null,null,null,null)),(t()(),r.qb(8,0,null,null,9,"div",[["class","temp-container"]],null,null,null,null,null)),(t()(),r.qb(9,0,null,null,0,"img",[["alt","temperature"],["class","temp"],["src","assets/temperature_white.svg"]],null,null,null,null,null)),(t()(),r.qb(10,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),r.qb(11,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["24"])),(t()(),r.qb(13,0,null,null,1,"sup",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["o"])),(t()(),r.Gb(-1,null,["C"])),(t()(),r.qb(16,0,null,null,1,"p",[["class","upp"]],null,null,null,null,null)),(t()(),r.Gb(-1,null,["temp"])),(t()(),r.qb(18,0,null,null,6,"div",[["class","humidity-container"]],null,null,null,null,null)),(t()(),r.qb(19,0,null,null,0,"img",[["alt","humidity"],["class","humidity"],["src","assets/drops_white.svg"]],null,null,null,null,null)),(t()(),r.qb(20,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["50%"])),(t()(),r.qb(23,0,null,null,1,"p",[["class","upp"]],null,null,null,null,null)),(t()(),r.Gb(-1,null,["humidity"]))],(function(t,e){t(e,2,0,"/main")}),null)}class eS{}class nS{constructor(t){this._elementRef=t}}const rS=os(is(rs(nS),"accent"));class iS extends rS{constructor(t,e,n,i,s,o){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=i,this._animationMode=o,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new r.m,this.input=new r.m,this.valueChange=new r.m,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Dt.a.EMPTY,this.tabIndex=parseInt(s)||0}get invert(){return this._invert}set invert(t){this._invert=Fi(t)}get max(){return this._max}set max(t){this._max=Ui(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Ui(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Ui(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Fi(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Ui(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=Ui(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Fi(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.vertical?`1, ${this.percent}, 1`:this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${t})`}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:t+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};return this._isMinValue&&this._thumbGap&&(e["padding"+(this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left")]=this._thumbGap+"px"),e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onMousedown(t){if(this.disabled||0!==t.button)return;const e=this.value;this._isSliding=!1,this._focusHostElement(),this._updateValueFromPosition({x:t.clientX,y:t.clientY}),e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())}_onSlide(t){if(this.disabled)return;this._isSliding||this._onSlideStart(null),t.preventDefault();let e=this.value;this._updateValueFromPosition({x:t.center.x,y:t.center.y}),e!=this.value&&this._emitInputEvent()}_onSlideStart(t){this.disabled||this._isSliding||(this._onMouseenter(),this._isSliding=!0,this._focusHostElement(),this._valueOnSlideStart=this.value,t&&(this._updateValueFromPosition({x:t.center.x,y:t.center.y}),t.preventDefault()))}_onSlideEnd(){this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=null}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))return;const e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new eS;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}class sS{}var oS=r.ob({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider.mat-slider-sliding:not(.mat-slider-disabled),.mat-slider:not(.mat-slider-disabled):active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}@media (-ms-high-contrast:active){.mat-slider-thumb-label{outline:solid 1px}}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function aS(t){return r.Hb(2,[r.Eb(671088640,1,{_sliderWrapper:0}),(t()(),r.qb(1,0,[[1,0],["sliderWrapper",1]],null,21,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(t()(),r.qb(2,0,null,null,6,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,2,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),r.Db(512,null,b,_,[r.k,r.r,r.C]),r.pb(5,278528,null,0,E,[b],{ngStyle:[0,"ngStyle"]},null),(t()(),r.qb(6,0,null,null,2,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),r.Db(512,null,b,_,[r.k,r.r,r.C]),r.pb(8,278528,null,0,E,[b],{ngStyle:[0,"ngStyle"]},null),(t()(),r.qb(9,0,null,null,5,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),r.Db(512,null,b,_,[r.k,r.r,r.C]),r.pb(11,278528,null,0,E,[b],{ngStyle:[0,"ngStyle"]},null),(t()(),r.qb(12,0,null,null,2,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),r.Db(512,null,b,_,[r.k,r.r,r.C]),r.pb(14,278528,null,0,E,[b],{ngStyle:[0,"ngStyle"]},null),(t()(),r.qb(15,0,null,null,7,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),r.Db(512,null,b,_,[r.k,r.r,r.C]),r.pb(17,278528,null,0,E,[b],{ngStyle:[0,"ngStyle"]},null),(t()(),r.qb(18,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(t()(),r.qb(19,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(t()(),r.qb(20,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(t()(),r.qb(21,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(t()(),r.Gb(22,null,["",""]))],(function(t,e){var n=e.component;t(e,5,0,n._trackBackgroundStyles),t(e,8,0,n._trackFillStyles),t(e,11,0,n._ticksContainerStyles),t(e,14,0,n._ticksStyles),t(e,17,0,n._thumbContainerStyles)}),(function(t,e){t(e,22,0,e.component.displayValue)}))}class uS{constructor(){}ngOnInit(){}}var lS=r.ob({encapsulation:0,styles:[[".object[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:12px;display:flex;flex-direction:column;width:80vw;margin:15px}.object-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:15px}.object-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-bottom:20px}mat-slide-toggle[_ngcontent-%COMP%]{padding:10px}mat-slider[_ngcontent-%COMP%]{width:70vw;margin-left:8px}.lamp[_ngcontent-%COMP%]{height:60px;padding-right:20px}p[_ngcontent-%COMP%]{color:#b7b7b7}"]],data:{}});function cS(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,14,"div",[["class","object"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,10,"div",[["class","object-top"]],null,null,null,null,null)),(t()(),r.qb(2,0,null,null,6,"div",[["class","object-info"]],null,null,null,null,null)),(t()(),r.qb(3,0,null,null,0,"img",[["alt","lamp"],["class","lamp"],["src","assets/lamp_orange.svg"]],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.qb(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Lamp"])),(t()(),r.qb(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["65% Brightness"])),(t()(),r.qb(9,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,11)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(11,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(12,0,null,null,2,"mat-slider",[["class","mat-slider"],["max","100"],["min","1"],["role","slider"],["step","1"],["value","1"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-invert-mouse-coords",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"],[null,"selectstart"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,14)._onFocus()&&i),"blur"===e&&(i=!1!==r.Bb(t,14)._onBlur()&&i),"mousedown"===e&&(i=!1!==r.Bb(t,14)._onMousedown(n)&&i),"keydown"===e&&(i=!1!==r.Bb(t,14)._onKeydown(n)&&i),"keyup"===e&&(i=!1!==r.Bb(t,14)._onKeyup()&&i),"mouseenter"===e&&(i=!1!==r.Bb(t,14)._onMouseenter()&&i),"slide"===e&&(i=!1!==r.Bb(t,14)._onSlide(n)&&i),"slideend"===e&&(i=!1!==r.Bb(t,14)._onSlideEnd()&&i),"slidestart"===e&&(i=!1!==r.Bb(t,14)._onSlideStart(n)&&i),"selectstart"===e&&(i=!1!==n.preventDefault()&&i),i}),aS,oS)),r.Db(5120,null,qi,(function(t){return[t]}),[iS]),r.pb(14,245760,null,0,iS,[r.k,Xi,r.h,[2,Ds],[8,null],[2,Xa]],{max:[0,"max"],min:[1,"min"],step:[2,"step"],value:[3,"value"]},null),(t()(),r.qb(15,0,null,null,17,"div",[["class","object"]],null,null,null,null,null)),(t()(),r.qb(16,0,null,null,13,"div",[["class","object-top"]],null,null,null,null,null)),(t()(),r.qb(17,0,null,null,9,"div",[["class","object-info"]],null,null,null,null,null)),(t()(),r.qb(18,0,null,null,0,"img",[["alt","lamp"],["class","lamp"],["src","assets/fridge_orange.svg"]],null,null,null,null,null)),(t()(),r.qb(19,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),r.qb(20,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Fridge"])),(t()(),r.qb(22,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["5"])),(t()(),r.qb(24,0,null,null,1,"sup",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["o"])),(t()(),r.Gb(-1,null,["C temperature"])),(t()(),r.qb(27,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,29)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(29,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(30,0,null,null,2,"mat-slider",[["class","mat-slider"],["max","15"],["min","1"],["role","slider"],["step","1"],["value","1"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-invert-mouse-coords",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"],[null,"selectstart"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,32)._onFocus()&&i),"blur"===e&&(i=!1!==r.Bb(t,32)._onBlur()&&i),"mousedown"===e&&(i=!1!==r.Bb(t,32)._onMousedown(n)&&i),"keydown"===e&&(i=!1!==r.Bb(t,32)._onKeydown(n)&&i),"keyup"===e&&(i=!1!==r.Bb(t,32)._onKeyup()&&i),"mouseenter"===e&&(i=!1!==r.Bb(t,32)._onMouseenter()&&i),"slide"===e&&(i=!1!==r.Bb(t,32)._onSlide(n)&&i),"slideend"===e&&(i=!1!==r.Bb(t,32)._onSlideEnd()&&i),"slidestart"===e&&(i=!1!==r.Bb(t,32)._onSlideStart(n)&&i),"selectstart"===e&&(i=!1!==n.preventDefault()&&i),i}),aS,oS)),r.Db(5120,null,qi,(function(t){return[t]}),[iS]),r.pb(32,245760,null,0,iS,[r.k,Xi,r.h,[2,Ds],[8,null],[2,Xa]],{max:[0,"max"],min:[1,"min"],step:[2,"step"],value:[3,"value"]},null),(t()(),r.qb(33,0,null,null,17,"div",[["class","object"]],null,null,null,null,null)),(t()(),r.qb(34,0,null,null,13,"div",[["class","object-top"]],null,null,null,null,null)),(t()(),r.qb(35,0,null,null,9,"div",[["class","object-info"]],null,null,null,null,null)),(t()(),r.qb(36,0,null,null,0,"img",[["alt","lamp"],["class","lamp"],["src","assets/air_orange.svg"]],null,null,null,null,null)),(t()(),r.qb(37,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),r.qb(38,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Air conditioner"])),(t()(),r.qb(40,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["20"])),(t()(),r.qb(42,0,null,null,1,"sup",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["o"])),(t()(),r.Gb(-1,null,["C temperature"])),(t()(),r.qb(45,0,null,null,2,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"focus"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,47)._inputElement.nativeElement.focus()&&i),i}),nu,eu)),r.Db(5120,null,qi,(function(t){return[t]}),[Is]),r.pb(47,1228800,null,0,Is,[r.k,Xi,r.h,[8,null],r.x,_s,[2,Xa],[2,Ds]],null,null),(t()(),r.qb(48,0,null,null,2,"mat-slider",[["class","mat-slider"],["max","50"],["min","1"],["role","slider"],["step","1"],["value","1"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-invert-mouse-coords",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"],[null,"selectstart"]],(function(t,e,n){var i=!0;return"focus"===e&&(i=!1!==r.Bb(t,50)._onFocus()&&i),"blur"===e&&(i=!1!==r.Bb(t,50)._onBlur()&&i),"mousedown"===e&&(i=!1!==r.Bb(t,50)._onMousedown(n)&&i),"keydown"===e&&(i=!1!==r.Bb(t,50)._onKeydown(n)&&i),"keyup"===e&&(i=!1!==r.Bb(t,50)._onKeyup()&&i),"mouseenter"===e&&(i=!1!==r.Bb(t,50)._onMouseenter()&&i),"slide"===e&&(i=!1!==r.Bb(t,50)._onSlide(n)&&i),"slideend"===e&&(i=!1!==r.Bb(t,50)._onSlideEnd()&&i),"slidestart"===e&&(i=!1!==r.Bb(t,50)._onSlideStart(n)&&i),"selectstart"===e&&(i=!1!==n.preventDefault()&&i),i}),aS,oS)),r.Db(5120,null,qi,(function(t){return[t]}),[iS]),r.pb(50,245760,null,0,iS,[r.k,Xi,r.h,[2,Ds],[8,null],[2,Xa]],{max:[0,"max"],min:[1,"min"],step:[2,"step"],value:[3,"value"]},null)],(function(t,e){t(e,14,0,"100","1","1","1"),t(e,32,0,"15","1","1","1"),t(e,50,0,"50","1","1","1")}),(function(t,e){t(e,9,0,r.Bb(e,11).id,r.Bb(e,11).disabled?null:-1,null,null,r.Bb(e,11).checked,r.Bb(e,11).disabled,"before"==r.Bb(e,11).labelPosition,"NoopAnimations"===r.Bb(e,11)._animationMode),t(e,12,1,[r.Bb(e,14).tabIndex,r.Bb(e,14).disabled,r.Bb(e,14).max,r.Bb(e,14).min,r.Bb(e,14).value,r.Bb(e,14).vertical?"vertical":"horizontal",r.Bb(e,14).disabled,r.Bb(e,14).tickInterval,!r.Bb(e,14).vertical,r.Bb(e,14)._invertAxis,r.Bb(e,14)._shouldInvertMouseCoords(),r.Bb(e,14)._isSliding,r.Bb(e,14).thumbLabel,r.Bb(e,14).vertical,r.Bb(e,14)._isMinValue,r.Bb(e,14).disabled||r.Bb(e,14)._isMinValue&&r.Bb(e,14)._thumbGap&&r.Bb(e,14)._invertAxis,"NoopAnimations"===r.Bb(e,14)._animationMode]),t(e,27,0,r.Bb(e,29).id,r.Bb(e,29).disabled?null:-1,null,null,r.Bb(e,29).checked,r.Bb(e,29).disabled,"before"==r.Bb(e,29).labelPosition,"NoopAnimations"===r.Bb(e,29)._animationMode),t(e,30,1,[r.Bb(e,32).tabIndex,r.Bb(e,32).disabled,r.Bb(e,32).max,r.Bb(e,32).min,r.Bb(e,32).value,r.Bb(e,32).vertical?"vertical":"horizontal",r.Bb(e,32).disabled,r.Bb(e,32).tickInterval,!r.Bb(e,32).vertical,r.Bb(e,32)._invertAxis,r.Bb(e,32)._shouldInvertMouseCoords(),r.Bb(e,32)._isSliding,r.Bb(e,32).thumbLabel,r.Bb(e,32).vertical,r.Bb(e,32)._isMinValue,r.Bb(e,32).disabled||r.Bb(e,32)._isMinValue&&r.Bb(e,32)._thumbGap&&r.Bb(e,32)._invertAxis,"NoopAnimations"===r.Bb(e,32)._animationMode]),t(e,45,0,r.Bb(e,47).id,r.Bb(e,47).disabled?null:-1,null,null,r.Bb(e,47).checked,r.Bb(e,47).disabled,"before"==r.Bb(e,47).labelPosition,"NoopAnimations"===r.Bb(e,47)._animationMode),t(e,48,1,[r.Bb(e,50).tabIndex,r.Bb(e,50).disabled,r.Bb(e,50).max,r.Bb(e,50).min,r.Bb(e,50).value,r.Bb(e,50).vertical?"vertical":"horizontal",r.Bb(e,50).disabled,r.Bb(e,50).tickInterval,!r.Bb(e,50).vertical,r.Bb(e,50)._invertAxis,r.Bb(e,50)._shouldInvertMouseCoords(),r.Bb(e,50)._isSliding,r.Bb(e,50).thumbLabel,r.Bb(e,50).vertical,r.Bb(e,50)._isMinValue,r.Bb(e,50).disabled||r.Bb(e,50)._isMinValue&&r.Bb(e,50)._thumbGap&&r.Bb(e,50)._invertAxis,"NoopAnimations"===r.Bb(e,50)._animationMode])}))}class hS{constructor(t){this.firestore=t}ngOnInit(){}}var dS=r.ob({encapsulation:0,styles:[[".room-background[_ngcontent-%COMP%]{background-color:#eaeaea;height:100vh}section[_ngcontent-%COMP%]{background-color:#eaeaea;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:15px}"]],data:{}});function fS(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,5,"div",[["class","room-background"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"app-room-header",[],null,null,null,tS,XE)),r.pb(2,114688,null,0,ZE,[],null,null),(t()(),r.qb(3,0,null,null,2,"section",[],null,null,null,null,null)),(t()(),r.qb(4,0,null,null,1,"app-object",[],null,null,null,cS,lS)),r.pb(5,114688,null,0,uS,[],null,null)],(function(t,e){t(e,2,0),t(e,5,0)}),null)}function pS(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,1,"app-room-content",[],null,null,null,fS,dS)),r.pb(1,114688,null,0,hS,[BE],null,null)],(function(t,e){t(e,1,0)}),null)}var mS=r.mb("app-room-content",hS,pS,{},{},[]),gS=r.ob({encapsulation:0,styles:[["router-outlet[_ngcontent-%COMP%]{flex:1 0 auto}"]],data:{}});function yS(t){return r.Hb(0,[(t()(),r.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(1,212992,null,0,li,[ui,r.N,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function vS(t){return r.Hb(0,[(t()(),r.qb(0,0,null,null,1,"app-root",[],null,null,null,yS,gS)),r.pb(1,49152,null,0,s,[],null,null)],null,null)}var bS=r.mb("app-root",s,vS,{},{},[]);class _S{}var wS=r.nb(i,[s],(function(t){return r.yb([r.zb(512,r.j,r.Z,[[8,[Pi,YE,mS,bS]],[3,r.j],r.v]),r.zb(5120,r.s,r.kb,[[3,r.s]]),r.zb(4608,y,v,[r.s,[2,g]]),r.zb(5120,r.gb,r.lb,[r.x]),r.zb(5120,r.c,r.hb,[]),r.zb(5120,r.q,r.ib,[]),r.zb(5120,r.r,r.jb,[]),r.zb(4608,ke,Ae,[T]),r.zb(6144,r.F,null,[ke]),r.zb(4608,Se,hs,[[2,us],[2,ns]]),r.zb(5120,Zt,(function(t,e,n,r,i,s,o,a){return[new we(t,e,n),new Ce(r),new Ie(i,s,o,a)]}),[T,r.x,r.z,T,T,Se,r.ab,[2,Te]]),r.zb(4608,Xt,Xt,[Zt,r.x]),r.zb(135680,ne,ne,[T]),r.zb(4608,ae,ae,[Xt,ne,r.c]),r.zb(5120,ao,Ja,[]),r.zb(5120,Yo,Ya,[]),r.zb(4608,Ta,Qa,[T,ao,Yo]),r.zb(5120,r.D,Za,[ae,Ta,r.x]),r.zb(6144,ee,null,[ne]),r.zb(4608,r.K,r.K,[r.x]),r.zb(5120,Wn,xi,[ii]),r.zb(4608,fi,fi,[]),r.zb(6144,hi,null,[fi]),r.zb(135680,pi,pi,[ii,r.u,r.i,r.p,hi]),r.zb(4608,di,di,[]),r.zb(5120,mi,wi,[ii,x,gi]),r.zb(5120,Ai,ki,[Oi]),r.zb(5120,r.b,(function(t){return[t]}),[Ai]),r.zb(4608,Rs,za,[r.D,T]),r.zb(4608,Cs,Cs,[]),r.zb(5120,cu.d,cu.h,[cu.c,r.x,[2,cu.b]]),r.zb(4608,BE,BE,[cu.c,[2,cu.b],[2,FE],[2,VE],r.z,r.x,[2,UE],[2,qE],[2,CE]]),r.zb(1073742336,S,S,[]),r.zb(1024,r.l,Ue,[]),r.zb(1024,r.w,(function(){return[bi()]}),[]),r.zb(512,Oi,Oi,[r.p]),r.zb(1024,r.d,(function(t,e){return[(n=t,Qt("probe",Yt),Qt("coreTokens",Object.assign({},Jt,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Yt),Ci(e)];var n}),[[2,r.w],Oi]),r.zb(512,r.e,r.e,[[2,r.d]]),r.zb(131584,r.g,r.g,[r.x,r.ab,r.p,r.l,r.j,r.e]),r.zb(1073742336,r.f,r.f,[r.g]),r.zb(1073742336,Ve,Ve,[[3,Ve]]),r.zb(1024,yi,Si,[[3,ii]]),r.zb(512,xn,On,[]),r.zb(512,ui,ui,[]),r.zb(256,gi,{},[]),r.zb(1024,u,Ei,[o,[2,l],gi]),r.zb(512,c,c,[u,o]),r.zb(512,r.i,r.i,[]),r.zb(512,r.u,r.I,[r.i,[2,r.J]]),r.zb(1024,Yr,(function(){return[[{path:"main",component:KE},{path:"room",component:hS}]]}),[]),r.zb(1024,ii,Ii,[r.g,xn,ui,c,r.p,r.u,r.i,Yr,gi,[2,Xr],[2,Qr]]),r.zb(1073742336,_i,_i,[[2,yi],[2,ii]]),r.zb(1073742336,_S,_S,[]),r.zb(1073742336,tu,tu,[]),r.zb(1073742336,Ps,Ps,[]),r.zb(1073742336,ns,ns,[[2,es],[2,Te]]),r.zb(1073742336,sS,sS,[]),r.zb(1073742336,xs,xs,[]),r.zb(1073742336,$i,$i,[]),r.zb(1073742336,bs,bs,[]),r.zb(1073742336,Ns,Ns,[]),r.zb(1073742336,Os,Os,[]),r.zb(1073742336,cu.a,cu.a,[r.z]),r.zb(1073742336,HE,HE,[]),r.zb(1073742336,i,i,[]),r.zb(256,r.Y,!0,[]),r.zb(256,Xa,"BrowserAnimations",[]),r.zb(256,cu.c,{apiKey:"AIzaSyCrp59njl4b9pvKBDmlCnQDO3Sm0-BTdfg",authDomain:"smarthome-b53e5.firebaseapp.com",databaseURL:"https://smarthome-b53e5-default-rtdb.firebaseio.com",projectId:"smarthome-b53e5",storageBucket:"smarthome-b53e5.appspot.com",messagingSenderId:"286443228325"},[]),r.zb(256,cu.b,void 0,[])])}));Object(r.R)(),Fe().bootstrapModuleFactory(wS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);